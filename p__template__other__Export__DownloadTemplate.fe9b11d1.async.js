(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[209],{90625:function(A,y,n){"use strict";n.r(y);var p=n(66456),L=n(15885),c=n(57663),R=n(71577),C=n(88983),m=n(47933),E=n(11849),i=n(39428),g=n(3182),d=n(2824),u=n(3382),f=n(67265),t=n(67294),a=n(54701),l=n(84340),e=n(85893);function S(P){var h=(0,t.useState)(!1),w=(0,d.Z)(h,2),x=w[0],B=w[1],Y=(0,t.useState)(""),b=(0,d.Z)(Y,2),M=b[0],U=b[1],z=(0,t.useState)([]),j=(0,d.Z)(z,2),K=j[0],W=j[1],J=(0,t.useState)({list:[],total:0,current:1,pageSize:10}),k=(0,d.Z)(J,2),v=k[0],V=k[1];(0,t.useEffect)(function(){var _={userId:"001",pageIndex:1,pageSize:10};Z(_),H()},[]);var Z=function(){var _=(0,g.Z)((0,i.Z)().mark(function s(r){var o;return(0,i.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return B(!0),T.next=3,u.Z.getList(r);case 3:o=T.sent,B(!1),o&&o.success&&V({list:o.data.list,total:o.data.total,current:o.data.current,pageSize:o.data.pageSize});case 6:case"end":return T.stop()}},s)}));return function(r){return _.apply(this,arguments)}}(),H=function(){var _=(0,g.Z)((0,i.Z)().mark(function s(){var r,o,I;return(0,i.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return r=["node_status","complate_condition"],D.next=3,u.Z.getDicList(r);case 3:o=D.sent,I=o.data.map(function(O){return(0,E.Z)((0,E.Z)({},O),{},{label:O.constantKey,value:O.constantValue})}),W(I);case 6:case"end":return D.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),G=function(){var s=Math.ceil(v.total/v.pageSize);return"\u603B\u5171".concat(v.total,"\u6761\u6570\u636E,\u7B2C").concat(v.current,"/").concat(s,"\u9875")},F=function(s){var r={userId:"001",pageIndex:s.current,pageSize:s.pageSize};Z(r)},$=function(){var s=N.map(function(T){return T.title}),r=a.P6.json_to_sheet([]);a.P6.sheet_add_aoa(r,[s],{origin:"A1"}),(0,l.wf)(r,6);var o=a.P6.book_new();a.P6.book_append_sheet(o,r);var I=(0,l.uf)(o);(0,l.$x)(I,"".concat(Date.now(),".xlsx"))},Q=function(){var s=v.list;M&&(s=v.list.filter(function(T){return T.id===M}));var r=a.P6.json_to_sheet(s);(0,l.wf)(r,6);var o=a.P6.book_new();a.P6.book_append_sheet(o,r);var I=(0,l.uf)(o);(0,l.$x)(I,"".concat(Date.now(),".xlsx"))},N=[{title:"\u9009\u62E9",dataIndex:"action",key:"action",render:function(s,r){return(0,e.jsx)("span",{children:(0,e.jsx)(m.ZP.Group,{value:M,onChange:function(I){return U(I.target.value)},children:(0,e.jsx)(m.ZP,{value:r.id})})})}},{title:"\u8D22\u52A1\u62A5\u8868\u7C7B\u578B",dataIndex:"ReportNm",key:"ReportNm",render:function(s){var r=K.filter(function(o){return o.constantValue===s&&o.parentId==="node_status"});return r.length>0?r[0].constantKey:""}},{title:"\u62A5\u8868\u65F6\u95F4",dataIndex:"ReportYearMonth",key:"ReportYearMonth"},{title:"\u62A5\u8868\u5468\u671F\u7C7B\u578B",dataIndex:"ReportCycleTypeCd",key:"ReportCycleTypeCd",render:function(s){var r=K.filter(function(o){return o.constantValue===s&&o.parentId==="complate_condition"});return r.length>0?r[0].constantKey:""}}];return(0,e.jsxs)(f.ZP,{loading:x,children:[(0,e.jsx)(R.Z,{type:"primary",onClick:$,children:"\u4E0B\u8F7D\u6A21\u677F"}),(0,e.jsx)(R.Z,{type:"primary",onClick:Q,style:{marginLeft:"10px"},children:"\u5BFC\u51FA"}),(0,e.jsx)(L.Z,{pagination:{total:v.total,current:v.current,pageSize:v.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:G},dataSource:v.list,columns:N,bordered:!0,loading:x,rowKey:"id",onChange:F,onRow:function(s){return{onClick:function(){U(s.id)}}}})]})}y.default=S},84340:function(A,y,n){"use strict";n.d(y,{wf:function(){return R},uf:function(){return C},$x:function(){return m}});var p=n(54701),L=n(22355),c=n.n(L),R=function(i,g){for(var d=p.P6.decode_range(i["!ref"]),u=[],f=0;f<g;f++)u.push({wch:30});i["!cols"]=u;for(var t=d.s.c;t<d.e.c+1;t++)for(var a=d.s.r;a<d.e.r+1;a++){var l={c:t,r:a},e=p.P6.encode_cell(l);e==="A1"||e==="B1"||e==="C1"||e==="D1"||e==="E1"||e==="F1"||e==="G1"||e==="H1"||e==="I1"||e==="J1"||e==="K1"||e==="L1"||e==="M1"||e==="N1"||e==="O1"||e==="P1"||e==="Q1"||e==="R1"||e==="S1"||e==="T1"||e==="U1"||e==="V1"||e==="W1"||e==="X1"||e==="Y1"||e==="Z1"?i[e].s={font:{name:"Calibri",sz:11,bold:!0,color:{rgb:"ffffff"}},fill:{fgColor:{rgb:"86bc25"}}}:i[e].s={font:{name:"Calibri",sz:11}}}},C=function(i){var g={bookType:"xlsx",bookSST:!1,type:"binary"},d=L.write(i,g);function u(t){for(var a=new ArrayBuffer(t.length),l=new Uint8Array(a),e=0;e!==t.length;++e)l[e]=t.charCodeAt(e)&255;return a}var f=new Blob([u(d)],{type:"application/octet-stream"});return f},m=function(i,g){typeof i=="object"&&i instanceof Blob&&(i=URL.createObjectURL(i));var d=document.createElement("a");d.href=i,d.download=g||"";var u;window.MouseEvent?u=new MouseEvent("click"):(u=document.createEvent("MouseEvents"),u.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)),d.dispatchEvent(u)}},3382:function(A,y,n){"use strict";n.d(y,{Z:function(){return u}});var p=n(11849),L={local:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},dev:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},prod:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},API:{AUTH:"/auth/",BUSINESS:"/business/"}},c={LOGIN_TOKEN_STORAGE:"loginToken",BASE_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp",TABLE_LIST:"table_list",DIC_LIST:"dic_list",API:{AUTH:L.API.AUTH,BUSINESS:L.API.BUSINESS}},R=n(30381),C=n.n(R),m={code:0,host:"4cAFRxJHwo2Pg2iGAgzEJ/xkAj/0VjxT1iCpl2ZwluLPvev2Bms=",message:"success",success:!0,timestamp:"2022-11-07 20:53:25",traceId:"8ad100f984516cc4018452271ca6000b",data:{list:[{id:"000001",ReportCycleTypeCd:"1",ReportYearMonth:"2021-02-08 18:29:45",ReportNm:"0"},{id:"000002",ReportCycleTypeCd:"3",ReportYearMonth:"1986-09-22 15:34:32",ReportNm:"1"},{id:"000003",ReportCycleTypeCd:"2",ReportYearMonth:"2015-01-25 12:31:12",ReportNm:"1"},{id:"000004",ReportCycleTypeCd:"4",ReportYearMonth:"2002-10-27 06:41:45",ReportNm:"1"},{id:"000005",ReportCycleTypeCd:"1",ReportYearMonth:"1975-12-25 10:54:41",ReportNm:"1"},{id:"000006",ReportCycleTypeCd:"4",ReportYearMonth:"1995-11-03 08:30:29",ReportNm:"2"},{id:"000007",ReportCycleTypeCd:"4",ReportYearMonth:"2000-03-24 03:40:01",ReportNm:"2"},{id:"000008",ReportCycleTypeCd:"3",ReportYearMonth:"2003-01-07 10:39:00",ReportNm:"0"},{id:"000009",ReportCycleTypeCd:"3",ReportYearMonth:"2005-02-23 23:54:26",ReportNm:"1"},{id:"0000010",ReportCycleTypeCd:"4",ReportYearMonth:"2004-01-20 07:19:32",ReportNm:"0"},{id:"0000011",ReportCycleTypeCd:"2",ReportYearMonth:"1981-08-08 07:40:03",ReportNm:"1"}],pageSize:10,total:11,current:1}};m.data.pageSize=10,m.data.total=m.data.list.length,m.data.current=1;var E=m,i={code:0,success:!0,message:"success",traceId:"8ad100f984516cc4018461370850031f",host:"y9ZoyVZO+ZRGLSyjRCPGAyoPAo/E/SQrfxh1OX1CFEOmDt2OrrQ=",timestamp:"2022-11-10 19:05:07",data:[{id:"node_processed",parentId:"node_status",constantKey:"\u8D44\u4EA7\u8D1F\u503A\u8868",constantValue:"0",description:"\u8D44\u4EA7\u8D1F\u503A\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_pending",parentId:"node_status",constantKey:"\u73B0\u91D1\u6D41\u91CF\u8868",constantValue:"1",description:"\u73B0\u91D1\u6D41\u91CF\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_in_process",parentId:"node_status",constantKey:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",constantValue:"2",description:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_rejected",parentId:"node_status",constantKey:"\u8D22\u52A1\u6307\u6807\u8868",constantValue:"3",description:"\u8D22\u52A1\u6307\u6807\u8868",createUser:null,constantRank:0,createTime:null,updateTime:null},{id:"all",parentId:"complate_condition",constantKey:"\u7B2C\u4E00\u5B63\u5EA6",constantValue:"1",description:"\u7B2C\u4E00\u5B63\u5EA6",createUser:"",constantRank:0,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"half",parentId:"complate_condition",constantKey:"\u7B2C\u4E8C\u5B63\u5EA6",constantValue:"2",description:"\u7B2C\u4E8C\u5B63\u5EA6",createUser:"",constantRank:1,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"any",parentId:"complate_condition",constantKey:"\u7B2C\u4E09\u5B63\u5EA6",constantValue:"3",description:"\u7B2C\u4E09\u5B63\u5EA6",createUser:"",constantRank:2,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"custom",parentId:"complate_condition",constantKey:"\u7B2C\u56DB\u5B63\u5EA6",constantValue:"4",description:"\u7B2C\u56DB\u5B63\u5EA6",createUser:null,constantRank:3,createTime:null,updateTime:null}]},g=i,d={getTableList:function(t){return new Promise(function(a,l){localStorage.getItem(c.TABLE_LIST)||localStorage.setItem(c.TABLE_LIST,JSON.stringify(E)),a(JSON.parse(localStorage.getItem(c.TABLE_LIST)))})},getList:function(t){return console.log("options",t),new Promise(function(a,l){localStorage.getItem(c.TABLE_LIST)||localStorage.setItem(c.TABLE_LIST,JSON.stringify(E));var e=JSON.parse(localStorage.getItem(c.TABLE_LIST)),S=Math.ceil(e.data.total/t.pageSize);if(S<1){a((0,p.Z)((0,p.Z)({},e),{},{data:{pageSize:t.pageSize,list:[],total:0,current:1}}));return}if(t.pageIndex===1){a((0,p.Z)((0,p.Z)({},e),{},{data:{pageSize:t.pageSize,list:e.data.list.filter(function(P,h){return h<t.pageIndex*t.pageSize}),total:e.data.total,current:t.pageIndex}}));return}a((0,p.Z)((0,p.Z)({},e),{},{data:{pageSize:t.pageSize,list:e.data.list.filter(function(P,h){return h>=(t.pageIndex-1)*t.pageSize&&h<t.pageIndex*t.pageSize}),total:e.data.total,current:t.pageIndex}}))})},getDicList:function(t){return new Promise(function(a,l){localStorage.getItem(c.DIC_LIST)||localStorage.setItem(c.DIC_LIST,JSON.stringify(g)),a(JSON.parse(localStorage.getItem(c.DIC_LIST)))})},addList:function(t){return new Promise(function(a,l){var e=JSON.parse(localStorage.getItem(c.TABLE_LIST)),S=(0,p.Z)((0,p.Z)({},t),{},{id:Date.now().toString()});e.data.list.unshift(S),e.data.total=e.data.list.length,localStorage.setItem(c.TABLE_LIST,JSON.stringify(e)),a({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:C()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},editList:function(t){return new Promise(function(a,l){var e=JSON.parse(localStorage.getItem(c.TABLE_LIST)),S=e.data.list.map(function(P){return P.id===t.id?t:P});e.data.list=S,e.data.total=S.length,localStorage.setItem(c.TABLE_LIST,JSON.stringify(e)),a({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:C()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},deleteList:function(t){return new Promise(function(a,l){var e=JSON.parse(localStorage.getItem(c.TABLE_LIST));e.data.list=e.data.list.filter(function(S){return S.id!==t}),e.data.total=e.data.list.length,localStorage.setItem(c.TABLE_LIST,JSON.stringify(e)),a({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:C()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})}},u=d},80950:function(){},46601:function(){},89214:function(){},96419:function(){},56353:function(){},8623:function(){},7748:function(){},85568:function(){},69386:function(){},31616:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},55792:function(){},20067:function(){}}]);
