(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7462],{58286:function(j,C){"use strict";var e={dataSource:[],columns:[],formItemLayout:{labelCol:{},wrapperCol:{}}};e.dataSource=[{id:"1",ClassifyNm:"\u57FA\u672C\u60C5\u51B5",ChineseNm:"\u5E74\u9F84",EnglistNm:"20",point:"50",balance:"50",day:"1"},{id:"2",ClassifyNm:"\u57FA\u672C\u60C5\u51B5",ChineseNm:"\u5A5A\u59FB\u72B6\u51B5",EnglistNm:"19",point:"40",balance:"40",day:"1"},{id:"3",ClassifyNm:"\u57FA\u672C\u60C5\u51B5",ChineseNm:"\u804C\u52A1",EnglistNm:"18",point:"60",balance:"120",day:"2"},{id:"4",ClassifyNm:"\u57FA\u672C\u60C5\u51B5",ChineseNm:"\u4ECE\u4E1A\u5E74\u9650",EnglistNm:"17",point:"70",balance:"210",day:"3"},{id:"5",ClassifyNm:"\u8D44\u4EA7\u53CA\u6536\u5165\u60C5\u51B5",ChineseNm:"\u5BB6\u5EAD\u56FA\u5B9A\u8D44\u4EA7",EnglistNm:"16",point:"80",balance:"80",day:"1"},{id:"6",ClassifyNm:"\u8D44\u4EA7\u53CA\u6536\u5165\u60C5\u51B5",ChineseNm:"\u4F4F\u623F",EnglistNm:"15",point:"98",balance:"98",day:"1"},{id:"7",ClassifyNm:"\u8D44\u4EA7\u53CA\u6536\u5165\u60C5\u51B5",ChineseNm:"\u672C\u4EBA\u5E74\u6536\u5165",EnglistNm:"14",point:"66",balance:"132",day:"2"},{id:"8",ClassifyNm:"\u8D44\u4EA7\u53CA\u6536\u5165\u60C5\u51B5",ChineseNm:"\u5BB6\u5EAD\u4EBA\u5747\u5E74\u6536\u5165",EnglistNm:"13",point:"72",balance:"72",day:"1"},{id:"9",ClassifyNm:"\u4FE1\u7528\u60C5\u51B5",ChineseNm:"\u6700\u957F\u903E\u671F\u6708\u6570",EnglistNm:"12",point:"65",balance:"65",day:"1"},{id:"10",ClassifyNm:"\u4FE1\u7528\u60C5\u51B5",ChineseNm:"\u8D37\u6B3E\u8BB0\u5F55",EnglistNm:"11",point:"73",balance:"73",day:"1"},{id:"11",ClassifyNm:"\u4FE1\u7528\u60C5\u51B5",ChineseNm:"\u4ED8\u606F\u8BB0\u5F55",EnglistNm:"10",point:"54",balance:"54",day:"1"},{id:"12",ClassifyNm:"\u4FE1\u7528\u60C5\u51B5",ChineseNm:"\u662F\u5426\u519C\u5546\u884C\u4EE3\u53D1\u5DE5\u8D44",EnglistNm:"19",point:"22",balance:"44",day:"2"}],e.columns=[{title:"\u7EC4\u522B",dataIndex:"ClassifyNm",key:"ClassifyNm"},{title:"\u6307\u6807",dataIndex:"ChineseNm",key:"ChineseNm"},{title:"\u9009\u9879",dataIndex:"EnglistNm",key:"EnglistNm"},{title:"\u6807\u51C6\u5F97\u5206",dataIndex:"point",key:"point"}],e.formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:10}}},C.Z=e},59442:function(j,C,e){"use strict";e.r(C);var m=e(71194),h=e(50146),o=e(43185),P=e(94412),R=e(47673),E=e(4107),N=e(66456),O=e(15885),b=e(57663),D=e(71577),A=e(86582),S=e(34792),n=e(48086),r=e(11849),c=e(39428),t=e(3182),p=e(9715),f=e(71257),u=e(2824),K=e(3382),V=e(82084),T=e(67294),H=e(84391),G=e(58286),_=e(85893);function $(){var Q=(0,T.useState)(!1),x=(0,u.Z)(Q,2),W=x[0],M=x[1],X=(0,T.useState)(!1),Y=(0,u.Z)(X,2),q=Y[0],U=Y[1],ee=f.Z.useForm(),te=(0,u.Z)(ee,1),Z=te[0],ae=(0,T.useState)([]),F=(0,u.Z)(ae,2),w=F[0],ne=F[1],se=(0,T.useState)([]),z=(0,u.Z)(se,2),v=z[0],B=z[1],re=(0,T.useState)({list:[],total:0,current:1,pageSize:10}),k=(0,u.Z)(re,2),g=k[0],ie=k[1];(0,T.useEffect)(function(){var l={userId:"001",pageIndex:1,pageSize:10};J(l),oe()},[]);var J=function(){var l=(0,t.Z)((0,c.Z)().mark(function a(i){var s;return(0,c.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return M(!0),I.next=3,K.Z.getList(i);case 3:s=I.sent,M(!1),s&&s.success&&ie({list:s.data.list,total:s.data.total,current:s.data.current,pageSize:s.data.pageSize});case 6:case"end":return I.stop()}},a)}));return function(i){return l.apply(this,arguments)}}(),oe=function(){var l=(0,t.Z)((0,c.Z)().mark(function a(){var i,s,L;return(0,c.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=["node_status","complate_condition"],d.next=3,K.Z.getDicList(i);case 3:s=d.sent,L=s.data.map(function(y){return(0,r.Z)((0,r.Z)({},y),{},{label:y.constantKey,value:y.constantValue})}),ne(L);case 6:case"end":return d.stop()}},a)}));return function(){return l.apply(this,arguments)}}(),le=function(){var a=Math.ceil(g.total/g.pageSize);return"\u603B\u5171".concat(g.total,"\u6761\u6570\u636E,\u7B2C").concat(g.current,"/").concat(a,"\u9875")},de=function(a){var i={userId:"001",pageIndex:a.current,pageSize:a.pageSize};J(i)},ce=function(){var l=(0,t.Z)((0,c.Z)().mark(function a(){var i,s,L;return(0,c.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Z.validateFields();case 2:if(i=d.sent,!i){d.next=12;break}return s=new FormData,v.forEach(function(y){s.append("files[]",y)}),M(!0),d.next=9,fetch("https://www.mocky.io/v2/5cc8019d300000980a055e76",{method:"POST",body:s}).then(function(y){return y.json()});case 9:L=d.sent,M(!1),L&&(B([]),n.ZP.success("\u4E0A\u4F20\u6210\u529F"),U(!1),Z.resetFields());case 12:case"end":return d.stop()}},a)}));return function(){return l.apply(this,arguments)}}(),ue=function(a){return console.log("Upload event:",a),Array.isArray(a)?a:a==null?void 0:a.fileList},_e={onRemove:function(a){var i=v.indexOf(a),s=v.slice();s.splice(i,1),B(s)},beforeUpload:function(a){return B([].concat((0,A.Z)(v),[a])),!1},fileList:v},me=[{title:"id",dataIndex:"id",key:"id"},{title:"\u8D22\u52A1\u62A5\u8868\u7C7B\u578B",dataIndex:"ReportNm",key:"ReportNm",render:function(a){var i=w.filter(function(s){return s.constantValue===a&&s.parentId==="node_status"});return i.length>0?i[0].constantKey:""}},{title:"\u62A5\u8868\u65F6\u95F4",dataIndex:"ReportYearMonth",key:"ReportYearMonth"},{title:"\u62A5\u8868\u5468\u671F\u7C7B\u578B",dataIndex:"ReportCycleTypeCd",key:"ReportCycleTypeCd",render:function(a){var i=w.filter(function(s){return s.constantValue===a&&s.parentId==="complate_condition"});return i.length>0?i[0].constantKey:""}}];return(0,_.jsxs)(V.ZP,{children:[(0,_.jsx)(D.Z,{type:"primary",onClick:function(){return U(!0)},children:"\u5BFC\u5165"}),(0,_.jsx)(O.Z,{pagination:{total:g.total,current:g.current,pageSize:g.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:le},dataSource:g.list,columns:me,bordered:!0,loading:W,rowKey:"id",onChange:de}),(0,_.jsx)(h.Z,{confirmLoading:W,title:"\u5BFC\u5165",open:q,onOk:ce,onCancel:function(){return U(!1)},width:"40%",children:(0,_.jsxs)(f.Z,(0,r.Z)((0,r.Z)({name:"add_form",form:Z},G.Z.formItemLayout),{},{children:[(0,_.jsx)(f.Z.Item,{label:"\u7F16\u53F7",name:"id",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],children:(0,_.jsx)(E.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,_.jsx)(f.Z.Item,{label:"\u9644\u4EF6",name:"file",valuePropName:"fileList",getValueFromEvent:ue,rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],children:(0,_.jsx)(P.Z,(0,r.Z)((0,r.Z)({},_e),{},{children:(0,_.jsx)(D.Z,{icon:(0,_.jsx)(H.Z,{}),children:"\u70B9\u51FB\u4E0A\u4F20"})}))})]}))})]})}C.default=$},3382:function(j,C,e){"use strict";e.d(C,{Z:function(){return A}});var m=e(11849),h={local:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},dev:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},prod:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},API:{AUTH:"/auth/",BUSINESS:"/business/"}},o={LOGIN_TOKEN_STORAGE:"loginToken",BASE_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp",TABLE_LIST:"table_list",DIC_LIST:"dic_list",API:{AUTH:h.API.AUTH,BUSINESS:h.API.BUSINESS}},P=e(30381),R=e.n(P),E={code:0,host:"4cAFRxJHwo2Pg2iGAgzEJ/xkAj/0VjxT1iCpl2ZwluLPvev2Bms=",message:"success",success:!0,timestamp:"2022-11-07 20:53:25",traceId:"8ad100f984516cc4018452271ca6000b",data:{list:[{id:"000001",ReportCycleTypeCd:"1",ReportYearMonth:"2021-02-08 18:29:45",ReportNm:"0"},{id:"000002",ReportCycleTypeCd:"3",ReportYearMonth:"1986-09-22 15:34:32",ReportNm:"1"},{id:"000003",ReportCycleTypeCd:"2",ReportYearMonth:"2015-01-25 12:31:12",ReportNm:"1"},{id:"000004",ReportCycleTypeCd:"4",ReportYearMonth:"2002-10-27 06:41:45",ReportNm:"1"},{id:"000005",ReportCycleTypeCd:"1",ReportYearMonth:"1975-12-25 10:54:41",ReportNm:"1"},{id:"000006",ReportCycleTypeCd:"4",ReportYearMonth:"1995-11-03 08:30:29",ReportNm:"2"},{id:"000007",ReportCycleTypeCd:"4",ReportYearMonth:"2000-03-24 03:40:01",ReportNm:"2"},{id:"000008",ReportCycleTypeCd:"3",ReportYearMonth:"2003-01-07 10:39:00",ReportNm:"0"},{id:"000009",ReportCycleTypeCd:"3",ReportYearMonth:"2005-02-23 23:54:26",ReportNm:"1"},{id:"0000010",ReportCycleTypeCd:"4",ReportYearMonth:"2004-01-20 07:19:32",ReportNm:"0"},{id:"0000011",ReportCycleTypeCd:"2",ReportYearMonth:"1981-08-08 07:40:03",ReportNm:"1"}],pageSize:10,total:11,current:1}};E.data.pageSize=10,E.data.total=E.data.list.length,E.data.current=1;var N=E,O={code:0,success:!0,message:"success",traceId:"8ad100f984516cc4018461370850031f",host:"y9ZoyVZO+ZRGLSyjRCPGAyoPAo/E/SQrfxh1OX1CFEOmDt2OrrQ=",timestamp:"2022-11-10 19:05:07",data:[{id:"node_processed",parentId:"node_status",constantKey:"\u8D44\u4EA7\u8D1F\u503A\u8868",constantValue:"0",description:"\u8D44\u4EA7\u8D1F\u503A\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_pending",parentId:"node_status",constantKey:"\u73B0\u91D1\u6D41\u91CF\u8868",constantValue:"1",description:"\u73B0\u91D1\u6D41\u91CF\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_in_process",parentId:"node_status",constantKey:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",constantValue:"2",description:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_rejected",parentId:"node_status",constantKey:"\u8D22\u52A1\u6307\u6807\u8868",constantValue:"3",description:"\u8D22\u52A1\u6307\u6807\u8868",createUser:null,constantRank:0,createTime:null,updateTime:null},{id:"all",parentId:"complate_condition",constantKey:"\u7B2C\u4E00\u5B63\u5EA6",constantValue:"1",description:"\u7B2C\u4E00\u5B63\u5EA6",createUser:"",constantRank:0,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"half",parentId:"complate_condition",constantKey:"\u7B2C\u4E8C\u5B63\u5EA6",constantValue:"2",description:"\u7B2C\u4E8C\u5B63\u5EA6",createUser:"",constantRank:1,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"any",parentId:"complate_condition",constantKey:"\u7B2C\u4E09\u5B63\u5EA6",constantValue:"3",description:"\u7B2C\u4E09\u5B63\u5EA6",createUser:"",constantRank:2,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"custom",parentId:"complate_condition",constantKey:"\u7B2C\u56DB\u5B63\u5EA6",constantValue:"4",description:"\u7B2C\u56DB\u5B63\u5EA6",createUser:null,constantRank:3,createTime:null,updateTime:null}]},b=O,D={getTableList:function(n){return new Promise(function(r,c){localStorage.getItem(o.TABLE_LIST)||localStorage.setItem(o.TABLE_LIST,JSON.stringify(N)),r(JSON.parse(localStorage.getItem(o.TABLE_LIST)))})},getList:function(n){return console.log("options",n),new Promise(function(r,c){localStorage.getItem(o.TABLE_LIST)||localStorage.setItem(o.TABLE_LIST,JSON.stringify(N));var t=JSON.parse(localStorage.getItem(o.TABLE_LIST)),p=Math.ceil(t.data.total/n.pageSize);if(p<1){r((0,m.Z)((0,m.Z)({},t),{},{data:{pageSize:n.pageSize,list:[],total:0,current:1}}));return}if(n.pageIndex===1){r((0,m.Z)((0,m.Z)({},t),{},{data:{pageSize:n.pageSize,list:t.data.list.filter(function(f,u){return u<n.pageIndex*n.pageSize}),total:t.data.total,current:n.pageIndex}}));return}r((0,m.Z)((0,m.Z)({},t),{},{data:{pageSize:n.pageSize,list:t.data.list.filter(function(f,u){return u>=(n.pageIndex-1)*n.pageSize&&u<n.pageIndex*n.pageSize}),total:t.data.total,current:n.pageIndex}}))})},getDicList:function(n){return new Promise(function(r,c){localStorage.getItem(o.DIC_LIST)||localStorage.setItem(o.DIC_LIST,JSON.stringify(b)),r(JSON.parse(localStorage.getItem(o.DIC_LIST)))})},addList:function(n){return new Promise(function(r,c){var t=JSON.parse(localStorage.getItem(o.TABLE_LIST)),p=(0,m.Z)((0,m.Z)({},n),{},{id:Date.now().toString()});t.data.list.unshift(p),t.data.total=t.data.list.length,localStorage.setItem(o.TABLE_LIST,JSON.stringify(t)),r({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:R()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},editList:function(n){return new Promise(function(r,c){var t=JSON.parse(localStorage.getItem(o.TABLE_LIST)),p=t.data.list.map(function(f){return f.id===n.id?n:f});t.data.list=p,t.data.total=p.length,localStorage.setItem(o.TABLE_LIST,JSON.stringify(t)),r({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:R()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},deleteList:function(n){return new Promise(function(r,c){var t=JSON.parse(localStorage.getItem(o.TABLE_LIST));t.data.list=t.data.list.filter(function(p){return p.id!==n}),t.data.total=t.data.list.length,localStorage.setItem(o.TABLE_LIST,JSON.stringify(t)),r({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:R()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})}},A=D}}]);
