(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[927],{84340:function(O,D,n){"use strict";n.d(D,{wf:function(){return P},uf:function(){return I},$x:function(){return f}});var p=n(54701),L=n(22355),l=n.n(L),P=function(i,S){for(var u=p.P6.decode_range(i["!ref"]),d=[],c=0;c<S;c++)d.push({wch:30});i["!cols"]=d;for(var t=u.s.c;t<u.e.c+1;t++)for(var r=u.s.r;r<u.e.r+1;r++){var m={c:t,r},e=p.P6.encode_cell(m);e==="A1"||e==="B1"||e==="C1"||e==="D1"||e==="E1"||e==="F1"||e==="G1"||e==="H1"||e==="I1"||e==="J1"||e==="K1"||e==="L1"||e==="M1"||e==="N1"||e==="O1"||e==="P1"||e==="Q1"||e==="R1"||e==="S1"||e==="T1"||e==="U1"||e==="V1"||e==="W1"||e==="X1"||e==="Y1"||e==="Z1"?i[e].s={font:{name:"Calibri",sz:11,bold:!0,color:{rgb:"ffffff"}},fill:{fgColor:{rgb:"86bc25"}}}:i[e].s={font:{name:"Calibri",sz:11}}}},I=function(i){var S={bookType:"xlsx",bookSST:!1,type:"binary"},u=L.write(i,S);function d(t){for(var r=new ArrayBuffer(t.length),m=new Uint8Array(r),e=0;e!==t.length;++e)m[e]=t.charCodeAt(e)&255;return r}var c=new Blob([d(u)],{type:"application/octet-stream"});return c},f=function(i,S){typeof i=="object"&&i instanceof Blob&&(i=URL.createObjectURL(i));var u=document.createElement("a");u.href=i,u.download=S||"";var d;window.MouseEvent?d=new MouseEvent("click"):(d=document.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)),u.dispatchEvent(d)}},77197:function(O,D,n){"use strict";n.r(D);var p=n(66456),L=n(15885),l=n(57663),P=n(71577),I=n(11849),f=n(39428),y=n(3182),i=n(2824),S=n(3382),u=n(67265),d=n(67294),c=n(54701),t=n(84340),r=n(85893);function m(e){var v=(0,d.useState)(!1),R=(0,i.Z)(v,2),h=R[0],b=R[1],Z=(0,d.useState)([]),x=(0,i.Z)(Z,2),M=x[0],w=x[1],j=(0,d.useState)([]),B=(0,i.Z)(j,2),U=B[0],Y=B[1],z=(0,d.useState)({list:[],total:0,current:1,pageSize:10}),k=(0,i.Z)(z,2),T=k[0],J=k[1];(0,d.useEffect)(function(){var _={userId:"001",pageIndex:1,pageSize:10};K(_),W()},[]);var K=function(){var _=(0,y.Z)((0,f.Z)().mark(function a(o){var s;return(0,f.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return b(!0),g.next=3,S.Z.getList(o);case 3:s=g.sent,b(!1),s&&s.success&&J({list:s.data.list,total:s.data.total,current:s.data.current,pageSize:s.data.pageSize});case 6:case"end":return g.stop()}},a)}));return function(o){return _.apply(this,arguments)}}(),W=function(){var _=(0,y.Z)((0,f.Z)().mark(function a(){var o,s,E;return(0,f.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return o=["node_status","complate_condition"],C.next=3,S.Z.getDicList(o);case 3:s=C.sent,E=s.data.map(function(A){return(0,I.Z)((0,I.Z)({},A),{},{label:A.constantKey,value:A.constantValue})}),Y(E);case 6:case"end":return C.stop()}},a)}));return function(){return _.apply(this,arguments)}}(),V=function(){var a=Math.ceil(T.total/T.pageSize);return"\u603B\u5171".concat(T.total,"\u6761\u6570\u636E,\u7B2C").concat(T.current,"/").concat(a,"\u9875")},H=function(a){var o={userId:"001",pageIndex:a.current,pageSize:a.pageSize};K(o)},F={selectedRowKeys:M,onChange:function(a){console.log("selectedRowKeys",a),w(a)}},G=function(a){var o=JSON.parse(JSON.stringify(M));if(M.indexOf(a.id)>-1){var s=o.filter(function(E){return E!==a.id});w(s)}else o.push(a.id),w(o)},$=function(){var a=N.map(function(g){return g.title}),o=c.P6.json_to_sheet([]);c.P6.sheet_add_aoa(o,[a],{origin:"A1"}),(0,t.wf)(o,6);var s=c.P6.book_new();c.P6.book_append_sheet(s,o);var E=(0,t.uf)(s);(0,t.$x)(E,"".concat(Date.now(),".xlsx"))},Q=function(){var a=[];M.length>0&&T.list.forEach(function(g){M.forEach(function(C){g.id===C&&a.push(g)})});var o=c.P6.json_to_sheet(M.length>0?a:T.list);(0,t.wf)(o,6);var s=c.P6.book_new();c.P6.book_append_sheet(s,o);var E=(0,t.uf)(s);(0,t.$x)(E,"".concat(Date.now(),".xlsx"))},N=[{title:"\u8D22\u52A1\u62A5\u8868\u7C7B\u578B",dataIndex:"ReportNm",key:"ReportNm",render:function(a){var o=U.filter(function(s){return s.constantValue===a&&s.parentId==="node_status"});return o.length>0?o[0].constantKey:""}},{title:"\u62A5\u8868\u65F6\u95F4",dataIndex:"ReportYearMonth",key:"ReportYearMonth"},{title:"\u62A5\u8868\u5468\u671F\u7C7B\u578B",dataIndex:"ReportCycleTypeCd",key:"ReportCycleTypeCd",render:function(a){var o=U.filter(function(s){return s.constantValue===a&&s.parentId==="complate_condition"});return o.length>0?o[0].constantKey:""}}];return(0,r.jsxs)(u.ZP,{loading:h,children:[(0,r.jsx)(P.Z,{type:"primary",onClick:$,children:"\u4E0B\u8F7D\u6A21\u677F"}),(0,r.jsx)(P.Z,{type:"primary",onClick:Q,style:{marginLeft:"10px"},children:"\u5BFC\u51FA"}),(0,r.jsx)(L.Z,{rowSelection:(0,I.Z)({type:"checkbox"},F),pagination:{total:T.total,current:T.current,pageSize:T.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:V},dataSource:T.list,columns:N,bordered:!0,loading:h,rowKey:"id",onChange:H,onRow:function(a){return{onClick:function(){return G(a)}}}})]})}D.default=m},3382:function(O,D,n){"use strict";n.d(D,{Z:function(){return d}});var p=n(11849),L={local:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},dev:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},prod:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},API:{AUTH:"/auth/",BUSINESS:"/business/"}},l={LOGIN_TOKEN_STORAGE:"loginToken",BASE_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp",TABLE_LIST:"table_list",DIC_LIST:"dic_list",API:{AUTH:L.API.AUTH,BUSINESS:L.API.BUSINESS}},P=n(30381),I=n.n(P),f={code:0,host:"4cAFRxJHwo2Pg2iGAgzEJ/xkAj/0VjxT1iCpl2ZwluLPvev2Bms=",message:"success",success:!0,timestamp:"2022-11-07 20:53:25",traceId:"8ad100f984516cc4018452271ca6000b",data:{list:[{id:"000001",ReportCycleTypeCd:"1",ReportYearMonth:"2021-02-08 18:29:45",ReportNm:"0"},{id:"000002",ReportCycleTypeCd:"3",ReportYearMonth:"1986-09-22 15:34:32",ReportNm:"1"},{id:"000003",ReportCycleTypeCd:"2",ReportYearMonth:"2015-01-25 12:31:12",ReportNm:"1"},{id:"000004",ReportCycleTypeCd:"4",ReportYearMonth:"2002-10-27 06:41:45",ReportNm:"1"},{id:"000005",ReportCycleTypeCd:"1",ReportYearMonth:"1975-12-25 10:54:41",ReportNm:"1"},{id:"000006",ReportCycleTypeCd:"4",ReportYearMonth:"1995-11-03 08:30:29",ReportNm:"2"},{id:"000007",ReportCycleTypeCd:"4",ReportYearMonth:"2000-03-24 03:40:01",ReportNm:"2"},{id:"000008",ReportCycleTypeCd:"3",ReportYearMonth:"2003-01-07 10:39:00",ReportNm:"0"},{id:"000009",ReportCycleTypeCd:"3",ReportYearMonth:"2005-02-23 23:54:26",ReportNm:"1"},{id:"0000010",ReportCycleTypeCd:"4",ReportYearMonth:"2004-01-20 07:19:32",ReportNm:"0"},{id:"0000011",ReportCycleTypeCd:"2",ReportYearMonth:"1981-08-08 07:40:03",ReportNm:"1"}],pageSize:10,total:11,current:1}};f.data.pageSize=10,f.data.total=f.data.list.length,f.data.current=1;var y=f,i={code:0,success:!0,message:"success",traceId:"8ad100f984516cc4018461370850031f",host:"y9ZoyVZO+ZRGLSyjRCPGAyoPAo/E/SQrfxh1OX1CFEOmDt2OrrQ=",timestamp:"2022-11-10 19:05:07",data:[{id:"node_processed",parentId:"node_status",constantKey:"\u8D44\u4EA7\u8D1F\u503A\u8868",constantValue:"0",description:"\u8D44\u4EA7\u8D1F\u503A\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_pending",parentId:"node_status",constantKey:"\u73B0\u91D1\u6D41\u91CF\u8868",constantValue:"1",description:"\u73B0\u91D1\u6D41\u91CF\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_in_process",parentId:"node_status",constantKey:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",constantValue:"2",description:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_rejected",parentId:"node_status",constantKey:"\u8D22\u52A1\u6307\u6807\u8868",constantValue:"3",description:"\u8D22\u52A1\u6307\u6807\u8868",createUser:null,constantRank:0,createTime:null,updateTime:null},{id:"all",parentId:"complate_condition",constantKey:"\u7B2C\u4E00\u5B63\u5EA6",constantValue:"1",description:"\u7B2C\u4E00\u5B63\u5EA6",createUser:"",constantRank:0,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"half",parentId:"complate_condition",constantKey:"\u7B2C\u4E8C\u5B63\u5EA6",constantValue:"2",description:"\u7B2C\u4E8C\u5B63\u5EA6",createUser:"",constantRank:1,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"any",parentId:"complate_condition",constantKey:"\u7B2C\u4E09\u5B63\u5EA6",constantValue:"3",description:"\u7B2C\u4E09\u5B63\u5EA6",createUser:"",constantRank:2,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"custom",parentId:"complate_condition",constantKey:"\u7B2C\u56DB\u5B63\u5EA6",constantValue:"4",description:"\u7B2C\u56DB\u5B63\u5EA6",createUser:null,constantRank:3,createTime:null,updateTime:null}]},S=i,u={getTableList:function(t){return new Promise(function(r,m){localStorage.getItem(l.TABLE_LIST)||localStorage.setItem(l.TABLE_LIST,JSON.stringify(y)),r(JSON.parse(localStorage.getItem(l.TABLE_LIST)))})},getList:function(t){return console.log("options",t),new Promise(function(r,m){localStorage.getItem(l.TABLE_LIST)||localStorage.setItem(l.TABLE_LIST,JSON.stringify(y));var e=JSON.parse(localStorage.getItem(l.TABLE_LIST)),v=Math.ceil(e.data.total/t.pageSize);if(v<1){r((0,p.Z)((0,p.Z)({},e),{},{data:{pageSize:t.pageSize,list:[],total:0,current:1}}));return}if(t.pageIndex===1){r((0,p.Z)((0,p.Z)({},e),{},{data:{pageSize:t.pageSize,list:e.data.list.filter(function(R,h){return h<t.pageIndex*t.pageSize}),total:e.data.total,current:t.pageIndex}}));return}r((0,p.Z)((0,p.Z)({},e),{},{data:{pageSize:t.pageSize,list:e.data.list.filter(function(R,h){return h>=(t.pageIndex-1)*t.pageSize&&h<t.pageIndex*t.pageSize}),total:e.data.total,current:t.pageIndex}}))})},getDicList:function(t){return new Promise(function(r,m){localStorage.getItem(l.DIC_LIST)||localStorage.setItem(l.DIC_LIST,JSON.stringify(S)),r(JSON.parse(localStorage.getItem(l.DIC_LIST)))})},addList:function(t){return new Promise(function(r,m){var e=JSON.parse(localStorage.getItem(l.TABLE_LIST)),v=(0,p.Z)((0,p.Z)({},t),{},{id:Date.now().toString()});e.data.list.unshift(v),e.data.total=e.data.list.length,localStorage.setItem(l.TABLE_LIST,JSON.stringify(e)),r({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:I()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},editList:function(t){return new Promise(function(r,m){var e=JSON.parse(localStorage.getItem(l.TABLE_LIST)),v=e.data.list.map(function(R){return R.id===t.id?t:R});e.data.list=v,e.data.total=v.length,localStorage.setItem(l.TABLE_LIST,JSON.stringify(e)),r({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:I()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},deleteList:function(t){return new Promise(function(r,m){var e=JSON.parse(localStorage.getItem(l.TABLE_LIST));e.data.list=e.data.list.filter(function(v){return v.id!==t}),e.data.total=e.data.list.length,localStorage.setItem(l.TABLE_LIST,JSON.stringify(e)),r({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:I()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})}},d=u},80950:function(){},46601:function(){},89214:function(){},96419:function(){},56353:function(){},8623:function(){},7748:function(){},85568:function(){},69386:function(){},31616:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},55792:function(){},20067:function(){}}]);
