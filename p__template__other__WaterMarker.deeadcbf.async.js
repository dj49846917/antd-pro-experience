(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5782,7891],{19273:function(P,p,t){"use strict";t.d(p,{Z:function(){return c}});function c(g){if(g==null)throw new TypeError("Cannot destructure undefined")}},53957:function(P,p,t){"use strict";t.r(p);var c=t(19273),g=t(9960),n=t(11059),f=t(85893);function _(d){return(0,c.Z)(d),(0,f.jsx)(g.Z,{content:"\u6D4B\u8BD5\u6C34\u5370",children:(0,f.jsx)(n.default,{})})}p.default=_},11059:function(P,p,t){"use strict";t.r(p);var c=t(66456),g=t(15885),n=t(88983),f=t(47933),_=t(11849),d=t(39428),y=t(3182),E=t(2824),D=t(3382),M=t(82084),S=t(67294),l=t(85893);function a(i){var T=(0,S.useState)(!1),e=(0,E.Z)(T,2),u=e[0],I=e[1],L=(0,S.useState)(""),A=(0,E.Z)(L,2),K=A[0],B=A[1],N=(0,S.useState)([]),j=(0,E.Z)(N,2),U=j[0],w=j[1],Y=(0,S.useState)({list:[],total:0,current:1,pageSize:10}),Z=(0,E.Z)(Y,2),C=Z[0],b=Z[1];(0,S.useEffect)(function(){x(),k()},[]);var x=function(){var m=(0,y.Z)((0,d.Z)().mark(function r(){var o,s;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return o={userId:"001"},I(!0),R.next=4,D.Z.getTableList(o);case 4:s=R.sent,I(!1),s&&s.success&&b({list:s.data.list,total:s.data.total,current:s.data.current,pageSize:s.data.pageSize});case 7:case"end":return R.stop()}},r)}));return function(){return m.apply(this,arguments)}}(),k=function(){var m=(0,y.Z)((0,d.Z)().mark(function r(){var o,s,h;return(0,d.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=["node_status","complate_condition"],v.next=3,D.Z.getDicList(o);case 3:s=v.sent,h=s.data.map(function(O){return(0,_.Z)((0,_.Z)({},O),{},{label:O.constantKey,value:O.constantValue})}),w(h);case 6:case"end":return v.stop()}},r)}));return function(){return m.apply(this,arguments)}}(),z=function(){var r=Math.ceil(C.total/C.pageSize);return"\u603B\u5171".concat(C.total,"\u6761\u6570\u636E,\u7B2C").concat(C.current,"/").concat(r,"\u9875")},W=function(r){b(function(o){return(0,_.Z)((0,_.Z)({},o),{},{current:r.current,pageSize:r.pageSize})})},J=[{title:"\u9009\u62E9",dataIndex:"action",key:"action",render:function(r,o){return(0,l.jsx)("span",{children:(0,l.jsx)(f.ZP.Group,{value:K,onChange:function(h){return B(h.target.value)},children:(0,l.jsx)(f.ZP,{value:o.id})})})}},{title:"\u8D22\u52A1\u62A5\u8868\u7C7B\u578B",dataIndex:"ReportNm",key:"ReportNm",render:function(r){var o=U.filter(function(s){return s.constantValue===r&&s.parentId==="node_status"});return o.length>0?o[0].constantKey:""}},{title:"\u62A5\u8868\u65F6\u95F4",dataIndex:"ReportYearMonth",key:"ReportYearMonth"},{title:"\u62A5\u8868\u5468\u671F\u7C7B\u578B",dataIndex:"ReportCycleTypeCd",key:"ReportCycleTypeCd",render:function(r){var o=U.filter(function(s){return s.constantValue===r&&s.parentId==="complate_condition"});return o.length>0?o[0].constantKey:""}}];return(0,l.jsx)(M.ZP,{loading:u,children:(0,l.jsx)(g.Z,{pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:z},dataSource:C.list,columns:J,bordered:!0,loading:u,rowKey:"id",onChange:W,onRow:function(r){return{onClick:function(){B(r.id)}}}})})}p.default=a},3382:function(P,p,t){"use strict";t.d(p,{Z:function(){return S}});var c=t(11849),g={local:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},dev:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},prod:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},API:{AUTH:"/auth/",BUSINESS:"/business/"}},n={LOGIN_TOKEN_STORAGE:"loginToken",BASE_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp",TABLE_LIST:"table_list",DIC_LIST:"dic_list",API:{AUTH:g.API.AUTH,BUSINESS:g.API.BUSINESS}},f=t(30381),_=t.n(f),d={code:0,host:"4cAFRxJHwo2Pg2iGAgzEJ/xkAj/0VjxT1iCpl2ZwluLPvev2Bms=",message:"success",success:!0,timestamp:"2022-11-07 20:53:25",traceId:"8ad100f984516cc4018452271ca6000b",data:{list:[{id:"000001",ReportCycleTypeCd:"1",ReportYearMonth:"2021-02-08 18:29:45",ReportNm:"0"},{id:"000002",ReportCycleTypeCd:"3",ReportYearMonth:"1986-09-22 15:34:32",ReportNm:"1"},{id:"000003",ReportCycleTypeCd:"2",ReportYearMonth:"2015-01-25 12:31:12",ReportNm:"1"},{id:"000004",ReportCycleTypeCd:"4",ReportYearMonth:"2002-10-27 06:41:45",ReportNm:"1"},{id:"000005",ReportCycleTypeCd:"1",ReportYearMonth:"1975-12-25 10:54:41",ReportNm:"1"},{id:"000006",ReportCycleTypeCd:"4",ReportYearMonth:"1995-11-03 08:30:29",ReportNm:"2"},{id:"000007",ReportCycleTypeCd:"4",ReportYearMonth:"2000-03-24 03:40:01",ReportNm:"2"},{id:"000008",ReportCycleTypeCd:"3",ReportYearMonth:"2003-01-07 10:39:00",ReportNm:"0"},{id:"000009",ReportCycleTypeCd:"3",ReportYearMonth:"2005-02-23 23:54:26",ReportNm:"1"},{id:"0000010",ReportCycleTypeCd:"4",ReportYearMonth:"2004-01-20 07:19:32",ReportNm:"0"},{id:"0000011",ReportCycleTypeCd:"2",ReportYearMonth:"1981-08-08 07:40:03",ReportNm:"1"}],pageSize:10,total:11,current:1}};d.data.pageSize=10,d.data.total=d.data.list.length,d.data.current=1;var y=d,E={code:0,success:!0,message:"success",traceId:"8ad100f984516cc4018461370850031f",host:"y9ZoyVZO+ZRGLSyjRCPGAyoPAo/E/SQrfxh1OX1CFEOmDt2OrrQ=",timestamp:"2022-11-10 19:05:07",data:[{id:"node_processed",parentId:"node_status",constantKey:"\u8D44\u4EA7\u8D1F\u503A\u8868",constantValue:"0",description:"\u8D44\u4EA7\u8D1F\u503A\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_pending",parentId:"node_status",constantKey:"\u73B0\u91D1\u6D41\u91CF\u8868",constantValue:"1",description:"\u73B0\u91D1\u6D41\u91CF\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_in_process",parentId:"node_status",constantKey:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",constantValue:"2",description:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",createUser:null,constantRank:null,createTime:"2022-06-21 11:14:05",updateTime:null},{id:"node_rejected",parentId:"node_status",constantKey:"\u8D22\u52A1\u6307\u6807\u8868",constantValue:"3",description:"\u8D22\u52A1\u6307\u6807\u8868",createUser:null,constantRank:0,createTime:null,updateTime:null},{id:"all",parentId:"complate_condition",constantKey:"\u7B2C\u4E00\u5B63\u5EA6",constantValue:"1",description:"\u7B2C\u4E00\u5B63\u5EA6",createUser:"",constantRank:0,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"half",parentId:"complate_condition",constantKey:"\u7B2C\u4E8C\u5B63\u5EA6",constantValue:"2",description:"\u7B2C\u4E8C\u5B63\u5EA6",createUser:"",constantRank:1,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"any",parentId:"complate_condition",constantKey:"\u7B2C\u4E09\u5B63\u5EA6",constantValue:"3",description:"\u7B2C\u4E09\u5B63\u5EA6",createUser:"",constantRank:2,createTime:"2022-07-05 16:59:05",updateTime:"2022-07-05 16:59:07"},{id:"custom",parentId:"complate_condition",constantKey:"\u7B2C\u56DB\u5B63\u5EA6",constantValue:"4",description:"\u7B2C\u56DB\u5B63\u5EA6",createUser:null,constantRank:3,createTime:null,updateTime:null}]},D=E,M={getTableList:function(a){return new Promise(function(i,T){localStorage.getItem(n.TABLE_LIST)||localStorage.setItem(n.TABLE_LIST,JSON.stringify(y)),i(JSON.parse(localStorage.getItem(n.TABLE_LIST)))})},getList:function(a){return console.log("options",a),new Promise(function(i,T){localStorage.getItem(n.TABLE_LIST)||localStorage.setItem(n.TABLE_LIST,JSON.stringify(y));var e=JSON.parse(localStorage.getItem(n.TABLE_LIST)),u=Math.ceil(e.data.total/a.pageSize);if(u<1){i((0,c.Z)((0,c.Z)({},e),{},{data:{pageSize:a.pageSize,list:[],total:0,current:1}}));return}if(a.pageIndex===1){i((0,c.Z)((0,c.Z)({},e),{},{data:{pageSize:a.pageSize,list:e.data.list.filter(function(I,L){return L<a.pageIndex*a.pageSize}),total:e.data.total,current:a.pageIndex}}));return}i((0,c.Z)((0,c.Z)({},e),{},{data:{pageSize:a.pageSize,list:e.data.list.filter(function(I,L){return L>=(a.pageIndex-1)*a.pageSize&&L<a.pageIndex*a.pageSize}),total:e.data.total,current:a.pageIndex}}))})},getDicList:function(a){return new Promise(function(i,T){localStorage.getItem(n.DIC_LIST)||localStorage.setItem(n.DIC_LIST,JSON.stringify(D)),i(JSON.parse(localStorage.getItem(n.DIC_LIST)))})},addList:function(a){return new Promise(function(i,T){var e=JSON.parse(localStorage.getItem(n.TABLE_LIST)),u=(0,c.Z)((0,c.Z)({},a),{},{id:Date.now().toString()});e.data.list.unshift(u),e.data.total=e.data.list.length,localStorage.setItem(n.TABLE_LIST,JSON.stringify(e)),i({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:_()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},editList:function(a){return new Promise(function(i,T){var e=JSON.parse(localStorage.getItem(n.TABLE_LIST)),u=e.data.list.map(function(I){return I.id===a.id?a:I});e.data.list=u,e.data.total=u.length,localStorage.setItem(n.TABLE_LIST,JSON.stringify(e)),i({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:_()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})},deleteList:function(a){return new Promise(function(i,T){var e=JSON.parse(localStorage.getItem(n.TABLE_LIST));e.data.list=e.data.list.filter(function(u){return u.id!==a}),e.data.total=e.data.list.length,localStorage.setItem(n.TABLE_LIST,JSON.stringify(e)),i({code:0,data:null,message:"\u64CD\u4F5C\u6210\u529F",success:!0,timestamp:_()().format("YYYY-MM-DD HH:mm:ss"),traceId:"8ad100f984516cc4018452271ca6000b"})})}},S=M}}]);
