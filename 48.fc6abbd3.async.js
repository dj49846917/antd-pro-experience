var Cn=(Re,se,A)=>new Promise((a,m)=>{var E=s=>{try{N(A.next(s))}catch(p){m(p)}},P=s=>{try{N(A.throw(s))}catch(p){m(p)}},N=s=>s.done?a(s.value):Promise.resolve(s.value).then(E,P);N((A=A.apply(Re,se)).next())});(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[48],{65654:function(Re,se,A){"use strict";A.d(se,{Z:function(){return yt}});var a=A(18670),m=A(9674),E=A(17487);const P=/^class[ {]/;function N(e){return P.test(e.toString())}function s(e){return Array.isArray(e)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(...e){e.length===1&&s(e[0])&&(e=e[0]),e=[...e];const t=e.pop();return t.$inject=e,t}const j=/constructor\s*[^(]*\(\s*([^)]*)\)/m,M=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,G=/\/\*([^*]*)\*\//m;function U(e){if(typeof e!="function")throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(N(e)?j:M);if(!t)return[];const n=t[1]||t[2];return n&&n.split(",").map(i=>{const o=i.match(G);return(o&&o[1]||i).trim()})||[]}function R(e,t){t=t||{get:function(ie,Ie){if(n.push(ie),Ie===!1)return null;throw C(`No provider for "${ie}"!`)}};const n=[],i=this._providers=Object.create(t._providers||null),o=this._instances=Object.create(null),l=o.injector=this,C=function(ie){const Ie=n.join(" -> ");return n.length=0,new Error(Ie?`${ie} (Resolving: ${Ie})`:ie)};function Y(ie,Ie){if(!i[ie]&&ie.indexOf(".")!==-1){const oe=ie.split(".");let fe=Y(oe.shift());for(;oe.length;)fe=fe[oe.shift()];return fe}if(p(o,ie))return o[ie];if(p(i,ie)){if(n.indexOf(ie)!==-1)throw n.push(ie),C("Cannot resolve circular dependency!");return n.push(ie),o[ie]=i[ie][0](i[ie][1]),n.pop(),o[ie]}return t.get(ie,Ie)}function de(ie,Ie){if(typeof Ie=="undefined"&&(Ie={}),typeof ie!="function")if(s(ie))ie=O(ie.slice());else throw C(`Cannot invoke "${ie}". Expected a function!`);const fe=(ie.$inject||U(ie)).map(ve=>p(Ie,ve)?Ie[ve]:Y(ve));return{fn:ie,dependencies:fe}}function ye(ie){const{fn:Ie,dependencies:oe}=de(ie),fe=Function.prototype.bind.apply(Ie,[null].concat(oe));return new fe}function me(ie,Ie,oe){const{fn:fe,dependencies:ve}=de(ie,oe);return fe.apply(Ie,ve)}function Ae(ie){return O(Ie=>ie.get(Ie))}function it(ie,Ie){if(Ie&&Ie.length){const oe=Object.create(null),fe=Object.create(null),ve=[],We=[],Ke=[];let Ye,$e,Ue,Te;for(let we in i)Ye=i[we],Ie.indexOf(we)!==-1&&(Ye[2]==="private"?($e=ve.indexOf(Ye[3]),$e===-1?(Ue=Ye[3].createChild([],Ie),Te=Ae(Ue),ve.push(Ye[3]),We.push(Ue),Ke.push(Te),oe[we]=[Te,we,"private",Ue]):oe[we]=[Ke[$e],we,"private",We[$e]]):oe[we]=[Ye[2],Ye[1]],fe[we]=!0),(Ye[2]==="factory"||Ye[2]==="type")&&Ye[1].$scope&&Ie.forEach(nt=>{Ye[1].$scope.indexOf(nt)!==-1&&(oe[we]=[Ye[2],Ye[1]],fe[nt]=!0)});Ie.forEach(we=>{if(!fe[we])throw new Error('No provider for "'+we+'". Cannot use provider from the parent!')}),ie.unshift(oe)}return new R(ie,l)}const Ct={factory:me,type:ye,value:function(ie){return ie}};function Bt(ie,Ie){const oe=ie.__init__||[];return function(){oe.forEach(fe=>{typeof fe=="string"?Ie.get(fe):Ie.invoke(fe)})}}function vt(ie){const Ie=ie.__exports__;if(Ie){const oe=ie.__modules__,fe=Object.keys(ie).reduce(($e,Ue)=>(Ue!=="__exports__"&&Ue!=="__modules__"&&Ue!=="__init__"&&Ue!=="__depends__"&&($e[Ue]=ie[Ue]),$e),Object.create(null)),ve=(oe||[]).concat(fe),We=it(ve),Ke=O(function($e){return We.get($e)});Ie.forEach(function($e){i[$e]=[Ke,$e,"private",We]});const Ye=(ie.__init__||[]).slice();return Ye.unshift(function(){We.init()}),ie=Object.assign({},ie,{__init__:Ye}),Bt(ie,We)}return Object.keys(ie).forEach(function(oe){if(oe==="__init__"||oe==="__depends__")return;if(ie[oe][2]==="private"){i[oe]=ie[oe];return}const fe=ie[oe][0],ve=ie[oe][1];i[oe]=[Ct[fe],f(fe,ve),fe]}),Bt(ie,l)}function At(ie,Ie){return ie.indexOf(Ie)!==-1||(ie=(Ie.__depends__||[]).reduce(At,ie),ie.indexOf(Ie)!==-1)?ie:ie.concat(Ie)}function ct(ie){const Ie=ie.reduce(At,[]).map(vt);let oe=!1;return function(){oe||(oe=!0,Ie.forEach(fe=>fe()))}}this.get=Y,this.invoke=me,this.instantiate=ye,this.createChild=it,this.init=ct(e)}function f(e,t){return e!=="value"&&s(t)&&(t=O(t.slice())),t}var W=A(61066),x=A(76858),F=A(38230),k=A(11490),J=1;function Q(e,t){x.Z.call(this,e,J),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}(0,W.Z)(Q,x.Z),Q.prototype.canRender=function(){return!0},Q.prototype.drawShape=function(t,n,i){var o=(0,E.Ue)("rect");return(0,E.Lj)(o,{x:0,y:0,width:n.width||0,height:n.height||0}),(0,k.He)(n)?(0,E.Lj)(o,(0,a.assign)({},this.FRAME_STYLE,i||{})):(0,E.Lj)(o,(0,a.assign)({},this.SHAPE_STYLE,i||{})),(0,E.R3)(t,o),o},Q.prototype.drawConnection=function(t,n,i){var o=(0,F.W5)(n.waypoints,(0,a.assign)({},this.CONNECTION_STYLE,i||{}));return(0,E.R3)(t,o),o},Q.prototype.getShapePath=function(t){var n=t.x,i=t.y,o=t.width,l=t.height,C=[["M",n,i],["l",o,0],["l",0,l],["l",-o,0],["z"]];return(0,F.KO)(C)},Q.prototype.getConnectionPath=function(t){var n=t.waypoints,i,o,l=[];for(i=0;o=n[i];i++)o=o.original||o,l.push([i===0?"M":"L",o.x,o.y]);return(0,F.KO)(l)},Q.$inject=["eventBus","styles"];function V(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(n,i,o){var l=this.style(i,o);return(0,a.assign)(l,{class:n})},this.style=function(n,i){!(0,a.isArray)(n)&&!i&&(i=n,n=[]);var o=(0,a.reduce)(n,function(l,C){return(0,a.assign)(l,e[C]||{})},{});return i?(0,a.assign)(o,i):o},this.computeStyle=function(n,i,o){return(0,a.isArray)(i)||(o=i,i=[]),t.style(i||[],(0,a.assign)({},o,n||{}))}}var le={__init__:["defaultRenderer"],defaultRenderer:["type",Q],styles:["type",V]},_e=A(90943),Ce=A(90935);function ge(e,t){return Math.round(e*t)/t}function Qe(e){return(0,a.isNumber)(e)?e+"px":e}function je(e){for(;e.parent;)e=e.parent;return e}function mt(e){e=(0,a.assign)({},{width:"100%",height:"100%"},e);const t=e.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),(0,m.i5)(n,{position:"relative",overflow:"hidden",width:Qe(e.width),height:Qe(e.height)}),t.appendChild(n),n}function Pt(e,t,n){const i=(0,E.Ue)("g");(0,E.Sh)(i).add(t);const o=n!==void 0?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[o]||null),i}const ot="base",st=0,Ne=1,bt={shape:["x","y","width","height"],connection:["waypoints"]};function Ee(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(e||{})}Ee.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Ee.prototype._init=function(e){const t=this._eventBus,n=this._container=mt(e),i=this._svg=(0,E.Ue)("svg");(0,E.Lj)(i,{width:"100%",height:"100%"}),(0,E.R3)(n,i);const o=this._viewport=Pt(i,"viewport");e.deferUpdate!==!1&&(this._viewboxChanged=(0,a.debounce)((0,a.bind)(this._viewboxChanged,this),300)),t.on("diagram.init",function(){t.fire("canvas.init",{svg:i,viewport:o})},this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],function(){delete this._cachedViewbox},this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},Ee.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Ee.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const n=(0,k.oL)(t);n==="root"?this.removeRootElement(t):this._removeElement(t,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Ee.prototype.getDefaultLayer=function(){return this.getLayer(ot,st)},Ee.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),typeof t!="undefined"&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},Ee.prototype._getChildIndex=function(e){return(0,a.reduce)(this._layers,function(t,n){return n.visible&&e>=n.index&&t++,t},0)},Ee.prototype._createLayer=function(e,t){typeof t=="undefined"&&(t=Ne);const n=this._getChildIndex(t);return{group:Pt(this._viewport,"layer-"+e,n),index:t,visible:!0}},Ee.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=this._viewport,i=t.group,o=t.index;if(t.visible)return i;const l=this._getChildIndex(o);return n.insertBefore(i,n.childNodes[l]||null),t.visible=!0,i},Ee.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=t.group;return t.visible&&((0,E.Od)(n),t.visible=!1),n},Ee.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],(0,E.Od)(t.group))},Ee.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null},Ee.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot(je(e))||{}).rootElement:void 0},Ee.prototype.getRootElements=function(){return this._planes.map(function(e){return e.rootElement})},Ee.prototype._findPlaneForRoot=function(e){return(0,a.find)(this._planes,function(t){return t.rootElement===e})},Ee.prototype.getContainer=function(){return this._container},Ee.prototype._updateMarker=function(e,t,n){let i;e.id||(e=this._elementRegistry.get(e)),i=this._elementRegistry._elements[e.id],!!i&&((0,a.forEach)([i.gfx,i.secondaryGfx],function(o){o&&(n?(0,E.Sh)(o).add(t):(0,E.Sh)(o).remove(t))}),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))},Ee.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},Ee.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},Ee.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));const n=this.getGraphics(e);return(0,E.Sh)(n).has(t)},Ee.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},Ee.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))},Ee.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const n=e.layer="root-"+t;this._ensureValid("root",e);const i=this.getLayer(n,st);return this.hideLayer(n),this._addRoot(e,i),this._planes.push({rootElement:e,layer:i}),e},Ee.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),!!this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==e}),this._rootElement===e&&(this._rootElement=null),e},Ee.prototype.setRootElement=function(e,t){if((0,a.isDefined)(t))throw new Error("override not supported");if(e===this._rootElement)return;let n;if(!e)throw new Error("rootElement required");return n=this._findPlaneForRoot(e),n||(e=this.addRootElement(e)),this._setRoot(e),e},Ee.prototype._removeRoot=function(e){const t=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:e}),n.fire("root.removed",{element:e}),t.remove(e)},Ee.prototype._addRoot=function(e,t){const n=this._elementRegistry,i=this._eventBus;i.fire("root.add",{element:e}),n.add(e,t),i.fire("root.added",{element:e,gfx:t})},Ee.prototype._setRoot=function(e,t){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})},Ee.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const n=bt[e];if(!(0,a.every)(n,function(o){return typeof t[o]!="undefined"}))throw new Error("must supply { "+n.join(", ")+" } with "+e)},Ee.prototype._setParent=function(e,t,n){(0,_e.IH)(t.children,e,n),e.parent=t},Ee.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();const o=this._eventBus,l=this._graphicsFactory;this._ensureValid(e,t),o.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);const C=l.create(e,t,i);return this._elementRegistry.add(t,C),l.update(e,t,C),o.fire(e+".added",{element:t,gfx:C}),t},Ee.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},Ee.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},Ee.prototype._removeElement=function(e,t){const n=this._elementRegistry,i=this._graphicsFactory,o=this._eventBus;if(e=n.get(e.id||e),!!e)return o.fire(t+".remove",{element:e}),i.remove(e),(0,_e.Od)(e.parent&&e.parent.children,e),e.parent=null,o.fire(t+".removed",{element:e}),n.remove(e),e},Ee.prototype.removeShape=function(e){return this._removeElement(e,"shape")},Ee.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},Ee.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},Ee.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Ee.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Ee.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return this._cachedViewbox;const t=this._viewport,n=this.getSize();let i,o,l,C,Y,de,ye;if(e)this._changeViewbox(function(){Y=Math.min(n.width/e.width,n.height/e.height);const me=this._svg.createSVGMatrix().scale(Y).translate(-e.x,-e.y);(0,E.vs)(t,me)});else return l=this._rootElement?this.getActiveLayer():null,i=l&&l.getBBox()||{},C=(0,E.vs)(t),o=C?C.matrix:(0,E.wz)(),Y=ge(o.a,1e3),de=ge(-o.e||0,1e3),ye=ge(-o.f||0,1e3),e=this._cachedViewbox={x:de?de/Y:0,y:ye?ye/Y:0,width:n.width/Y,height:n.height/Y,scale:Y,inner:{width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0},outer:n},e;return e},Ee.prototype.scroll=function(e){const t=this._viewport;let n=t.getCTM();return e&&this._changeViewbox(function(){e=(0,a.assign)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),he(t,n)}),{x:n.e,y:n.f}},Ee.prototype.scrollToElement=function(e,t){let n=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const i=this.findRoot(e);i!==this.getRootElement()&&this.setRootElement(i),t||(t={}),typeof t=="number"&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};const o=(0,k.jY)(e),l=(0,Ce.JA)(o),C=this.viewbox(),Y=this.zoom();let de,ye;C.y+=t.top/Y,C.x+=t.left/Y,C.width-=(t.right+t.left)/Y,C.height-=(t.bottom+t.top)/Y;const me=(0,Ce.JA)(C);if(!(o.width<C.width&&o.height<C.height))de=o.x-C.x,ye=o.y-C.y;else{const it=Math.max(0,l.right-me.right),Ct=Math.min(0,l.left-me.left),Bt=Math.max(0,l.bottom-me.bottom),vt=Math.min(0,l.top-me.top);de=it||Ct,ye=Bt||vt}this.scroll({dx:-de*Y,dy:-ye*Y})},Ee.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(t);let n,i;return this._changeViewbox(function(){typeof t!="object"&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)}),ge(i.a,1e3)};function he(e,t){const n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}Ee.prototype._fitViewport=function(e){const t=this.viewbox(),n=t.outer,i=t.inner;let o,l;return i.x>=0&&i.y>=0&&i.x+i.width<=n.width&&i.y+i.height<=n.height&&!e?l={x:0,y:0,width:Math.max(i.width+i.x,n.width),height:Math.max(i.height+i.y,n.height)}:(o=Math.min(1,n.width/i.width,n.height/i.height),l={x:i.x+(e?i.width/2-n.width/o/2:0),y:i.y+(e?i.height/2-n.height/o/2:0),width:n.width/o,height:n.height/o}),this.viewbox(l),this.viewbox(!1).scale},Ee.prototype._setZoom=function(e,t){const n=this._svg,i=this._viewport,o=n.createSVGMatrix(),l=n.createSVGPoint();let C,Y,de,ye,me;de=i.getCTM();const Ae=de.a;return t?(C=(0,a.assign)(l,t),Y=C.matrixTransform(de.inverse()),ye=o.translate(Y.x,Y.y).scale(1/Ae*e).translate(-Y.x,-Y.y),me=de.multiply(ye)):me=o.scale(e),he(this._viewport,me),me},Ee.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Ee.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let n;e.waypoints?n=this.getGraphics(e).getBBox():n=e;const i=n.x*t.scale-t.x*t.scale,o=n.y*t.scale-t.y*t.scale,l=n.width*t.scale,C=n.height*t.scale;return{x:i,y:o,width:l,height:C}},Ee.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var y="data-element-id";function S(e){this._elements={},this._eventBus=e}S.$inject=["eventBus"],S.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),(0,E.Lj)(t,y,i),n&&(0,E.Lj)(n,y,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},S.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&((0,E.Lj)(i.gfx,y,""),i.secondaryGfx&&(0,E.Lj)(i.secondaryGfx,y,""),delete t[n])},S.prototype.updateId=function(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},S.prototype.updateGraphics=function(e,t,n){var i=e.id||e,o=this._elements[i];return n?o.secondaryGfx=t:o.gfx=t,t&&(0,E.Lj)(t,y,i),t},S.prototype.get=function(e){var t;typeof e=="string"?t=e:t=e&&(0,E.Lj)(e,y);var n=this._elements[t];return n&&n.element},S.prototype.filter=function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(n)}),t},S.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],l=t[o],C=l.element,Y=l.gfx;if(e(C,Y))return C}},S.prototype.getAll=function(){return this.filter(function(e){return e})},S.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(n){var i=t[n],o=i.element,l=i.gfx;return e(o,l)})},S.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},S.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var v=A(75149),L="__fn",q=1e3,ne=Array.prototype.slice;function ae(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}ae.prototype.on=function(e,t,n,i){if(e=(0,a.isArray)(e)?e:[e],(0,a.isFunction)(t)&&(i=n,n=t,t=q),!(0,a.isNumber)(t))throw new Error("priority must be a number");var o=n;i&&(o=(0,a.bind)(n,i),o[L]=n[L]||n);var l=this;e.forEach(function(C){l._addListener(C,{priority:t,callback:o,next:null})})},ae.prototype.once=function(e,t,n,i){var o=this;if((0,a.isFunction)(t)&&(i=n,n=t,t=q),!(0,a.isNumber)(t))throw new Error("priority must be a number");function l(){l.__isTomb=!0;var C=n.apply(i,arguments);return o.off(e,l),C}l[L]=n,this.on(e,t,l)},ae.prototype.off=function(e,t){e=(0,a.isArray)(e)?e:[e];var n=this;e.forEach(function(i){n._removeListener(i,t)})},ae.prototype.createEvent=function(e){var t=new ue;return t.init(e),t},ae.prototype.fire=function(e,t){var n,i,o,l;if(l=ne.call(arguments),typeof e=="object"&&(t=e,e=t.type),!e)throw new Error("no event type specified");if(i=this._listeners[e],!!i){t instanceof ue?n=t:n=this.createEvent(t),l[0]=n;var C=n.type;e!==C&&(n.type=e);try{o=this._invokeListeners(n,l,i)}finally{e!==C&&(n.type=C)}return o===void 0&&n.defaultPrevented&&(o=!1),o}},ae.prototype.handleError=function(e){return this.fire("error",{error:e})===!1},ae.prototype._destroy=function(){this._listeners={}},ae.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},ae.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{i=T(n.callback,t),i!==void 0&&(e.returnValue=i,e.stopPropagation()),i===!1&&e.preventDefault()}catch(o){if(!this.handleError(o))throw console.error("unhandled error in event listener",o),o}return i},ae.prototype._addListener=function(e,t){var n=this._getListeners(e),i;if(!n){this._setListeners(e,t);return}for(;n;){if(n.priority<t.priority){t.next=n,i?i.next=t:this._setListeners(e,t);return}i=n,n=n.next}i.next=t},ae.prototype._getListeners=function(e){return this._listeners[e]},ae.prototype._setListeners=function(e,t){this._listeners[e]=t},ae.prototype._removeListener=function(e,t){var n=this._getListeners(e),i,o,l;if(!t){this._setListeners(e,null);return}for(;n;)i=n.next,l=n.callback,(l===t||l[L]===t)&&(o?o.next=i:this._setListeners(e,i)),o=n,n=i};function ue(){}ue.prototype.stopPropagation=function(){this.cancelBubble=!0},ue.prototype.preventDefault=function(){this.defaultPrevented=!0},ue.prototype.init=function(e){(0,a.assign)(this,e||{})};function T(e,t){return e.apply(null,t)}var B=A(42023),$=A(62168);function u(e,t){this._eventBus=e,this._elementRegistry=t}u.$inject=["eventBus","elementRegistry"],u.prototype._getChildrenContainer=function(e){var t=this._elementRegistry.getGraphics(e),n;return e.parent?(n=(0,B.G)(t),n||(n=(0,E.Ue)("g"),(0,E.Sh)(n).add("djs-children"),(0,E.R3)(t.parentNode,n))):n=t,n},u.prototype._clear=function(e){var t=(0,B.s)(e);return(0,m.ZH)(t),t},u.prototype._createContainer=function(e,t,n,i){var o=(0,E.Ue)("g");(0,E.Sh)(o).add("djs-group"),typeof n!="undefined"?g(o,t,t.childNodes[n]):(0,E.R3)(t,o);var l=(0,E.Ue)("g");(0,E.Sh)(l).add("djs-element"),(0,E.Sh)(l).add("djs-"+e),i&&(0,E.Sh)(l).add("djs-frame"),(0,E.R3)(o,l);var C=(0,E.Ue)("g");return(0,E.Sh)(C).add("djs-visual"),(0,E.R3)(l,C),l},u.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,(0,k.He)(t))},u.prototype.updateContainments=function(e){var t=this,n=this._elementRegistry,i;i=(0,a.reduce)(e,function(o,l){return l.parent&&(o[l.parent.id]=l.parent),o},{}),(0,a.forEach)(i,function(o){var l=o.children;if(!!l){var C=t._getChildrenContainer(o);(0,a.forEach)(l.slice().reverse(),function(Y){var de=n.getGraphics(Y);g(de.parentNode,C)})}})},u.prototype.drawShape=function(e,t){var n=this._eventBus;return n.fire("render.shape",{gfx:e,element:t})},u.prototype.getShapePath=function(e){var t=this._eventBus;return t.fire("render.getShapePath",e)},u.prototype.drawConnection=function(e,t){var n=this._eventBus;return n.fire("render.connection",{gfx:e,element:t})},u.prototype.getConnectionPath=function(e){var t=this._eventBus;return t.fire("render.getConnectionPath",e)},u.prototype.update=function(e,t,n){if(!!t.parent){var i=this._clear(n);if(e==="shape")this.drawShape(i,t),(0,$.Iu)(n,t.x,t.y);else if(e==="connection")this.drawConnection(i,t);else throw new Error("unknown type: "+e);t.hidden?(0,E.Lj)(n,"display","none"):(0,E.Lj)(n,"display","block")}},u.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);(0,E.Od)(t.parentNode)};function g(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}var w={__depends__:[le],__init__:["canvas"],canvas:["type",Ee],elementRegistry:["type",S],elementFactory:["type",v.Z],eventBus:["type",ae],graphicsFactory:["type",u]};function H(e){var t=new R(e);return t.init(),t}function ce(e){e=e||{};var t={config:["value",e]},n=[t,w].concat(e.modules||[]);return H(n)}function be(e,t){this.injector=t=t||ce(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}be.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},be.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function Be(){}Be.prototype.get=function(e){return this.$model.properties.get(this,e)},Be.prototype.set=function(e,t){this.$model.properties.set(this,e,t)};function tt(e,t){this.model=e,this.properties=t}tt.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(Be.prototype);(0,a.forEach)(e.properties,function(C){!C.isMany&&C.default!==void 0&&(i[C.name]=C.default)}),n.defineModel(i,t),n.defineDescriptor(i,e);var o=e.ns.name;function l(C){n.define(this,"$type",{value:o,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),(0,a.forEach)(C,(0,a.bind)(function(Y,de){this.set(de,Y)},this))}return l.prototype=i,l.hasType=i.$instanceOf=this.model.hasType,n.defineModel(l,t),n.defineDescriptor(l,e),l};var Ge={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Ze={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function De(e,t){var n=Ze[e];return n?n(t):t}function lt(e){return!!Ge[e]}function at(e){return!!Ze[e]}function Le(e,t){var n=e.split(/:/),i,o;if(n.length===1)i=e,o=t;else if(n.length===2)i=n[1],o=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+e);return e=(o?o+":":"")+i,{name:e,prefix:o,localName:i}}function qe(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}qe.prototype.build=function(){return(0,a.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},qe.prototype.addProperty=function(e,t,n){typeof t=="boolean"&&(n=t,t=void 0),this.addNamedProperty(e,n!==!1);var i=this.properties;t!==void 0?i.splice(t,0,e):i.push(e)},qe.prototype.replaceProperty=function(e,t,n){var i=e.ns,o=this.properties,l=this.propertiesByName,C=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var Y=o.indexOf(e);if(Y===-1)throw new Error("property <"+i.name+"> not found in property list");o.splice(Y,1),this.addProperty(t,n?void 0:Y,C),l[i.name]=l[i.localName]=t},qe.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,o=t.split("#"),l=Le(o[0],i),C=Le(o[1],l.prefix).name,Y=this.propertiesByName[C];if(Y)this.replaceProperty(Y,e,n);else throw new Error("refined property <"+C+"> not found");delete e.redefines},qe.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},qe.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},qe.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},qe.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},qe.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},qe.prototype.hasProperty=function(e){return this.propertiesByName[e]},qe.prototype.addTrait=function(e,t){var n=this.allTypesByName,i=this.allTypes,o=e.name;o in n||((0,a.forEach)(e.properties,(0,a.bind)(function(l){l=(0,a.assign)({},l,{name:l.ns.localName,inherited:t}),Object.defineProperty(l,"definedBy",{value:e});var C=l.replaces,Y=l.redefines;C||Y?this.redefineProperty(l,C||Y,C):(l.isBody&&this.setBodyProperty(l),l.isId&&this.setIdProperty(l),this.addProperty(l))},this)),i.push(e),n[o]=e)};function jt(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,(0,a.forEach)(e,(0,a.bind)(this.registerPackage,this))}jt.prototype.getPackage=function(e){return this.packageMap[e]},jt.prototype.getPackages=function(){return this.packages},jt.prototype.registerPackage=function(e){e=(0,a.assign)({},e);var t=this.packageMap;gn(t,e,"prefix"),gn(t,e,"uri"),(0,a.forEach)(e.types,(0,a.bind)(function(n){this.registerType(n,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},jt.prototype.registerType=function(e,t){e=(0,a.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:(0,a.assign)(e.meta||{})});var n=Le(e.name,t.prefix),i=n.name,o={};(0,a.forEach)(e.properties,(0,a.bind)(function(l){var C=Le(l.name,n.prefix),Y=C.name;lt(l.type)||(l.type=Le(l.type,C.prefix).name),(0,a.assign)(l,{ns:C,name:Y}),o[Y]=l},this)),(0,a.assign)(e,{ns:n,name:i,propertiesByName:o}),(0,a.forEach)(e.extends,(0,a.bind)(function(l){var C=this.typeMap[l];C.traits=C.traits||[],C.traits.push(i)},this)),this.definePackage(e,t),this.typeMap[i]=e},jt.prototype.mapTypes=function(e,t,n){var i=lt(e.name)?{name:e.name}:this.typeMap[e.name],o=this;function l(Y){return C(Y,!0)}function C(Y,de){var ye=Le(Y,lt(Y)?"":e.prefix);o.mapTypes(ye,t,de)}if(!i)throw new Error("unknown type <"+e.name+">");(0,a.forEach)(i.superClass,n?l:C),t(i,!n),(0,a.forEach)(i.traits,l)},jt.prototype.getEffectiveDescriptor=function(e){var t=Le(e),n=new qe(t);this.mapTypes(t,function(o,l){n.addTrait(o,l)});var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},jt.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})};function gn(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function zt(e){this.model=e}zt.prototype.set=function(e,t,n){if(!(0,a.isString)(t)||!t.length)throw new TypeError("property name must be a non-empty string");var i=this.model.getPropertyDescriptor(e,t),o=i&&i.name;Pn(n)?i?delete e[o]:delete e.$attrs[t]:i?o in e?e[o]=n:En(e,i,n):e.$attrs[t]=n},zt.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&En(e,n,[]),e[i]},zt.prototype.define=function(e,t,n){if(!n.writable){var i=n.value;n=(0,a.assign)({},n,{get:function(){return i}}),delete n.value}Object.defineProperty(e,t,n)},zt.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},zt.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})};function Pn(e){return typeof e=="undefined"}function En(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function Tt(e){this.properties=new zt(this),this.factory=new tt(this,this.properties),this.registry=new jt(e,this.properties),this.typeCache={}}Tt.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},Tt.prototype.getType=function(e){var t=this.typeCache,n=(0,a.isString)(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},Tt.prototype.createAny=function(e,t,n){var i=Le(e),o={$type:e,$instanceOf:function(C){return C===this.$type}},l={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(o,l),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),(0,a.forEach)(n,function(C,Y){(0,a.isObject)(C)&&C.value!==void 0?o[C.name]=C.value:o[Y]=C}),o},Tt.prototype.getPackage=function(e){return this.registry.getPackage(e)},Tt.prototype.getPackages=function(){return this.registry.getPackages()},Tt.prototype.getElementDescriptor=function(e){return e.$descriptor},Tt.prototype.hasType=function(e,t){t===void 0&&(t=e,e=this);var n=e.$model.getElementDescriptor(e);return t in n.allTypesByName},Tt.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},Tt.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var xn=String.fromCharCode,Qt=Object.prototype.hasOwnProperty,an=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,Kt={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Kt).forEach(function(e){Kt[e.toUpperCase()]=Kt[e]});function wn(e,t,n,i){return i?Qt.call(Kt,i)?Kt[i]:"&"+i+";":xn(t||parseInt(n,16))}function Rt(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(an,wn):e}var _n="http://www.w3.org/2001/XMLSchema-instance",ln="xsi",fn="xsi:type",It="non-whitespace outside of root node";function Yt(e){return new Error(e)}function on(e){return"missing namespace for prefix <"+e+">"}function Nt(e){return{get:e,enumerable:!0}}function qt(e){var t={},n;for(n in e)t[n]=e[n];return t}function pn(e){return e+"$uri"}function Tn(e){var t={},n,i;for(n in e)i=e[n],t[i]=i,t[pn(i)]=n;return t}function hn(){return{line:0,column:0}}function Hn(e){throw e}function Fn(e){if(!this)return new Fn(e);var t=e&&e.proxy,n,i,o,l,C=Hn,Y,de,ye,me,Ae=hn,it=!1,Ct=!1,Bt=null,vt=!1,At;function ct(oe){oe instanceof Error||(oe=Yt(oe)),Bt=oe,C(oe,Ae)}function ie(oe){!Y||(oe instanceof Error||(oe=Yt(oe)),Y(oe,Ae))}this.on=function(oe,fe){if(typeof fe!="function")throw Yt("required args <name, cb>");switch(oe){case"openTag":i=fe;break;case"text":n=fe;break;case"closeTag":o=fe;break;case"error":C=fe;break;case"warn":Y=fe;break;case"cdata":l=fe;break;case"attention":me=fe;break;case"question":ye=fe;break;case"comment":de=fe;break;default:throw Yt("unsupported event: "+oe)}return this},this.ns=function(oe){if(typeof oe=="undefined"&&(oe={}),typeof oe!="object")throw Yt("required args <nsMap={}>");var fe={},ve;for(ve in oe)fe[ve]=oe[ve];return fe[_n]=ln,Ct=!0,At=fe,this},this.parse=function(oe){if(typeof oe!="string")throw Yt("required args <xml=string>");return Bt=null,Ie(oe),Ae=hn,vt=!1,Bt},this.stop=function(){vt=!0};function Ie(oe){var fe=Ct?[]:null,ve=Ct?Tn(At):null,We,Ke=[],Ye=0,$e=!1,Ue=!1,Te=0,we=0,nt,Ln,ht,ze,yn,un,Ot,Bn,In,kn="",X=0,ee;function ke(){if(ee!==null)return ee;var gt,Ht,_t,nn=Ct&&ve.xmlns,rn=Ct&&it?[]:null,dt=X,Dt=kn,vn=Dt.length,ir,cn,Et,Jt,et,Rn={},ar={},$t,Se,Je;e:for(;dt<vn;dt++)if($t=!1,Se=Dt.charCodeAt(dt),!(Se===32||Se<14&&Se>8)){for((Se<65||Se>122||Se>90&&Se<97)&&Se!==95&&Se!==58&&(ie("illegal first char attribute name"),$t=!0),Je=dt+1;Je<vn;Je++)if(Se=Dt.charCodeAt(Je),!(Se>96&&Se<123||Se>64&&Se<91||Se>47&&Se<59||Se===46||Se===45||Se===95)){if(Se===32||Se<14&&Se>8){ie("missing attribute value"),dt=Je;continue e}if(Se===61)break;ie("illegal attribute name char"),$t=!0}if(et=Dt.substring(dt,Je),et==="xmlns:xmlns"&&(ie("illegal declaration of xmlns"),$t=!0),Se=Dt.charCodeAt(Je+1),Se===34)Je=Dt.indexOf('"',dt=Je+2),Je===-1&&(Je=Dt.indexOf("'",dt),Je!==-1&&(ie("attribute value quote missmatch"),$t=!0));else if(Se===39)Je=Dt.indexOf("'",dt=Je+2),Je===-1&&(Je=Dt.indexOf('"',dt),Je!==-1&&(ie("attribute value quote missmatch"),$t=!0));else for(ie("missing attribute value quotes"),$t=!0,Je=Je+1;Je<vn&&(Se=Dt.charCodeAt(Je+1),!(Se===32||Se<14&&Se>8));Je++);for(Je===-1&&(ie("missing closing quotes"),Je=vn,$t=!0),$t||(Et=Dt.substring(dt,Je)),dt=Je;Je+1<vn&&(Se=Dt.charCodeAt(Je+1),!(Se===32||Se<14&&Se>8));Je++)dt===Je&&(ie("illegal character after attribute end"),$t=!0);if(dt=Je+1,$t)continue e;if(et in ar){ie("attribute <"+et+"> already defined");continue}if(ar[et]=!0,!Ct){Rn[et]=Et;continue}if(it){if(cn=et==="xmlns"?"xmlns":et.charCodeAt(0)===120&&et.substr(0,6)==="xmlns:"?et.substr(6):null,cn!==null){if(gt=Rt(Et),Ht=pn(cn),Jt=At[gt],!Jt){if(cn==="xmlns"||Ht in ve&&ve[Ht]!==gt)do Jt="ns"+Ye++;while(typeof ve[Jt]!="undefined");else Jt=cn;At[gt]=Jt}ve[cn]!==Jt&&(ir||(ve=qt(ve),ir=!0),ve[cn]=Jt,cn==="xmlns"&&(ve[pn(Jt)]=gt,nn=Jt),ve[Ht]=gt),Rn[et]=Et;continue}rn.push(et,Et);continue}if(Se=et.indexOf(":"),Se===-1){Rn[et]=Et;continue}if(!(_t=ve[et.substring(0,Se)])){ie(on(et.substring(0,Se)));continue}et=nn===_t?et.substr(Se+1):_t+et.substr(Se),et===fn&&(Se=Et.indexOf(":"),Se!==-1?(_t=Et.substring(0,Se),_t=ve[_t]||_t,Et=_t+Et.substring(Se)):Et=nn+":"+Et),Rn[et]=Et}if(it)for(dt=0,vn=rn.length;dt<vn;dt++){if(et=rn[dt++],Et=rn[dt],Se=et.indexOf(":"),Se!==-1){if(!(_t=ve[et.substring(0,Se)])){ie(on(et.substring(0,Se)));continue}et=nn===_t?et.substr(Se+1):_t+et.substr(Se),et===fn&&(Se=Et.indexOf(":"),Se!==-1?(_t=Et.substring(0,Se),_t=ve[_t]||_t,Et=_t+Et.substring(Se)):Et=nn+":"+Et)}Rn[et]=Et}return ee=Rn}function wt(){for(var gt=/(\r\n|\r|\n)/g,Ht=0,_t=0,nn=0,rn=we,dt,Dt;Te>=nn&&(dt=gt.exec(oe),!(!dt||(rn=dt[0].length+dt.index,rn>Te)));)Ht+=1,nn=rn;return Te==-1?(_t=rn,Dt=oe.substring(we)):we===0?Dt=oe.substring(we,Te):(_t=Te-nn,Dt=we==-1?oe.substring(Te):oe.substring(Te,we+1)),{data:Dt,line:Ht,column:_t}}for(Ae=wt,t&&(In=Object.create({},{name:Nt(function(){return Ot}),originalName:Nt(function(){return Bn}),attrs:Nt(ke),ns:Nt(function(){return ve})}));we!==-1;){if(oe.charCodeAt(we)===60?Te=we:Te=oe.indexOf("<",we),Te===-1){if(Ke.length)return ct("unexpected end of file");if(we===0)return ct("missing start tag");we<oe.length&&oe.substring(we).trim()&&ie(It);return}if(we!==Te){if(Ke.length){if(n&&(n(oe.substring(we,Te),Rt,Ae),vt))return}else if(oe.substring(we,Te).trim()&&(ie(It),vt))return}if(ze=oe.charCodeAt(Te+1),ze===33){if(ht=oe.charCodeAt(Te+2),ht===91&&oe.substr(Te+3,6)==="CDATA["){if(we=oe.indexOf("]]>",Te),we===-1)return ct("unclosed cdata");if(l&&(l(oe.substring(Te+9,we),Ae),vt))return;we+=3;continue}if(ht===45&&oe.charCodeAt(Te+3)===45){if(we=oe.indexOf("-->",Te),we===-1)return ct("unclosed comment");if(de&&(de(oe.substring(Te+4,we),Rt,Ae),vt))return;we+=3;continue}}if(ze===63){if(we=oe.indexOf("?>",Te),we===-1)return ct("unclosed question");if(ye&&(ye(oe.substring(Te,we+2),Ae),vt))return;we+=2;continue}for(nt=Te+1;;nt++){if(yn=oe.charCodeAt(nt),isNaN(yn))return we=-1,ct("unclosed tag");if(yn===34)ht=oe.indexOf('"',nt+1),nt=ht!==-1?ht:nt;else if(yn===39)ht=oe.indexOf("'",nt+1),nt=ht!==-1?ht:nt;else if(yn===62){we=nt;break}}if(ze===33){if(me&&(me(oe.substring(Te,we+1),Rt,Ae),vt))return;we+=1;continue}if(ee={},ze===47){if($e=!1,Ue=!0,!Ke.length)return ct("missing open tag");if(nt=Ot=Ke.pop(),ht=Te+2+nt.length,oe.substring(Te+2,ht)!==nt)return ct("closing tag mismatch");for(;ht<we;ht++)if(ze=oe.charCodeAt(ht),!(ze===32||ze>8&&ze<14))return ct("close tag")}else{if(oe.charCodeAt(we-1)===47?(nt=Ot=oe.substring(Te+1,we-1),$e=!0,Ue=!0):(nt=Ot=oe.substring(Te+1,we),$e=!0,Ue=!1),!(ze>96&&ze<123||ze>64&&ze<91||ze===95||ze===58))return ct("illegal first char nodeName");for(ht=1,Ln=nt.length;ht<Ln;ht++)if(ze=nt.charCodeAt(ht),!(ze>96&&ze<123||ze>64&&ze<91||ze>47&&ze<59||ze===45||ze===95||ze==46)){if(ze===32||ze<14&&ze>8){Ot=nt.substring(0,ht),ee=null;break}return ct("invalid nodeName")}Ue||Ke.push(Ot)}if(Ct){if(We=ve,$e&&(Ue||fe.push(We),ee===null&&(it=nt.indexOf("xmlns",ht)!==-1)&&(X=ht,kn=nt,ke(),it=!1)),Bn=Ot,ze=Ot.indexOf(":"),ze!==-1){if(un=ve[Ot.substring(0,ze)],!un)return ct("missing namespace on <"+Bn+">");Ot=Ot.substr(ze+1)}else un=ve.xmlns;un&&(Ot=un+":"+Ot)}if($e&&(X=ht,kn=nt,i&&(t?i(In,Rt,Ue,Ae):i(Ot,ke,Rt,Ue,Ae),vt)))return;if(Ue){if(o&&(o(t?In:Ot,Rt,$e,Ae),vt))return;Ct&&($e?ve=We:ve=fe.pop())}we+=1}}}function Ut(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var $n={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},dn="xsi:type";function mn(e){return e.xml&&e.xml.serialize}function c(e){return mn(e)===dn}function b(e){return mn(e)==="property"}function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e,t){return Ut(t)?e.prefix+":"+I(e.localName):e.name}function z(e,t){var n=e.name,i=e.localName,o=t.xml&&t.xml.typePrefix;return o&&i.indexOf(o)===0?e.prefix+":"+i.slice(o.length):n}function K(e,t){var n=Le(e),i=t.getPackage(n.prefix);return z(n,i)}function pe(e){return new Error(e)}function re(e){return e.$descriptor}function Z(e){(0,a.assign)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw pe("expected element");var n=this.elementsById,i=re(t),o=i.idProperty,l;if(o&&(l=t.get(o.name),l)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(l))throw new Error("illegal ID <"+l+">");if(n[l])throw pe("duplicate ID <"+l+">");n[l]=t}},this.addWarning=function(t){this.warnings.push(t)}}function Ve(){}Ve.prototype.handleEnd=function(){},Ve.prototype.handleText=function(){},Ve.prototype.handleNode=function(){};function ut(){}ut.prototype=Object.create(Ve.prototype),ut.prototype.handleNode=function(){return this};function ft(){}ft.prototype=Object.create(Ve.prototype),ft.prototype.handleText=function(e){this.body=(this.body||"")+e};function rt(e,t){this.property=e,this.context=t}rt.prototype=Object.create(ft.prototype),rt.prototype.handleNode=function(e){if(this.element)throw pe("expected no sub nodes");return this.element=this.createReference(e),this},rt.prototype.handleEnd=function(){this.element.id=this.body},rt.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}};function St(e,t){this.element=t,this.propertyDesc=e}St.prototype=Object.create(ft.prototype),St.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=De(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)};function kt(){}kt.prototype=Object.create(ft.prototype),kt.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t};function He(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}He.prototype=Object.create(kt.prototype),He.prototype.addReference=function(e){this.context.addReference(e)},He.prototype.handleText=function(e){var t=this.element,n=re(t),i=n.bodyProperty;if(!i)throw pe("unexpected body text <"+e+">");ft.prototype.handleText.call(this,e)},He.prototype.handleEnd=function(){var e=this.body,t=this.element,n=re(t),i=n.bodyProperty;i&&e!==void 0&&(e=De(i.type,e),t.set(i.name,e))},He.prototype.createElement=function(e){var t=e.attributes,n=this.type,i=re(n),o=this.context,l=new n({}),C=this.model,Y;return(0,a.forEach)(t,function(de,ye){var me=i.propertiesByName[ye],Ae;me&&me.isReference?me.isMany?(Ae=de.split(" "),(0,a.forEach)(Ae,function(it){o.addReference({element:l,property:me.ns.name,id:it})})):o.addReference({element:l,property:me.ns.name,id:de}):(me?de=De(me.type,de):ye!=="xmlns"&&(Y=Le(ye,i.ns.prefix),C.getPackage(Y.prefix)&&o.addWarning({message:"unknown attribute <"+ye+">",element:l,property:ye,value:de})),l.set(ye,de))}),l},He.prototype.getPropertyForNode=function(e){var t=e.name,n=Le(t),i=this.type,o=this.model,l=re(i),C=n.name,Y=l.propertiesByName[C],de,ye;if(Y&&!Y.isAttr)return c(Y)&&(de=e.attributes[dn],de)?(de=K(de,o),ye=o.getType(de),(0,a.assign)({},Y,{effectiveType:re(ye).name})):Y;var me=o.getPackage(n.prefix);if(me){if(de=d(n,me),ye=o.getType(de),Y=(0,a.find)(l.properties,function(Ae){return!Ae.isVirtual&&!Ae.isReference&&!Ae.isAttribute&&ye.hasType(Ae.type)}),Y)return(0,a.assign)({},Y,{effectiveType:re(ye).name})}else if(Y=(0,a.find)(l.properties,function(Ae){return!Ae.isReference&&!Ae.isAttribute&&Ae.type==="Element"}),Y)return Y;throw pe("unrecognized element <"+n.name+">")},He.prototype.toString=function(){return"ElementDescriptor["+re(this.type).name+"]"},He.prototype.valueHandler=function(e,t){return new St(e,t)},He.prototype.referenceHandler=function(e){return new rt(e,this.context)},He.prototype.handler=function(e){return e==="Element"?new xt(this.model,e,this.context):new He(this.model,e,this.context)},He.prototype.handleChild=function(e){var t,n,i,o;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,at(n))return this.valueHandler(t,i);t.isReference?o=this.referenceHandler(t).handleNode(e):o=this.handler(n).handleNode(e);var l=o.element;return l!==void 0&&(t.isMany?i.get(t.name).push(l):i.set(t.name,l),t.isReference?((0,a.assign)(l,{element:i}),this.context.addReference(l)):l.$parent=i),o};function Wt(e,t,n){He.call(this,e,t,n)}Wt.prototype=Object.create(He.prototype),Wt.prototype.createElement=function(e){var t=e.name,n=Le(t),i=this.model,o=this.type,l=i.getPackage(n.prefix),C=l&&d(n,l)||t;if(!o.hasType(C))throw pe("unexpected element <"+e.originalName+">");return He.prototype.createElement.call(this,e)};function xt(e,t,n){this.model=e,this.context=n}xt.prototype=Object.create(kt.prototype),xt.prototype.createElement=function(e){var t=e.name,n=Le(t),i=n.prefix,o=e.ns[i+"$uri"],l=e.attributes;return this.model.createAny(t,o,l)},xt.prototype.handleChild=function(e){var t=new xt(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element,o;return i!==void 0&&(o=n.$children=n.$children||[],o.push(i),i.$parent=n),t},xt.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function pt(e){e instanceof Tt&&(e={model:e}),(0,a.assign)(this,{lax:!1},e)}pt.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof He?(i=t,t={}):typeof t=="string"?(i=this.handler(t),t={}):typeof i=="string"&&(i=this.handler(i));var o=this.model,l=this.lax,C=new Z((0,a.assign)({},t,{rootHandler:i})),Y=new Fn({proxy:!0}),de=Ft();i.context=C,de.push(i);function ye(fe,ve,We){var Ke=ve(),Ye=Ke.line,$e=Ke.column,Ue=Ke.data;Ue.charAt(0)==="<"&&Ue.indexOf(" ")!==-1&&(Ue=Ue.slice(0,Ue.indexOf(" "))+">");var Te="unparsable content "+(Ue?Ue+" ":"")+`detected
	line: `+Ye+`
	column: `+$e+`
	nested error: `+fe.message;if(We)return C.addWarning({message:Te,error:fe}),!0;throw pe(Te)}function me(fe,ve){return ye(fe,ve,!0)}function Ae(){var fe=C.elementsById,ve=C.references,We,Ke;for(We=0;Ke=ve[We];We++){var Ye=Ke.element,$e=fe[Ke.id],Ue=re(Ye).propertiesByName[Ke.property];if($e||C.addWarning({message:"unresolved reference <"+Ke.id+">",element:Ke.element,property:Ke.property,value:Ke.id}),Ue.isMany){var Te=Ye.get(Ue.name),we=Te.indexOf(Ke);we===-1&&(we=Te.length),$e?Te[we]=$e:Te.splice(we,1)}else Ye.set(Ue.name,$e)}}function it(){de.pop().handleEnd()}var Ct=/^<\?xml /i,Bt=/ encoding="([^"]+)"/i,vt=/^utf-8$/i;function At(fe){if(!!Ct.test(fe)){var ve=Bt.exec(fe),We=ve&&ve[1];!We||vt.test(We)||C.addWarning({message:"unsupported document encoding <"+We+">, falling back to UTF-8"})}}function ct(fe,ve){var We=de.peek();try{de.push(We.handleNode(fe))}catch(Ke){ye(Ke,ve,l)&&de.push(new ut)}}function ie(fe,ve){try{de.peek().handleText(fe)}catch(We){me(We,ve)}}function Ie(fe,ve){!fe.trim()||ie(fe,ve)}var oe=o.getPackages().reduce(function(fe,ve){return fe[ve.uri]=ve.prefix,fe},{"http://www.w3.org/XML/1998/namespace":"xml"});return Y.ns(oe).on("openTag",function(fe,ve,We,Ke){var Ye=fe.attrs||{},$e=Object.keys(Ye).reduce(function(Te,we){var nt=ve(Ye[we]);return Te[we]=nt,Te},{}),Ue={name:fe.name,originalName:fe.originalName,attributes:$e,ns:fe.ns};ct(Ue,Ke)}).on("question",At).on("closeTag",it).on("cdata",ie).on("text",function(fe,ve,We){Ie(ve(fe),We)}).on("error",ye).on("warn",me),new Promise(function(fe,ve){var We;try{Y.parse(e),Ae()}catch(Te){We=Te}var Ke=i.element;!We&&!Ke&&(We=pe("failed to parse document as <"+i.type.$descriptor.name+">"));var Ye=C.warnings,$e=C.references,Ue=C.elementsById;return We?(We.warnings=Ye,ve(We)):fe({rootElement:Ke,elementsById:Ue,references:$e,warnings:Ye})})},pt.prototype.handler=function(e){return new Wt(this.model,e)};function Ft(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}var Gt=`<?xml version="1.0" encoding="UTF-8"?>
`,Fe=/<|>|'|"|&|\n\r|\n/g,Zt=/<|>|&/g;function Pe(e){var t={},n={},i={},o=[],l=[];this.byUri=function(C){return n[C]||e&&e.byUri(C)},this.add=function(C,Y){n[C.uri]=C,Y?o.push(C):l.push(C),this.mapPrefix(C.prefix,C.uri)},this.uriByPrefix=function(C){return t[C||"xmlns"]},this.mapPrefix=function(C,Y){t[C||"xmlns"]=Y},this.getNSKey=function(C){return C.prefix!==void 0?C.uri+"|"+C.prefix:C.uri},this.logUsed=function(C){var Y=C.uri,de=this.getNSKey(C);i[de]=this.byUri(Y),e&&e.logUsed(C)},this.getUsed=function(C){function Y(me){var Ae=de.getNSKey(me);return i[Ae]}var de=this,ye=[].concat(o,l);return ye.filter(Y)}}function Mn(e){return e.charAt(0).toLowerCase()+e.slice(1)}function bn(e,t){return Ut(t)?Mn(e):e}function en(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function On(e){return(0,a.isString)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function zn(e){return e.getUsed().filter(function(t){return t.prefix!=="xml"}).map(function(t){var n="xmlns"+(t.prefix?":"+t.prefix:"");return{name:n,value:t.uri}})}function jn(e,t){return t.isGeneric?(0,a.assign)({localName:t.ns.localName},e):(0,a.assign)({localName:bn(t.ns.localName,t.$pkg)},e)}function Un(e,t){return(0,a.assign)({localName:t.ns.localName},e)}function Kn(e){var t=e.$descriptor;return(0,a.filter)(t.properties,function(n){var i=n.name;if(n.isVirtual||!(0,a.has)(e,i))return!1;var o=e[i];return o===n.default||o===null?!1:n.isMany?o.length:!0})}var Dn={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Yn={"<":"lt",">":"gt","&":"amp"};function h(e,t,n){return e=(0,a.isString)(e)?e:""+e,e.replace(t,function(i){return"&"+n[i]+";"})}function r(e){return h(e,Fe,Dn)}function _(e){return h(e,Zt,Yn)}function D(e){return(0,a.filter)(e,function(t){return t.isAttr})}function te(e){return(0,a.filter)(e,function(t){return!t.isAttr})}function xe(e){this.tagName=e}xe.prototype.build=function(e){return this.element=e,this},xe.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function Me(){}Me.prototype.serializeValue=Me.prototype.serializeTo=function(e){e.append(this.escape?_(this.value):this.value)},Me.prototype.build=function(e,t){return this.value=t,e.type==="String"&&t.search(Zt)!==-1&&(this.escape=!0),this};function Xe(e){this.tagName=e}en(Xe,Me),Xe.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()};function Oe(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}Oe.prototype.build=function(e){this.element=e;var t=e.$descriptor,n=this.propertyDescriptor,i,o,l=t.isGeneric;return l?i=this.parseGeneric(e):i=this.parseNsAttributes(e),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(t),this.tagName=this.addTagName(this.ns),l||(o=Kn(e),this.parseAttributes(D(o)),this.parseContainments(te(o))),this.parseGenericAttributes(e,i),this},Oe.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return jn(t,e)},Oe.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Un(t,e)},Oe.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},Oe.prototype.nsAttributeName=function(e){var t;if((0,a.isString)(e)?t=Le(e):t=e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:(0,a.assign)({localName:t.localName},n)},Oe.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return(0,a.forEach)(e,function(o,l){var C;l==="$body"?n.push(new Me().build({type:"String"},o)):l==="$children"?(0,a.forEach)(o,function(Y){n.push(new Oe(t).build(Y))}):l.indexOf("$")!==0&&(C=t.parseNsAttribute(e,l,o),C&&i.push({name:l,value:o}))}),i},Oe.prototype.parseNsAttribute=function(e,t,n){var i=e.$model,o=Le(t),l;if(o.prefix==="xmlns"&&(l={prefix:o.localName,uri:n}),!o.prefix&&o.localName==="xmlns"&&(l={uri:n}),!l)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(l,!0,!0);else{var C=this.logNamespaceUsed(l,!0);this.getNamespaces().logUsed(C)}},Oe.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,o=[];return(0,a.forEach)(i,function(l,C){var Y=n.parseNsAttribute(e,C,l);Y&&o.push(Y)}),o},Oe.prototype.parseGenericAttributes=function(e,t){var n=this;(0,a.forEach)(t,function(i){if(i.name!==dn)try{n.addAttribute(n.nsAttributeName(i.name),i.value)}catch(o){console.warn("missing namespace information for ",i.name,"=",i.value,"on",e,o)}})},Oe.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;(0,a.forEach)(e,function(o){var l=i.get(o.name),C=o.isReference,Y=o.isMany;if(Y||(l=[l]),o.isBody)n.push(new Me().build(o,l[0]));else if(at(o.type))(0,a.forEach)(l,function(me){n.push(new Xe(t.addTagName(t.nsPropertyTagName(o))).build(o,me))});else if(C)(0,a.forEach)(l,function(me){n.push(new xe(t.addTagName(t.nsPropertyTagName(o))).build(me))});else{var de=c(o),ye=b(o);(0,a.forEach)(l,function(me){var Ae;de?Ae=new Mt(t,o):ye?Ae=new Oe(t,o):Ae=new Oe(t),n.push(Ae.build(me))})}})},Oe.prototype.getNamespaces=function(e){var t=this.namespaces,n=this.parent,i;return t||(i=n&&n.getNamespaces(),e||!i?this.namespaces=t=new Pe(i):t=i),t},Oe.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),o=e.uri,l=e.prefix,C=i.byUri(o);return(!C||n)&&i.add(e,t),i.mapPrefix(l,o),e},Oe.prototype.logNamespaceUsed=function(e,t){var n=this.element,i=n.$model,o=this.getNamespaces(t),l=e.prefix,C=e.uri,Y,de,ye;if(!l&&!C)return{localName:e.localName};if(ye=$n[l]||i&&(i.getPackage(l)||{}).uri,C=C||ye||o.uriByPrefix(l),!C)throw new Error("no namespace uri given for prefix <"+l+">");if(e=o.byUri(C),!e){for(Y=l,de=1;o.uriByPrefix(Y);)Y=l+"_"+de++;e=this.logNamespace({prefix:Y,uri:C},ye===C)}return l&&o.mapPrefix(l,C),e},Oe.prototype.parseAttributes=function(e){var t=this,n=this.element;(0,a.forEach)(e,function(i){var o=n.get(i.name);if(i.isReference)if(!i.isMany)o=o.id;else{var l=[];(0,a.forEach)(o,function(C){l.push(C.id)}),o=l.join(" ")}t.addAttribute(t.nsAttributeName(i),o)})},Oe.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),On(e)},Oe.prototype.addAttribute=function(e,t){var n=this.attrs;(0,a.isString)(t)&&(t=r(t));var i=(0,a.findIndex)(n,function(l){return l.name.localName===e.localName&&l.name.uri===e.uri&&l.name.prefix===e.prefix}),o={name:e,value:t};i!==-1?n.splice(i,1,o):n.push(o)},Oe.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=zn(n).concat(t)),(0,a.forEach)(t,function(i){e.append(" ").append(On(i.name)).append('="').append(i.value).append('"')})},Oe.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==Me;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),(0,a.forEach)(this.body,function(i){i.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()};function Mt(e,t){Oe.call(this,e,t)}en(Mt,Oe),Mt.prototype.parseNsAttributes=function(e){var t=Oe.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var o=e.$model.getPackage(i.uri),l=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(dn),(i.prefix?i.prefix+":":"")+l+n.ns.localName),t},Mt.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri};function sn(){this.value="",this.write=function(e){this.value+=e}}function tn(e,t){var n=[""];this.append=function(i){return e.write(i),this},this.appendNewLine=function(){return t&&e.write(`
`),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function Gn(e){e=(0,a.assign)({format:!1,preamble:!0},e||{});function t(n,i){var o=i||new sn,l=new tn(o,e.format);if(e.preamble&&l.append(Gt),new Oe().build(n).serializeTo(l),!i)return o.value}return{toXML:t}}function Sn(e,t){Tt.call(this,e,t)}Sn.prototype=Object.create(Tt.prototype),Sn.prototype.fromXML=function(e,t,n){(0,a.isString)(t)||(n=t,t="bpmn:Definitions");var i=new pt((0,a.assign)({model:this,lax:!0},n)),o=i.handler(t);return i.fromXML(e,o)},Sn.prototype.toXML=function(e,t){var n=new Gn(t);return new Promise(function(i,o){try{var l=n.toXML(e);return i({xml:l})}catch(C){return o(C)}})};var Wn="BPMN20",Zn="http://www.omg.org/spec/BPMN/20100524/MODEL",Xn="bpmn",Jn=[],Qn=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],or=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],sr={tagAlias:"lowerCase",typePrefix:"t"},ur={name:Wn,uri:Zn,prefix:Xn,associations:Jn,types:Qn,enumerations:or,xml:sr},cr="BPMNDI",lr="http://www.omg.org/spec/BPMN/20100524/DI",fr="bpmndi",pr=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],hr=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],dr=[],mr={name:cr,uri:lr,prefix:fr,types:pr,enumerations:hr,associations:dr},yr="DC",vr="http://www.omg.org/spec/DD/20100524/DC",gr="dc",Er=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],xr=[],wr={name:yr,uri:vr,prefix:gr,types:Er,associations:xr},_r="DI",br="http://www.omg.org/spec/DD/20100524/DI",Sr="di",Ar=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],Rr=[],Cr={tagAlias:"lowerCase"},Pr={name:_r,uri:br,prefix:Sr,types:Ar,associations:Rr,xml:Cr},Tr="bpmn.io colors for BPMN",Mr="http://bpmn.io/schema/bpmn/biocolor/1.0",Or="bioc",Dr=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],Nr=[],Lr=[],Br={name:Tr,uri:Mr,prefix:Or,types:Dr,enumerations:Nr,associations:Lr},Ir="BPMN in Color",kr="http://www.omg.org/spec/BPMN/non-normative/color/1.0",Fr="color",jr=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],Ur=[],Wr=[],Vr={name:Ir,uri:kr,prefix:Fr,types:jr,enumerations:Ur,associations:Wr},Hr={bpmn:ur,bpmndi:mr,dc:wr,di:Pr,bioc:Br,color:Vr};function $r(e,t){var n=(0,a.assign)({},Hr,e);return new Sn(n,t)}var Vt=A(61658),An=A(68990);function Lt(e,t){return e.$instanceOf(t)}function zr(e){return(0,a.find)(e.rootElements,function(t){return Lt(t,"bpmn:Process")||Lt(t,"bpmn:Collaboration")})}function Kr(e,t){var n={},i=[],o={};function l(X,ee){return function(ke){X(ke,ee)}}function C(X){n[X.id]=X}function Y(X){return n[X.id]}function de(X,ee){var ke=X.gfx;if(ke)throw new Error(t("already rendered {element}",{element:(0,Vt.x)(X)}));return e.element(X,o[X.id],ee)}function ye(X,ee){return e.root(X,o[X.id],ee)}function me(X,ee){try{var ke=o[X.id]&&de(X,ee);return C(X),ke}catch(wt){Ae(wt.message,{element:X,error:wt}),console.error(t("failed to import {element}",{element:(0,Vt.x)(X)})),console.error(wt)}}function Ae(X,ee){e.error(X,ee)}function it(X){var ee=X.bpmnElement;ee?o[ee.id]?Ae(t("multiple DI elements defined for {element}",{element:(0,Vt.x)(ee)}),{element:ee}):(o[ee.id]=X,(0,An.S)(ee)):Ae(t("no bpmnElement referenced in {element}",{element:(0,Vt.x)(X)}),{element:X})}function Ct(X){Bt(X.plane)}function Bt(X){it(X),(0,a.forEach)(X.planeElement,vt)}function vt(X){it(X)}function At(X,ee){var ke=X.diagrams;if(ee&&ke.indexOf(ee)===-1)throw new Error(t("diagram not part of bpmn:Definitions"));if(!ee&&ke&&ke.length&&(ee=ke[0]),!ee)throw new Error(t("no diagram to display"));o={},Ct(ee);var wt=ee.plane;if(!wt)throw new Error(t("no plane for {element}",{element:(0,Vt.x)(ee)}));var gt=wt.bpmnElement;if(!gt)if(gt=zr(X),gt)Ae(t("correcting missing bpmnElement on {plane} to {rootElement}",{plane:(0,Vt.x)(wt),rootElement:(0,Vt.x)(gt)})),wt.bpmnElement=gt,it(wt);else throw new Error(t("no process or collaboration to display"));var Ht=ye(gt,wt);if(Lt(gt,"bpmn:Process")||Lt(gt,"bpmn:SubProcess"))ie(gt,Ht);else if(Lt(gt,"bpmn:Collaboration"))In(gt,Ht),Ie(X.rootElements,Ht);else throw new Error(t("unsupported bpmnElement for {plane}: {rootElement}",{plane:(0,Vt.x)(wt),rootElement:(0,Vt.x)(gt)}));ct(i)}function ct(){for(var X;i.length;)X=i.shift(),X()}function ie(X,ee){un(X,ee),Ue(X.ioSpecification,ee),$e(X.artifacts,ee),C(X)}function Ie(X,ee){var ke=(0,a.filter)(X,function(wt){return!Y(wt)&&Lt(wt,"bpmn:Process")&&wt.laneSets});ke.forEach(l(ie,ee))}function oe(X,ee){me(X,ee)}function fe(X,ee){(0,a.forEach)(X,l(oe,ee))}function ve(X,ee){me(X,ee)}function We(X,ee){me(X,ee)}function Ke(X,ee){me(X,ee)}function Ye(X,ee){me(X,ee)}function $e(X,ee){(0,a.forEach)(X,function(ke){Lt(ke,"bpmn:Association")?i.push(function(){Ye(ke,ee)}):Ye(ke,ee)})}function Ue(X,ee){!X||((0,a.forEach)(X.dataInputs,l(We,ee)),(0,a.forEach)(X.dataOutputs,l(Ke,ee)))}function Te(X,ee){un(X,ee),$e(X.artifacts,ee)}function we(X,ee){var ke=me(X,ee);Lt(X,"bpmn:SubProcess")&&Te(X,ke||ee),Lt(X,"bpmn:Activity")&&Ue(X.ioSpecification,ee),i.push(function(){(0,a.forEach)(X.dataInputAssociations,l(ve,ee)),(0,a.forEach)(X.dataOutputAssociations,l(ve,ee))})}function nt(X,ee){me(X,ee)}function Ln(X,ee){me(X,ee)}function ht(X,ee){i.push(function(){var ke=me(X,ee);X.childLaneSet&&ze(X.childLaneSet,ke||ee),kn(X)})}function ze(X,ee){(0,a.forEach)(X.lanes,l(ht,ee))}function yn(X,ee){(0,a.forEach)(X,l(ze,ee))}function un(X,ee){Ot(X.flowElements,ee),X.laneSets&&yn(X.laneSets,ee)}function Ot(X,ee){(0,a.forEach)(X,function(ke){Lt(ke,"bpmn:SequenceFlow")?i.push(function(){nt(ke,ee)}):Lt(ke,"bpmn:BoundaryEvent")?i.unshift(function(){we(ke,ee)}):Lt(ke,"bpmn:FlowNode")?we(ke,ee):Lt(ke,"bpmn:DataObject")||(Lt(ke,"bpmn:DataStoreReference")||Lt(ke,"bpmn:DataObjectReference")?Ln(ke,ee):Ae(t("unrecognized flowElement {element} in context {context}",{element:(0,Vt.x)(ke),context:ee?(0,Vt.x)(ee.businessObject):"null"}),{element:ke,context:ee}))})}function Bn(X,ee){var ke=me(X,ee),wt=X.processRef;wt&&ie(wt,ke||ee)}function In(X,ee){(0,a.forEach)(X.participants,l(Bn,ee)),$e(X.artifacts,ee),i.push(function(){fe(X.messageFlows,ee)})}function kn(X){(0,a.forEach)(X.flowNodeRef,function(ee){var ke=ee.get("lanes");ke&&ke.push(X)})}return{handleDeferred:ct,handleDefinitions:At,handleSubProcess:Te,registerDi:it}}var Nn=A(14252);function Yr(e,t,n){var i,o,l,C,Y,de=[];function ye(me,Ae){var it={root:function(At,ct){return i.add(At,ct)},element:function(At,ct,ie){return i.add(At,ct,ie)},error:function(At,ct){de.push({message:At,context:ct})}},Ct=new Kr(it,l);Ae=Ae||me.diagrams&&me.diagrams[0];var Bt=Gr(me,Ae);if(!Bt)throw new Error(l("no diagram to display"));(0,a.forEach)(Bt,function(At){Ct.handleDefinitions(me,At)});var vt=Ae.plane.bpmnElement.id;C.setRootElement(C.findRoot(vt+"_plane")||C.findRoot(vt))}return new Promise(function(me,Ae){try{return i=e.get("bpmnImporter"),o=e.get("eventBus"),l=e.get("translate"),C=e.get("canvas"),o.fire("import.render.start",{definitions:t}),ye(t,n),o.fire("import.render.complete",{error:Y,warnings:de}),me({warnings:de})}catch(it){return it.warnings=de,Ae(it)}})}function Gr(e,t){if(!!t){var n=t.plane.bpmnElement,i=n;!(0,Nn.is)(n,"bpmn:Process")&&!(0,Nn.is)(n,"bpmn:Collaboration")&&(i=Zr(n));var o;(0,Nn.is)(i,"bpmn:Collaboration")?o=i:o=(0,a.find)(e.rootElements,function(ye){if(!!(0,Nn.is)(ye,"bpmn:Collaboration"))return(0,a.find)(ye.participants,function(me){return me.processRef===i})});var l=[i];o&&(l=(0,a.map)(o.participants,function(ye){return ye.processRef}),l.push(o));var C=qn(l),Y=[t],de=[n];return(0,a.forEach)(e.diagrams,function(ye){var me=ye.plane.bpmnElement;C.indexOf(me)!==-1&&de.indexOf(me)===-1&&(Y.push(ye),de.push(me))}),Y}}function qn(e){var t=[];return(0,a.forEach)(e,function(n){!n||(t.push(n),t=t.concat(qn(n.flowElements)))}),t}function Zr(e){for(var t=e;t;){if((0,Nn.is)(t,"bpmn:Process"))return t;t=t.$parent}}var Xr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',er=Xr,tr={verticalAlign:"middle"},nr={color:"#404040"},Jr={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Qr={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},qr={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},ei='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+er+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',Xt;function ti(){Xt=(0,m.H6)(ei),(0,m.i5)(Xt,Jr),(0,m.i5)((0,m.IO)("svg",Xt),tr),(0,m.i5)((0,m.IO)(".backdrop",Xt),Qr),(0,m.i5)((0,m.IO)(".notice",Xt),qr),(0,m.i5)((0,m.IO)(".link",Xt),nr,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function ni(){Xt||(ti(),m.cl.bind(Xt,".backdrop","click",function(e){document.body.removeChild(Xt)})),document.body.appendChild(Xt)}function yt(e){e=(0,a.assign)({},ii,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),oi(this._container),this._init(this._container,this._moddle,e)}(0,W.Z)(yt,be),yt.prototype.importXML=(0,An.$)(function(t,n){return Cn(this,null,function*(){const i=this;function o(C){const Y=i.get("eventBus").createEvent(C);return Object.defineProperty(Y,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:C.warnings,references:C.references,elementsById:C.elementsById}}}),Y}let l=[];try{t=this._emit("import.parse.start",{xml:t})||t;let C;try{C=yield this._moddle.fromXML(t,"bpmn:Definitions")}catch(it){throw this._emit("import.parse.complete",{error:it}),it}let Y=C.rootElement;const de=C.references,ye=C.warnings,me=C.elementsById;l=l.concat(ye),Y=this._emit("import.parse.complete",o({error:null,definitions:Y,elementsById:me,references:de,warnings:l}))||Y;const Ae=yield this.importDefinitions(Y,n);return l=l.concat(Ae.warnings),this._emit("import.done",{error:null,warnings:l}),{warnings:l}}catch(C){let Y=C;throw l=l.concat(Y.warnings||[]),Vn(Y,l),Y=ri(Y),this._emit("import.done",{error:Y,warnings:Y.warnings}),Y}})}),yt.prototype.importDefinitions=(0,An.$)(function(t,n){return Cn(this,null,function*(){return this._setDefinitions(t),{warnings:(yield this.open(n)).warnings}})}),yt.prototype.open=(0,An.$)(function(t){return Cn(this,null,function*(){const n=this._definitions;let i=t;if(!n){const l=new Error("no XML imported");throw Vn(l,[]),l}if(typeof t=="string"&&(i=ai(n,t),!i)){const l=new Error("BPMNDiagram <"+t+"> not found");throw Vn(l,[]),l}try{this.clear()}catch(l){throw Vn(l,[]),l}const{warnings:o}=yield Yr(this,n,i);return{warnings:o}})}),yt.prototype.saveXML=(0,An.$)(function(t){return Cn(this,null,function*(){t=t||{};let n=this._definitions,i,o;try{if(!n)throw new Error("no definitions loaded");n=this._emit("saveXML.start",{definitions:n})||n,o=(yield this._moddle.toXML(n,t)).xml,o=this._emit("saveXML.serialized",{xml:o})||o}catch(C){i=C}const l=i?{error:i}:{xml:o};if(this._emit("saveXML.done",l),i)throw i;return l})}),yt.prototype.saveSVG=(0,An.$)(function(){return Cn(this,arguments,function*(t={}){this._emit("saveSVG.start");let n,i;try{const o=this.get("canvas"),l=o.getActiveLayer(),C=(0,m.IO)("defs",o._svg),Y=(0,E.db)(l),de=C?"<defs>"+(0,E.db)(C)+"</defs>":"",ye=l.getBBox();n=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+ye.width+'" height="'+ye.height+'" viewBox="'+ye.x+" "+ye.y+" "+ye.width+" "+ye.height+'" version="1.1">'+de+Y+"</svg>"}catch(o){i=o}if(this._emit("saveSVG.done",{error:i,svg:n}),i)throw i;return{svg:n}})}),yt.prototype._setDefinitions=function(e){this._definitions=e},yt.prototype.getModules=function(){return this._modules},yt.prototype.clear=function(){!this.getDefinitions()||be.prototype.clear.call(this)},yt.prototype.destroy=function(){be.prototype.destroy.call(this),(0,m.Od)(this._container)},yt.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},yt.prototype.off=function(e,t){this.get("eventBus").off(e,t)},yt.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=(0,m.IO)(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},yt.prototype.getDefinitions=function(){return this._definitions},yt.prototype.detach=function(){const e=this._container,t=e.parentNode;!t||(this._emit("detach",{}),t.removeChild(e))},yt.prototype._init=function(e,t,n){const i=n.modules||this.getModules(),o=n.additionalModules||[],l=[{bpmnjs:["value",this],moddle:["value",t]}],C=[].concat(l,i,o),Y=(0,a.assign)((0,a.omit)(n,["additionalModules"]),{canvas:(0,a.assign)({},n.canvas,{container:e}),modules:C});be.call(this,Y),n&&n.container&&this.attachTo(n.container)},yt.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},yt.prototype._createContainer=function(e){const t=(0,m.H6)('<div class="bjs-container"></div>');return(0,m.i5)(t,{width:rr(e.width),height:rr(e.height),position:e.position}),t},yt.prototype._createModdle=function(e){const t=(0,a.assign)({},this._moddleExtensions,e.moddleExtensions);return new $r(t)},yt.prototype._modules=[];function Vn(e,t){return e.warnings=t,e}function ri(e){const n=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return n&&(e.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+n[2]),e}const ii={width:"100%",height:"100%",position:"relative"};function rr(e){return e+((0,a.isNumber)(e)?"px":"")}function ai(e,t){return t&&(0,a.find)(e.diagrams,function(n){return n.id===t})||null}function oi(e){const n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+er+"</a>",i=(0,m.H6)(n);(0,m.i5)((0,m.IO)("svg",i),tr),(0,m.i5)(i,nr,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(i),m.B.bind(i,"click",function(o){ni(),o.preventDefault()})}},47087:function(Re,se,A){"use strict";A.d(se,{Z:function(){return mn}});var a=A(61066),m=A(18670),E=A(76858),P=A(87517),N=A(94635),s=A(14252),p=A(38230),O="hsl(225, 10%, 15%)";function j(c,b,I){function d(z,K){return(0,m.every)(K,function(pe,re){return z[re]==pe})}return(0,m.some)(c.eventDefinitions,function(z){return z.$type===b&&d(c,I)})}function M(c){return c.$type==="bpmn:IntermediateThrowEvent"||c.$type==="bpmn:EndEvent"}function G(c){var b=c.dataObjectRef;return c.isCollection||b&&b.isCollection}function U(c){return c.businessObject}function R(c,b){var I=(0,s.DN)(c);return I.get("color:background-color")||I.get("bioc:fill")||b||"white"}function f(c,b){var I=(0,s.DN)(c);return I.get("color:border-color")||I.get("bioc:stroke")||b||O}function W(c,b,I){var d=(0,s.DN)(c),z=d.get("label");return z&&z.get("color:color")||b||f(c,I)}function x(c){var b=c.x+c.width/2,I=c.y+c.height/2,d=c.width/2,z=[["M",b,I],["m",0,-d],["a",d,d,0,1,1,0,2*d],["a",d,d,0,1,1,0,-2*d],["z"]];return(0,p.KO)(z)}function F(c,b){var I=c.x,d=c.y,z=c.width,K=c.height,pe=[["M",I+b,d],["l",z-b*2,0],["a",b,b,0,0,1,b,b],["l",0,K-b*2],["a",b,b,0,0,1,-b,b],["l",b*2-z,0],["a",b,b,0,0,1,-b,-b],["l",0,b*2-K],["a",b,b,0,0,1,b,-b],["z"]];return(0,p.KO)(pe)}function k(c){var b=c.width,I=c.height,d=c.x,z=c.y,K=b/2,pe=I/2,re=[["M",d+K,z],["l",K,pe],["l",-K,pe],["l",-K,-pe],["z"]];return(0,p.KO)(re)}function J(c){var b=c.x,I=c.y,d=c.width,z=c.height,K=[["M",b,I],["l",d,0],["l",0,z],["l",-d,0],["z"]];return(0,p.KO)(K)}var Q=A(9674),V=A(17487),le=A(62168),_e=A(3088),Ce=new _e.Z,ge=10,Qe=3,je=.95,mt=.35,Pt=10;function ot(c,b,I,d,z,K,pe){E.Z.call(this,b,pe);var re=c&&c.defaultFillColor,Z=c&&c.defaultStrokeColor,Ve=c&&c.defaultLabelColor,ut=Ce.next(),ft={},rt=I.computeStyle;function St(h,r){var _=(0,m.assign)({fill:O,strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},r.attrs),D=r.ref||{x:0,y:0},te=r.scale||1;_.strokeDasharray==="none"&&(_.strokeDasharray=[1e4,1]);var xe=(0,V.Ue)("marker");(0,V.Lj)(r.element,_),(0,V.R3)(xe,r.element),(0,V.Lj)(xe,{id:h,viewBox:"0 0 20 20",refX:D.x,refY:D.y,markerWidth:20*te,markerHeight:20*te,orient:"auto"});var Me=(0,Q.IO)("defs",z._svg);Me||(Me=(0,V.Ue)("defs"),(0,V.R3)(z._svg,Me)),(0,V.R3)(Me,xe),ft[h]=xe}function kt(h){return h.replace(/[^0-9a-zA-z]+/g,"_")}function He(h,r,_){var D=h+"-"+kt(r)+"-"+kt(_)+"-"+ut;return ft[D]||Wt(D,h,r,_),"url(#"+D+")"}function Wt(h,r,_,D){if(r==="sequenceflow-end"){var te=(0,V.Ue)("path");(0,V.Lj)(te,{d:"M 1 5 L 11 10 L 1 15 Z"}),St(h,{element:te,ref:{x:11,y:10},scale:.5,attrs:{fill:D,stroke:D}})}if(r==="messageflow-start"){var xe=(0,V.Ue)("circle");(0,V.Lj)(xe,{cx:6,cy:6,r:3.5}),St(h,{element:xe,attrs:{fill:_,stroke:D},ref:{x:6,y:6}})}if(r==="messageflow-end"){var Me=(0,V.Ue)("path");(0,V.Lj)(Me,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),St(h,{element:Me,attrs:{fill:_,stroke:D,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if(r==="association-start"){var Xe=(0,V.Ue)("path");(0,V.Lj)(Xe,{d:"M 11 5 L 1 10 L 11 15"}),St(h,{element:Xe,attrs:{fill:"none",stroke:D,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if(r==="association-end"){var Oe=(0,V.Ue)("path");(0,V.Lj)(Oe,{d:"M 1 5 L 11 10 L 1 15"}),St(h,{element:Oe,attrs:{fill:"none",stroke:D,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if(r==="conditional-flow-marker"){var Mt=(0,V.Ue)("path");(0,V.Lj)(Mt,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),St(h,{element:Mt,attrs:{fill:_,stroke:D},ref:{x:-1,y:10},scale:.5})}if(r==="conditional-default-flow-marker"){var sn=(0,V.Ue)("path");(0,V.Lj)(sn,{d:"M 6 4 L 10 16"}),St(h,{element:sn,attrs:{stroke:D},ref:{x:0,y:10},scale:.5})}}function xt(h,r,_,D,te){(0,m.isObject)(D)&&(te=D,D=0),D=D||0,te=rt(te,{stroke:O,strokeWidth:2,fill:"white"}),te.fill==="none"&&delete te.fillOpacity;var xe=r/2,Me=_/2,Xe=(0,V.Ue)("circle");return(0,V.Lj)(Xe,{cx:xe,cy:Me,r:Math.round((r+_)/4-D)}),(0,V.Lj)(Xe,te),(0,V.R3)(h,Xe),Xe}function pt(h,r,_,D,te,xe){(0,m.isObject)(te)&&(xe=te,te=0),te=te||0,xe=rt(xe,{stroke:O,strokeWidth:2,fill:"white"});var Me=(0,V.Ue)("rect");return(0,V.Lj)(Me,{x:te,y:te,width:r-te*2,height:_-te*2,rx:D,ry:D}),(0,V.Lj)(Me,xe),(0,V.R3)(h,Me),Me}function Ft(h,r,_,D){var te=r/2,xe=_/2,Me=[{x:te,y:0},{x:r,y:xe},{x:te,y:_},{x:0,y:xe}],Xe=Me.map(function(Mt){return Mt.x+","+Mt.y}).join(" ");D=rt(D,{stroke:O,strokeWidth:2,fill:"white"});var Oe=(0,V.Ue)("polygon");return(0,V.Lj)(Oe,{points:Xe}),(0,V.Lj)(Oe,D),(0,V.R3)(h,Oe),Oe}function Gt(h,r,_){_=rt(_,["no-fill"],{stroke:O,strokeWidth:2,fill:"none"});var D=(0,p.W5)(r,_);return(0,V.R3)(h,D),D}function Fe(h,r,_){_=rt(_,["no-fill"],{strokeWidth:2,stroke:O});var D=(0,V.Ue)("path");return(0,V.Lj)(D,{d:r}),(0,V.Lj)(D,_),(0,V.R3)(h,D),D}function Zt(h,r,_,D){return Fe(r,_,(0,m.assign)({"data-marker":h},D))}function Pe(h){return Kn[h]}function Mn(h){return function(r,_){return Pe(h)(r,_)}}function bn(h,r){var _=U(h),D=M(_);return _.eventDefinitions&&_.eventDefinitions.length>1?_.parallelMultiple?Pe("bpmn:ParallelMultipleEventDefinition")(r,h,D):Pe("bpmn:MultipleEventDefinition")(r,h,D):j(_,"bpmn:MessageEventDefinition")?Pe("bpmn:MessageEventDefinition")(r,h,D):j(_,"bpmn:TimerEventDefinition")?Pe("bpmn:TimerEventDefinition")(r,h,D):j(_,"bpmn:ConditionalEventDefinition")?Pe("bpmn:ConditionalEventDefinition")(r,h):j(_,"bpmn:SignalEventDefinition")?Pe("bpmn:SignalEventDefinition")(r,h,D):j(_,"bpmn:EscalationEventDefinition")?Pe("bpmn:EscalationEventDefinition")(r,h,D):j(_,"bpmn:LinkEventDefinition")?Pe("bpmn:LinkEventDefinition")(r,h,D):j(_,"bpmn:ErrorEventDefinition")?Pe("bpmn:ErrorEventDefinition")(r,h,D):j(_,"bpmn:CancelEventDefinition")?Pe("bpmn:CancelEventDefinition")(r,h,D):j(_,"bpmn:CompensateEventDefinition")?Pe("bpmn:CompensateEventDefinition")(r,h,D):j(_,"bpmn:TerminateEventDefinition")?Pe("bpmn:TerminateEventDefinition")(r,h,D):null}function en(h,r,_){_=(0,m.assign)({size:{width:100}},_);var D=K.createText(r||"",_);return(0,V.Sh)(D).add("djs-label"),(0,V.R3)(h,D),D}function On(h,r,_){var D=U(r);return en(h,D.name,{box:r,align:_,padding:5,style:{fill:W(r,Ve,Z)}})}function zn(h,r){var _={width:90,height:30,x:r.width/2+r.x,y:r.height/2+r.y};return en(h,(0,N.i)(r),{box:_,fitBox:!0,style:(0,m.assign)({},K.getExternalStyle(),{fill:W(r,Ve,Z)})})}function jn(h,r,_){var D=en(h,r,{box:{height:30,width:_.height},align:"center-middle",style:{fill:W(_,Ve,Z)}}),te=-1*_.height;(0,le.vs)(D,0,-te,270)}function Un(h){for(var r=h.waypoints,_="m  "+r[0].x+","+r[0].y,D=1;D<r.length;D++)_+="L"+r[D].x+","+r[D].y+" ";return _}var Kn=this.handlers={"bpmn:Event":function(h,r,_){return"fillOpacity"in _||(_.fillOpacity=je),xt(h,r.width,r.height,_)},"bpmn:StartEvent":function(h,r){var _={fill:R(r,re),stroke:f(r,Z)},D=U(r);D.isInterrupting||(_={strokeDasharray:"6",strokeLinecap:"round",fill:R(r,re),stroke:f(r,Z)});var te=Pe("bpmn:Event")(h,r,_);return bn(r,h),te},"bpmn:MessageEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:r.width,containerHeight:r.height,position:{mx:.235,my:.315}}),te=_?f(r,Z):R(r,re),xe=_?R(r,re):f(r,Z),Me=Fe(h,D,{strokeWidth:1,fill:te,stroke:xe});return Me},"bpmn:TimerEventDefinition":function(h,r){var _=xt(h,r.width,r.height,.2*r.height,{strokeWidth:2,fill:R(r,re),stroke:f(r,Z)}),D=d.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:r.width,containerHeight:r.height,position:{mx:.5,my:.5}});Fe(h,D,{strokeWidth:2,strokeLinecap:"square",stroke:f(r,Z)});for(var te=0;te<12;te++){var xe=d.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:r.width,containerHeight:r.height,position:{mx:.5,my:.5}}),Me=r.width/2,Xe=r.height/2;Fe(h,xe,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+te*30+","+Xe+","+Me+")",stroke:f(r,Z)})}return _},"bpmn:EscalationEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.5,my:.2}}),te=_?f(r,Z):"none";return Fe(h,D,{strokeWidth:1,fill:te,stroke:f(r,Z)})},"bpmn:ConditionalEventDefinition":function(h,r){var _=d.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.5,my:.222}});return Fe(h,_,{strokeWidth:1,stroke:f(r,Z)})},"bpmn:LinkEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.57,my:.263}}),te=_?f(r,Z):"none";return Fe(h,D,{strokeWidth:1,fill:te,stroke:f(r,Z)})},"bpmn:ErrorEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:r.width,containerHeight:r.height,position:{mx:.2,my:.722}}),te=_?f(r,Z):"none";return Fe(h,D,{strokeWidth:1,fill:te,stroke:f(r,Z)})},"bpmn:CancelEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.638,my:-.055}}),te=_?f(r,Z):"none",xe=Fe(h,D,{strokeWidth:1,fill:te,stroke:f(r,Z)});return(0,le.U1)(xe,45),xe},"bpmn:CompensateEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.22,my:.5}}),te=_?f(r,Z):"none";return Fe(h,D,{strokeWidth:1,fill:te,stroke:f(r,Z)})},"bpmn:SignalEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:r.width,containerHeight:r.height,position:{mx:.5,my:.2}}),te=_?f(r,Z):"none";return Fe(h,D,{strokeWidth:1,fill:te,stroke:f(r,Z)})},"bpmn:MultipleEventDefinition":function(h,r,_){var D=d.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:r.width,containerHeight:r.height,position:{mx:.222,my:.36}}),te=_?f(r,Z):"none";return Fe(h,D,{strokeWidth:1,fill:te})},"bpmn:ParallelMultipleEventDefinition":function(h,r){var _=d.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:r.width,containerHeight:r.height,position:{mx:.458,my:.194}});return Fe(h,_,{strokeWidth:1,fill:f(r,Z),stroke:f(r,Z)})},"bpmn:EndEvent":function(h,r){var _=Pe("bpmn:Event")(h,r,{strokeWidth:4,fill:R(r,re),stroke:f(r,Z)});return bn(r,h,!0),_},"bpmn:TerminateEventDefinition":function(h,r){var _=xt(h,r.width,r.height,8,{strokeWidth:4,fill:f(r,Z),stroke:f(r,Z)});return _},"bpmn:IntermediateEvent":function(h,r){var _=Pe("bpmn:Event")(h,r,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z)});return xt(h,r.width,r.height,Qe,{strokeWidth:1,fill:R(r,"none"),stroke:f(r,Z)}),bn(r,h),_},"bpmn:IntermediateCatchEvent":Mn("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Mn("bpmn:IntermediateEvent"),"bpmn:Activity":function(h,r,_){return _=_||{},"fillOpacity"in _||(_.fillOpacity=je),pt(h,r.width,r.height,ge,_)},"bpmn:Task":function(h,r){var _={fill:R(r,re),stroke:f(r,Z)},D=Pe("bpmn:Activity")(h,r,_);return On(h,r,"center-middle"),Dn(h,r),D},"bpmn:ServiceTask":function(h,r){var _=Pe("bpmn:Task")(h,r),D=d.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});Fe(h,D,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z)});var te=d.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}});Fe(h,te,{strokeWidth:0,fill:R(r,re)});var xe=d.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return Fe(h,xe,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z)}),_},"bpmn:UserTask":function(h,r){var _=Pe("bpmn:Task")(h,r),D=15,te=12,xe=d.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:D,y:te}});Fe(h,xe,{strokeWidth:.5,fill:R(r,re),stroke:f(r,Z)});var Me=d.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:D,y:te}});Fe(h,Me,{strokeWidth:.5,fill:R(r,re),stroke:f(r,Z)});var Xe=d.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:D,y:te}});return Fe(h,Xe,{strokeWidth:.5,fill:f(r,Z),stroke:f(r,Z)}),_},"bpmn:ManualTask":function(h,r){var _=Pe("bpmn:Task")(h,r),D=d.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return Fe(h,D,{strokeWidth:.5,fill:R(r,re),stroke:f(r,Z)}),_},"bpmn:SendTask":function(h,r){var _=Pe("bpmn:Task")(h,r),D=d.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return Fe(h,D,{strokeWidth:1,fill:f(r,Z),stroke:R(r,re)}),_},"bpmn:ReceiveTask":function(h,r){var _=U(r),D=Pe("bpmn:Task")(h,r),te;return _.instantiate?(xt(h,28,28,20*.22,{strokeWidth:1}),te=d.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):te=d.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),Fe(h,te,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z)}),D},"bpmn:ScriptTask":function(h,r){var _=Pe("bpmn:Task")(h,r),D=d.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return Fe(h,D,{strokeWidth:1,stroke:f(r,Z)}),_},"bpmn:BusinessRuleTask":function(h,r){var _=Pe("bpmn:Task")(h,r),D=d.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),te=Fe(h,D);(0,V.Lj)(te,{strokeWidth:1,fill:R(r,"#aaaaaa"),stroke:f(r,Z)});var xe=d.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),Me=Fe(h,xe);return(0,V.Lj)(Me,{strokeWidth:1,stroke:f(r,Z)}),_},"bpmn:SubProcess":function(h,r,_){_=(0,m.assign)({fill:R(r,re),stroke:f(r,Z)},_);var D=Pe("bpmn:Activity")(h,r,_),te=(0,P.ul)(r);return(0,P.J5)(r)&&(0,V.Lj)(D,{strokeDasharray:"1,2"}),On(h,r,te?"center-top":"center-middle"),te?Dn(h,r):Dn(h,r,["SubProcessMarker"]),D},"bpmn:AdHocSubProcess":function(h,r){return Pe("bpmn:SubProcess")(h,r)},"bpmn:Transaction":function(h,r){var _=Pe("bpmn:SubProcess")(h,r),D=I.style(["no-fill","no-events"],{stroke:f(r,Z)});return pt(h,r.width,r.height,ge-2,Qe,D),_},"bpmn:CallActivity":function(h,r){return Pe("bpmn:SubProcess")(h,r,{strokeWidth:5})},"bpmn:Participant":function(h,r){var _={fillOpacity:je,fill:R(r,re),stroke:f(r,Z)},D=Pe("bpmn:Lane")(h,r,_),te=(0,P.ul)(r);if(te){Gt(h,[{x:30,y:0},{x:30,y:r.height}],{stroke:f(r,Z)});var xe=U(r).name;jn(h,xe,r)}else{var Me=U(r).name;en(h,Me,{box:r,align:"center-middle",style:{fill:W(r,Ve,Z)}})}var Xe=!!U(r).participantMultiplicity;return Xe&&Pe("ParticipantMultiplicityMarker")(h,r),D},"bpmn:Lane":function(h,r,_){var D=pt(h,r.width,r.height,0,(0,m.assign)({fill:R(r,re),fillOpacity:mt,stroke:f(r,Z)},_)),te=U(r);if(te.$type==="bpmn:Lane"){var xe=te.name;jn(h,xe,r)}return D},"bpmn:InclusiveGateway":function(h,r){var _=Pe("bpmn:Gateway")(h,r);return xt(h,r.width,r.height,r.height*.24,{strokeWidth:2.5,fill:R(r,re),stroke:f(r,Z)}),_},"bpmn:ExclusiveGateway":function(h,r){var _=Pe("bpmn:Gateway")(h,r),D=d.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:r.width,containerHeight:r.height,position:{mx:.32,my:.3}});return(0,s.DN)(r).isMarkerVisible&&Fe(h,D,{strokeWidth:1,fill:f(r,Z),stroke:f(r,Z)}),_},"bpmn:ComplexGateway":function(h,r){var _=Pe("bpmn:Gateway")(h,r),D=d.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:r.width,containerHeight:r.height,position:{mx:.46,my:.26}});return Fe(h,D,{strokeWidth:1,fill:f(r,Z),stroke:f(r,Z)}),_},"bpmn:ParallelGateway":function(h,r){var _=Pe("bpmn:Gateway")(h,r),D=d.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:r.width,containerHeight:r.height,position:{mx:.46,my:.2}});return Fe(h,D,{strokeWidth:1,fill:f(r,Z),stroke:f(r,Z)}),_},"bpmn:EventBasedGateway":function(h,r){var _=U(r),D=Pe("bpmn:Gateway")(h,r);xt(h,r.width,r.height,r.height*.2,{strokeWidth:1,fill:"none",stroke:f(r,Z)});var te=_.eventGatewayType,xe=!!_.instantiate;function Me(){var sn=d.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:r.width,containerHeight:r.height,position:{mx:.36,my:.44}}),tn={strokeWidth:2,fill:R(r,"none"),stroke:f(r,Z)};Fe(h,sn,tn)}if(te==="Parallel"){var Xe=d.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:r.width,containerHeight:r.height,position:{mx:.474,my:.296}}),Oe=Fe(h,Xe);(0,V.Lj)(Oe,{strokeWidth:1,fill:"none"})}else if(te==="Exclusive"){if(!xe){var Mt=xt(h,r.width,r.height,r.height*.26);(0,V.Lj)(Mt,{strokeWidth:1,fill:"none",stroke:f(r,Z)})}Me()}return D},"bpmn:Gateway":function(h,r){var _={fill:R(r,re),fillOpacity:je,stroke:f(r,Z)};return Ft(h,r.width,r.height,_)},"bpmn:SequenceFlow":function(h,r){var _=Un(r),D=R(r,re),te=f(r,Z),xe={strokeLinejoin:"round",markerEnd:He("sequenceflow-end",D,te),stroke:f(r,Z)},Me=Fe(h,_,xe),Xe=U(r),Oe;return r.source&&(Oe=r.source.businessObject,Xe.conditionExpression&&Oe.$instanceOf("bpmn:Activity")&&(0,V.Lj)(Me,{markerStart:He("conditional-flow-marker",D,te)}),Oe.default&&(Oe.$instanceOf("bpmn:Gateway")||Oe.$instanceOf("bpmn:Activity"))&&Oe.default===Xe&&(0,V.Lj)(Me,{markerStart:He("conditional-default-flow-marker",D,te)})),Me},"bpmn:Association":function(h,r,_){var D=U(r),te=R(r,re),xe=f(r,Z);return _=(0,m.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:f(r,Z)},_||{}),(D.associationDirection==="One"||D.associationDirection==="Both")&&(_.markerEnd=He("association-end",te,xe)),D.associationDirection==="Both"&&(_.markerStart=He("association-start",te,xe)),Gt(h,r.waypoints,_)},"bpmn:DataInputAssociation":function(h,r){var _=R(r,re),D=f(r,Z);return Pe("bpmn:Association")(h,r,{markerEnd:He("association-end",_,D)})},"bpmn:DataOutputAssociation":function(h,r){var _=R(r,re),D=f(r,Z);return Pe("bpmn:Association")(h,r,{markerEnd:He("association-end",_,D)})},"bpmn:MessageFlow":function(h,r){var _=U(r),D=(0,s.DN)(r),te=R(r,re),xe=f(r,Z),Me=Un(r),Xe={markerEnd:He("messageflow-end",te,xe),markerStart:He("messageflow-start",te,xe),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:f(r,Z)},Oe=Fe(h,Me,Xe);if(_.messageRef){var Mt=Oe.getPointAtLength(Oe.getTotalLength()/2),sn=d.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Mt.x,y:Mt.y}}),tn={strokeWidth:1};D.messageVisibleKind==="initiating"?(tn.fill="white",tn.stroke=O):(tn.fill="#888",tn.stroke="white");var Gn=Fe(h,sn,tn),Sn=_.messageRef.name,Wn=en(h,Sn,{align:"center-top",fitBox:!0,style:{fill:f(r,Ve,Z)}}),Zn=Gn.getBBox(),Xn=Wn.getBBox(),Jn=Mt.x-Xn.width/2,Qn=Mt.y+Zn.height/2+Pt;(0,le.vs)(Wn,Jn,Qn,0)}return Oe},"bpmn:DataObject":function(h,r){var _=d.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.474,my:.296}}),D=Fe(h,_,{fill:R(r,re),fillOpacity:je,stroke:f(r,Z)}),te=U(r);return G(te)&&Yn(h,r),D},"bpmn:DataObjectReference":Mn("bpmn:DataObject"),"bpmn:DataInput":function(h,r){var _=d.getRawPath("DATA_ARROW"),D=Pe("bpmn:DataObject")(h,r);return Fe(h,_,{strokeWidth:1}),D},"bpmn:DataOutput":function(h,r){var _=d.getRawPath("DATA_ARROW"),D=Pe("bpmn:DataObject")(h,r);return Fe(h,_,{strokeWidth:1,fill:O}),D},"bpmn:DataStoreReference":function(h,r){var _=d.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:0,my:.133}}),D=Fe(h,_,{strokeWidth:2,fill:R(r,re),fillOpacity:je,stroke:f(r,Z)});return D},"bpmn:BoundaryEvent":function(h,r){var _=U(r),D=_.cancelActivity,te={strokeWidth:1,fill:R(r,re),stroke:f(r,Z)};D||(te.strokeDasharray="6",te.strokeLinecap="round");var xe=(0,m.assign)({},te,{fillOpacity:1}),Me=(0,m.assign)({},te,{fill:"none"}),Xe=Pe("bpmn:Event")(h,r,xe);return xt(h,r.width,r.height,Qe,Me),bn(r,h),Xe},"bpmn:Group":function(h,r){var _=pt(h,r.width,r.height,ge,{stroke:f(r,Z),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"});return _},label:function(h,r){return zn(h,r)},"bpmn:TextAnnotation":function(h,r){var _={fill:"none",stroke:"none"},D=pt(h,r.width,r.height,0,0,_),te=d.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:0,my:0}});Fe(h,te,{stroke:f(r,Z)});var xe=U(r).text||"";return en(h,xe,{box:r,align:"left-top",padding:5,style:{fill:W(r,Ve,Z)}}),D},ParticipantMultiplicityMarker:function(h,r){var _=d.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:r.width/2/r.width,my:(r.height-15)/r.height}});Zt("participant-multiplicity",h,_,{strokeWidth:2,fill:R(r,re),stroke:f(r,Z)})},SubProcessMarker:function(h,r){var _=pt(h,14,14,0,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z)});(0,le.Iu)(_,r.width/2-7.5,r.height-20);var D=d.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:r.width,containerHeight:r.height,position:{mx:(r.width/2-7.5)/r.width,my:(r.height-20)/r.height}});Zt("sub-process",h,D,{fill:R(r,re),stroke:f(r,Z)})},ParallelMarker:function(h,r,_){var D=d.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:(r.width/2+_.parallel)/r.width,my:(r.height-20)/r.height}});Zt("parallel",h,D,{fill:R(r,re),stroke:f(r,Z)})},SequentialMarker:function(h,r,_){var D=d.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:(r.width/2+_.seq)/r.width,my:(r.height-19)/r.height}});Zt("sequential",h,D,{fill:R(r,re),stroke:f(r,Z)})},CompensationMarker:function(h,r,_){var D=d.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:(r.width/2+_.compensation)/r.width,my:(r.height-13)/r.height}});Zt("compensation",h,D,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z)})},LoopMarker:function(h,r,_){var D=d.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:(r.width/2+_.loop)/r.width,my:(r.height-7)/r.height}});Zt("loop",h,D,{strokeWidth:1,fill:R(r,re),stroke:f(r,Z),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(h,r,_){var D=d.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:(r.width/2+_.adhoc)/r.width,my:(r.height-15)/r.height}});Zt("adhoc",h,D,{strokeWidth:1,fill:f(r,Z),stroke:f(r,Z)})}};function Dn(h,r,_){var D=U(r),te=_&&_.indexOf("SubProcessMarker")!==-1,xe;te?xe={seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:xe={seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},(0,m.forEach)(_,function(Oe){Pe(Oe)(h,r,xe)}),D.isForCompensation&&Pe("CompensationMarker")(h,r,xe),D.$type==="bpmn:AdHocSubProcess"&&Pe("AdhocMarker")(h,r,xe);var Me=D.loopCharacteristics,Xe=Me&&Me.isSequential;Me&&(Xe===void 0&&Pe("LoopMarker")(h,r,xe),Xe===!1&&Pe("ParallelMarker")(h,r,xe),Xe===!0&&Pe("SequentialMarker")(h,r,xe))}function Yn(h,r){var _=(r.height-18)/r.height,D=d.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:r.width,containerHeight:r.height,position:{mx:.33,my:_}});Fe(h,D,{strokeWidth:2})}this._drawPath=Fe,this._renderer=Pe}(0,a.Z)(ot,E.Z),ot.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],ot.prototype.canRender=function(c){return(0,s.is)(c,"bpmn:BaseElement")},ot.prototype.drawShape=function(c,b){var I=b.type,d=this._renderer(I);return d(c,b)},ot.prototype.drawConnection=function(c,b){var I=b.type,d=this._renderer(I);return d(c,b)},ot.prototype.getShapePath=function(c){return(0,s.is)(c,"bpmn:Event")?x(c):(0,s.is)(c,"bpmn:Activity")?F(c,ge):(0,s.is)(c,"bpmn:Gateway")?k(c):J(c)};var st=0,Ne={width:150,height:50};function bt(c){var b=c.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function Ee(c){return(0,m.isObject)(c)?(0,m.assign)({top:0,left:0,right:0,bottom:0},c):{top:c,left:c,right:c,bottom:c}}function he(c,b){b.textContent=c;var I;try{var d,z=c==="";return b.textContent=z?"dummy":c,I=b.getBBox(),d={width:I.width+I.x*2,height:I.height},z&&(d.width=0),d}catch(K){return{width:0,height:0}}}function y(c,b,I){for(var d=c.shift(),z=d,K;;){if(K=he(z,I),K.width=z?K.width:0,z===" "||z===""||K.width<Math.round(b)||z.length<2)return S(c,z,d,K);z=q(z,K.width,b)}}function S(c,b,I,d){if(b.length<I.length){var z=I.slice(b.length).trim();c.unshift(z)}return{width:d.width,height:d.height,text:b}}var v="\xAD";function L(c,b){var I=c.split(/(\s|-|\u00AD)/g),d,z=[],K=0;if(I.length>1)for(;d=I.shift();)if(d.length+K<b)z.push(d),K+=d.length;else{(d==="-"||d===v)&&z.pop();break}var pe=z[z.length-1];return pe&&pe===v&&(z[z.length-1]="-"),z.join("")}function q(c,b,I){var d=Math.max(c.length*(I/b),1),z=L(c,d);return z||(z=c.slice(0,Math.max(Math.round(d-1),1))),z}function ne(){var c=document.getElementById("helper-svg");return c||(c=(0,V.Ue)("svg"),(0,V.Lj)(c,{id:"helper-svg"}),(0,Q.i5)(c,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(c)),c}function ae(c){this._config=(0,m.assign)({},{size:Ne,padding:st,style:{},align:"center-top"},c||{})}ae.prototype.createText=function(c,b){return this.layoutText(c,b).element},ae.prototype.getDimensions=function(c,b){return this.layoutText(c,b).dimensions},ae.prototype.layoutText=function(c,b){var I=(0,m.assign)({},this._config.size,b.box),d=(0,m.assign)({},this._config.style,b.style),z=bt(b.align||this._config.align),K=Ee(b.padding!==void 0?b.padding:this._config.padding),pe=b.fitBox||!1,re=ue(d),Z=c.split(/\u00AD?\r?\n/),Ve=[],ut=I.width-K.left-K.right,ft=(0,V.Ue)("text");(0,V.Lj)(ft,{x:0,y:0}),(0,V.Lj)(ft,d);var rt=ne();for((0,V.R3)(rt,ft);Z.length;)Ve.push(y(Z,ut,ft));z.vertical==="middle"&&(K.top=K.bottom=0);var St=(0,m.reduce)(Ve,function(pt,Ft,Gt){return pt+(re||Ft.height)},0)+K.top+K.bottom,kt=(0,m.reduce)(Ve,function(pt,Ft,Gt){return Ft.width>pt?Ft.width:pt},0),He=K.top;z.vertical==="middle"&&(He+=(I.height-St)/2),He-=(re||Ve[0].height)/4;var Wt=(0,V.Ue)("text");(0,V.Lj)(Wt,d),(0,m.forEach)(Ve,function(pt){var Ft;switch(He+=re||pt.height,z.horizontal){case"left":Ft=K.left;break;case"right":Ft=(pe?kt:ut)-K.right-pt.width;break;default:Ft=Math.max(((pe?kt:ut)-pt.width)/2+K.left,0)}var Gt=(0,V.Ue)("tspan");(0,V.Lj)(Gt,{x:Ft,y:He}),Gt.textContent=pt.text,(0,V.R3)(Wt,Gt)}),(0,V.Od)(ft);var xt={width:kt,height:St};return{dimensions:xt,element:Wt}};function ue(c){if("fontSize"in c&&"lineHeight"in c)return c.lineHeight*parseInt(c.fontSize,10)}var T=12,B=1.2,$=30;function u(c){var b=(0,m.assign)({fontFamily:"Arial, sans-serif",fontSize:T,fontWeight:"normal",lineHeight:B},c&&c.defaultStyle||{}),I=parseInt(b.fontSize,10)-1,d=(0,m.assign)({},b,{fontSize:I},c&&c.externalStyle||{}),z=new ae({style:b});this.getExternalLabelBounds=function(K,pe){var re=z.getDimensions(pe,{box:{width:90,height:30,x:K.width/2+K.x,y:K.height/2+K.y},style:d});return{x:Math.round(K.x+K.width/2-re.width/2),y:Math.round(K.y),width:Math.ceil(re.width),height:Math.ceil(re.height)}},this.getTextAnnotationBounds=function(K,pe){var re=z.getDimensions(pe,{box:K,style:b,align:"left-top",padding:5});return{x:K.x,y:K.y,width:K.width,height:Math.max($,Math.round(re.height))}},this.createText=function(K,pe){return z.createText(K,pe||{})},this.getDefaultStyle=function(){return b},this.getExternalStyle=function(){return d}}u.$inject=["config.textRenderer"];function g(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(b){return this.pathMap[b].d},this.getScaledPath=function(b,I){var d=this.pathMap[b],z,K;I.abspos?(z=I.abspos.x,K=I.abspos.y):(z=I.containerWidth*I.position.mx,K=I.containerHeight*I.position.my);var pe={};if(I.position){for(var re=I.containerHeight/d.height*I.yScaleFactor,Z=I.containerWidth/d.width*I.xScaleFactor,Ve=0;Ve<d.heightElements.length;Ve++)pe["y"+Ve]=d.heightElements[Ve]*re;for(var ut=0;ut<d.widthElements.length;ut++)pe["x"+ut]=d.widthElements[ut]*Z}var ft=be(d.d,{mx:z,my:K,e:pe});return ft}}var w=/\{([^{}]+)\}/g,H=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function ce(c,b,I){var d=I;return b.replace(H,function(z,K,pe,re,Z){K=K||re,d&&(K in d&&(d=d[K]),typeof d=="function"&&Z&&(d=d()))}),d=(d==null||d==I?c:d)+"",d}function be(c,b){return String(c).replace(w,function(I,d){return ce(I,d,b)})}var Be={__init__:["bpmnRenderer"],bpmnRenderer:["type",ot],textRenderer:["type",u],pathMap:["type",g]},tt=A(99805),Ge=A(24507),Ze=A(90935),De=A(61658);function lt(c,b,I){return(0,m.assign)({id:c.id,type:c.$type,businessObject:c,di:b},I)}function at(c,b,I){var d=c.waypoint;return!d||d.length<2?[(0,Ze.wS)(b),(0,Ze.wS)(I)]:d.map(function(z){return{x:z.x,y:z.y}})}function Le(c,b,I,d){return new Error(c("element {element} referenced by {referenced}#{property} not yet drawn",{element:(0,De.x)(I),referenced:(0,De.x)(b),property:d}))}function qe(c,b,I,d,z,K){this._eventBus=c,this._canvas=b,this._elementFactory=I,this._elementRegistry=d,this._translate=z,this._textRenderer=K}qe.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],qe.prototype.add=function(c,b,I){var d,z=this._translate,K,pe;if((0,s.is)(b,"bpmndi:BPMNPlane")){var re=(0,s.is)(c,"bpmn:SubProcess")?{id:c.id+"_plane"}:{};d=this._elementFactory.createRoot(lt(c,b,re)),this._canvas.addRootElement(d)}else if((0,s.is)(b,"bpmndi:BPMNShape")){var Z=!(0,P.ul)(c,b),Ve=gn(c);K=I&&(I.hidden||I.collapsed);var ut=b.bounds;d=this._elementFactory.createShape(lt(c,b,{collapsed:Z,hidden:K,x:Math.round(ut.x),y:Math.round(ut.y),width:Math.round(ut.width),height:Math.round(ut.height),isFrame:Ve})),(0,s.is)(c,"bpmn:BoundaryEvent")&&this._attachBoundary(c,d),(0,s.is)(c,"bpmn:Lane")&&(pe=0),(0,s.is)(c,"bpmn:DataStoreReference")&&(jt(I,(0,Ze.wS)(ut))||(I=this._canvas.findRoot(I))),this._canvas.addShape(d,I,pe)}else if((0,s.is)(b,"bpmndi:BPMNEdge")){var ft=this._getSource(c),rt=this._getTarget(c);K=I&&(I.hidden||I.collapsed),d=this._elementFactory.createConnection(lt(c,b,{hidden:K,source:ft,target:rt,waypoints:at(b,ft,rt)})),(0,s.is)(c,"bpmn:DataAssociation")&&(I=this._canvas.findRoot(I)),this._canvas.addConnection(d,I,pe)}else throw new Error(z("unknown di {di} for element {semantic}",{di:(0,De.x)(b),semantic:(0,De.x)(c)}));return(0,Ge.ly)(c)&&(0,N.i)(d)&&this.addLabel(c,b,d),this._eventBus.fire("bpmnElement.added",{element:d}),d},qe.prototype._attachBoundary=function(c,b){var I=this._translate,d=c.attachedToRef;if(!d)throw new Error(I("missing {semantic}#attachedToRef",{semantic:(0,De.x)(c)}));var z=this._elementRegistry.get(d.id),K=z&&z.attachers;if(!z)throw Le(I,c,d,"attachedToRef");b.host=z,K||(z.attachers=K=[]),K.indexOf(b)===-1&&K.push(b)},qe.prototype.addLabel=function(c,b,I){var d,z,K;return d=(0,Ge.lq)(b,I),z=(0,N.i)(I),z&&(d=this._textRenderer.getExternalLabelBounds(d,z)),K=this._elementFactory.createLabel(lt(c,b,{id:c.id+"_label",labelTarget:I,type:"label",hidden:I.hidden||!(0,N.i)(I),x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height)})),this._canvas.addShape(K,I.parent)},qe.prototype._getEnd=function(c,b){var I,d,z=c.$type,K=this._translate;if(d=c[b+"Ref"],b==="source"&&z==="bpmn:DataInputAssociation"&&(d=d&&d[0]),(b==="source"&&z==="bpmn:DataOutputAssociation"||b==="target"&&z==="bpmn:DataInputAssociation")&&(d=c.$parent),I=d&&this._getElement(d),I)return I;throw d?Le(K,c,d,b+"Ref"):new Error(K("{semantic}#{side} Ref not specified",{semantic:(0,De.x)(c),side:b}))},qe.prototype._getSource=function(c){return this._getEnd(c,"source")},qe.prototype._getTarget=function(c){return this._getEnd(c,"target")},qe.prototype._getElement=function(c){return this._elementRegistry.get(c.id)};function jt(c,b){var I=b.x,d=b.y;return I>=c.x&&I<=c.x+c.width&&d>=c.y&&d<=c.y+c.height}function gn(c){return(0,s.is)(c,"bpmn:Group")}var zt={__depends__:[tt.Z],bpmnImporter:["type",qe]},Pn={__depends__:[Be,zt]},En=A(91945),Tt=A(18832),xn=A(83448),Qt=A(63594);function an(c,b){b.invoke(Qt.Z,this),this.executed(function(I){var d=I.context;d.rootElement?c.setRootElement(d.rootElement):d.rootElement=c.getRootElement()}),this.revert(function(I){var d=I.context;d.rootElement&&c.setRootElement(d.rootElement)})}(0,a.Z)(an,Qt.Z),an.$inject=["canvas","injector"];var Kt={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",an]},wn=A(89670),Rt=A(23826),_n="bjs-breadcrumbs-shown";function ln(c,b,I,d){var z=(0,Q.H6)('<ul class="bjs-breadcrumbs"></ul>'),K=d.getContainer(),pe=(0,Q.Sh)(K);K.appendChild(z);var re=[];c.on("element.changed",function(Ve){var ut=Ve.element,ft=(0,s.SS)(ut),rt=(0,m.find)(re,function(St){return St===ft});!rt||Z()});function Z(Ve){Ve&&(re=fn(Ve));var ut=re.map(function(rt){var St=(0,wn.r)(rt.name||rt.id),kt=(0,Q.H6)('<li><span class="bjs-crumb"><a title="'+St+'">'+St+"</a></span></li>"),He=d.findRoot((0,Rt.sU)(rt))||d.findRoot(rt.id);if(!He&&(0,s.is)(rt,"bpmn:Process")){var Wt=b.find(function(xt){var pt=(0,s.SS)(xt);return pt&&pt.processRef&&pt.processRef===rt});He=d.findRoot(Wt.id)}return kt.addEventListener("click",function(){d.setRootElement(He)}),kt});z.innerHTML="";var ft=ut.length>1;pe.toggle(_n,ft),ut.forEach(function(rt){z.appendChild(rt)})}c.on("root.set",function(Ve){Z(Ve.element)})}ln.$inject=["eventBus","elementRegistry","overlays","canvas"];function fn(c){for(var b=(0,s.SS)(c),I=[],d=b;d;d=d.$parent)((0,s.is)(d,"bpmn:SubProcess")||(0,s.is)(d,"bpmn:Process"))&&I.push(d);return I.reverse()}function It(c,b){var I=null,d=new Yt;c.on("root.set",function(z){var K=z.element,pe=b.viewbox(),re=d.get(K);if(d.set(I,{x:pe.x,y:pe.y,zoom:pe.scale}),I=K,!((0,s.is)(K,"bpmn:Collaboration")&&!re)){re=re||{x:0,y:0,zoom:1};var Z=(pe.x-re.x)*pe.scale,Ve=(pe.y-re.y)*pe.scale;(Z!==0||Ve!==0)&&b.scroll({dx:Z,dy:Ve}),re.zoom!==pe.scale&&b.zoom(re.zoom,{x:0,y:0})}}),c.on("diagram.clear",function(){d.clear(),I=null})}It.$inject=["eventBus","canvas"];function Yt(){this._entries=[],this.set=function(c,b){var I=!1;for(var d in this._entries)if(this._entries[d][0]===c){this._entries[d][1]=b,I=!0;break}I||this._entries.push([c,b])},this.get=function(c){for(var b in this._entries)if(this._entries[b][0]===c)return this._entries[b][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(c){var b=-1;for(var I in this._entries)if(this._entries[I][0]===c){b=I;break}b!==-1&&this._entries.splice(b,1)}}var on={x:180,y:160};function Nt(c,b){this._eventBus=c,this._moddle=b;var I=this;c.on("import.render.start",1500,function(d,z){I.handleImport(z.definitions)})}Nt.prototype.handleImport=function(c){if(!!c.diagrams){var b=this;this._definitions=c,this._processToDiagramMap={},c.diagrams.forEach(function(d){!d.plane||!d.plane.bpmnElement||(b._processToDiagramMap[d.plane.bpmnElement.id]=d)});var I=[];c.diagrams.forEach(function(d){var z=b.createNewDiagrams(d.plane);Array.prototype.push.apply(I,z)}),I.forEach(function(d){b.movePlaneElementsToOrigin(d.plane)})}},Nt.prototype.createNewDiagrams=function(c){var b=this,I=[],d=[];c.get("planeElement").forEach(function(K){var pe=K.bpmnElement;if(!!pe){var re=pe.$parent;(0,s.is)(pe,"bpmn:SubProcess")&&!K.isExpanded&&I.push(pe),Tn(pe,c)&&d.push({diElement:K,parent:re})}});var z=[];return I.forEach(function(K){if(!b._processToDiagramMap[K.id]){var pe=b.createDiagram(K);b._processToDiagramMap[K.id]=pe,z.push(pe)}}),d.forEach(function(K){for(var pe=K.diElement,re=K.parent;re&&I.indexOf(re)===-1;)re=re.$parent;if(!!re){var Z=b._processToDiagramMap[re.id];b.moveToDiPlane(pe,Z.plane)}}),z},Nt.prototype.movePlaneElementsToOrigin=function(c){var b=c.get("planeElement"),I=pn(c),d={x:I.x-on.x,y:I.y-on.y};b.forEach(function(z){z.waypoint?z.waypoint.forEach(function(K){K.x=K.x-d.x,K.y=K.y-d.y}):z.bounds&&(z.bounds.x=z.bounds.x-d.x,z.bounds.y=z.bounds.y-d.y)})},Nt.prototype.moveToDiPlane=function(c,b){var I=qt(c),d=I.plane.get("planeElement");d.splice(d.indexOf(c),1),b.get("planeElement").push(c)},Nt.prototype.createDiagram=function(c){var b=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:c}),I=this._moddle.create("bpmndi:BPMNDiagram",{plane:b});return b.$parent=I,b.bpmnElement=c,I.$parent=this._definitions,this._definitions.diagrams.push(I),I},Nt.$inject=["eventBus","moddle"];function qt(c){return(0,s.is)(c,"bpmndi:BPMNDiagram")?c:qt(c.$parent)}function pn(c){var b={top:Infinity,right:-Infinity,bottom:-Infinity,left:Infinity};return c.planeElement.forEach(function(I){if(!!I.bounds){var d=(0,Ze.JA)(I.bounds);b.top=Math.min(d.top,b.top),b.left=Math.min(d.left,b.left)}}),(0,Ze.z_)(b)}function Tn(c,b){var I=c.$parent;return!(!(0,s.is)(I,"bpmn:SubProcess")||I===b.bpmnElement||(0,s.JZ)(c,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var hn=250,Hn='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',Fn="bjs-drilldown-empty";function Ut(c,b,I,d){Qt.Z.call(this,b),this._canvas=c,this._eventBus=b,this._elementRegistry=I,this._overlays=d;var z=this;this.executed("shape.toggleCollapse",hn,function(K){var pe=K.shape;z.canDrillDown(pe)?z.addOverlay(pe):z.removeOverlay(pe)},!0),this.reverted("shape.toggleCollapse",hn,function(K){var pe=K.shape;z.canDrillDown(pe)?z.addOverlay(pe):z.removeOverlay(pe)},!0),this.executed(["shape.create","shape.move","shape.delete"],hn,function(K){var pe=K.oldParent,re=K.newParent||K.parent,Z=K.shape;z.canDrillDown(Z)&&z.addOverlay(Z),z.updateDrilldownOverlay(pe),z.updateDrilldownOverlay(re),z.updateDrilldownOverlay(Z)},!0),this.reverted(["shape.create","shape.move","shape.delete"],hn,function(K){var pe=K.oldParent,re=K.newParent||K.parent,Z=K.shape;z.canDrillDown(Z)&&z.addOverlay(Z),z.updateDrilldownOverlay(pe),z.updateDrilldownOverlay(re),z.updateDrilldownOverlay(Z)},!0),b.on("import.render.complete",function(){I.filter(function(K){return z.canDrillDown(K)}).map(function(K){z.addOverlay(K)})})}(0,a.Z)(Ut,Qt.Z),Ut.prototype.updateDrilldownOverlay=function(c){var b=this._canvas;if(!!c){var I=b.findRoot(c);I&&this.updateOverlayVisibility(I)}},Ut.prototype.canDrillDown=function(c){var b=this._canvas;return(0,s.is)(c,"bpmn:SubProcess")&&b.findRoot((0,Rt.sU)(c))},Ut.prototype.updateOverlayVisibility=function(c){var b=this._overlays,I=c.businessObject,d=b.get({element:I.id,type:"drilldown"})[0];if(!!d){var z=I&&I.flowElements&&I.flowElements.length;(0,Q.Sh)(d.html).toggle(Fn,!z)}},Ut.prototype.addOverlay=function(c){var b=this._canvas,I=this._overlays,d=I.get({element:c,type:"drilldown"});d.length&&this.removeOverlay(c);var z=(0,Q.H6)('<button class="bjs-drilldown">'+Hn+"</button>");z.addEventListener("click",function(){b.setRootElement(b.findRoot((0,Rt.sU)(c)))}),I.add(c,"drilldown",{position:{bottom:-7,right:-8},html:z}),this.updateOverlayVisibility(c)},Ut.prototype.removeOverlay=function(c){var b=this._overlays;b.remove({element:c,type:"drilldown"})},Ut.$inject=["canvas","eventBus","elementRegistry","overlays"];var $n={__depends__:[Tt.Z,xn.Z,Kt],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",ln],drilldownCentering:["type",It],drilldownOverlayBehavior:["type",Ut],subprocessCompatibility:["type",Nt]},dn=A(65654);function mn(c){dn.Z.call(this,c)}(0,a.Z)(mn,dn.Z),mn.prototype._modules=[Pn,tt.Z,En.Z,Tt.Z,$n],mn.prototype._moddleExtensions={}},94635:function(Re,se,A){"use strict";A.d(se,{i:function(){return P},l:function(){return N}});var a=A(14252);function m(s){if((0,a.is)(s,"bpmn:FlowElement")||(0,a.is)(s,"bpmn:Participant")||(0,a.is)(s,"bpmn:Lane")||(0,a.is)(s,"bpmn:SequenceFlow")||(0,a.is)(s,"bpmn:MessageFlow")||(0,a.is)(s,"bpmn:DataInput")||(0,a.is)(s,"bpmn:DataOutput"))return"name";if((0,a.is)(s,"bpmn:TextAnnotation"))return"text";if((0,a.is)(s,"bpmn:Group"))return"categoryValueRef"}function E(s){var p=s.categoryValueRef;return p&&p.value||""}function P(s){var p=s.businessObject,O=m(p);if(O)return O==="categoryValueRef"?E(p):p[O]||""}function N(s,p,O){var j=s.businessObject,M=m(j);return M&&(M==="categoryValueRef"?j.categoryValueRef.value=p:j[M]=p),s}},61658:function(Re,se,A){"use strict";A.d(se,{x:function(){return a}});function a(m){return m?"<"+m.$type+(m.id?' id="'+m.id:"")+'" />':"<null>"}},68990:function(Re,se,A){"use strict";A.d(se,{$:function(){return m},S:function(){return P}});var a=A(18670);function m(N){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var s=arguments.length;if(s>=1&&(0,a.isFunction)(arguments[s-1])){var p=arguments[s-1];console.warn(new Error("Passing callbacks to "+N.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var O=Array.prototype.slice.call(arguments,0,-1);N.apply(this,O).then(function(j){var M=Object.keys(j)[0];return p(null,j[M])},function(j){return p(j,j.warnings)})}else return N.apply(this,arguments)}}var E="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function P(N){(0,a.has)(N,"di")||Object.defineProperty(N,"di",{enumerable:!1,get:function(){throw new Error(E)}})}},87517:function(Re,se,A){"use strict";A.d(se,{ul:function(){return E},yU:function(){return P},J5:function(){return N},JG:function(){return s},sm:function(){return p},wQ:function(){return O},_Z:function(){return j}});var a=A(14252),m=A(18670);function E(M,G){return(0,a.is)(M,"bpmn:CallActivity")?!1:(0,a.is)(M,"bpmn:SubProcess")?(G=G||(0,a.DN)(M),G&&(0,a.is)(G,"bpmndi:BPMNPlane")?!0:G&&!!G.isExpanded):(0,a.is)(M,"bpmn:Participant")?!!(0,a.SS)(M).processRef:!0}function P(M){return M&&(0,a.SS)(M).isInterrupting!==!1}function N(M){return M&&!!(0,a.SS)(M).triggeredByEvent}function s(M,G){var U=(0,a.SS)(M),R=!1;return U.eventDefinitions&&(0,m.forEach)(U.eventDefinitions,function(f){(0,a.is)(f,G)&&(R=!0)}),R}function p(M){return s(M,"bpmn:ErrorEventDefinition")}function O(M){return s(M,"bpmn:EscalationEventDefinition")}function j(M){return s(M,"bpmn:CompensateEventDefinition")}},23826:function(Re,se,A){"use strict";A.d(se,{Ln:function(){return E},sU:function(){return P},UK:function(){return N},k3:function(){return s}});var a=A(14252),m="_plane";function E(j){var M=j.id;return O(M)}function P(j){var M=j.id;return(0,a.is)(j,"bpmn:SubProcess")?p(M):M}function N(j){return p(j)}function s(j){var M=(0,a.DN)(j);return(0,a.is)(M,"bpmndi:BPMNPlane")}function p(j){return j+m}function O(j){return j.replace(new RegExp(m+"$"),"")}},24507:function(Re,se,A){"use strict";A.d(se,{DN:function(){return E},ly:function(){return N},fF:function(){return s},qe:function(){return j},lq:function(){return M},j_:function(){return G}});var a=A(18670),m=A(14252),E={width:90,height:20},P=15;function N(U){return(0,m.is)(U,"bpmn:Event")||(0,m.is)(U,"bpmn:Gateway")||(0,m.is)(U,"bpmn:DataStoreReference")||(0,m.is)(U,"bpmn:DataObjectReference")||(0,m.is)(U,"bpmn:DataInput")||(0,m.is)(U,"bpmn:DataOutput")||(0,m.is)(U,"bpmn:SequenceFlow")||(0,m.is)(U,"bpmn:MessageFlow")||(0,m.is)(U,"bpmn:Group")}function s(U){return G(U.label)}function p(U){var R=U.length/2-1,f=U[Math.floor(R)],W=U[Math.ceil(R+.01)],x=O(U),F=Math.atan((W.y-f.y)/(W.x-f.x)),k=x.x,J=x.y;return Math.abs(F)<Math.PI/2?J-=P:k+=P,{x:k,y:J}}function O(U){var R=U.length/2-1,f=U[Math.floor(R)],W=U[Math.ceil(R+.01)];return{x:f.x+(W.x-f.x)/2,y:f.y+(W.y-f.y)/2}}function j(U){return U.waypoints?p(U.waypoints):(0,m.is)(U,"bpmn:Group")?{x:U.x+U.width/2,y:U.y+E.height/2}:{x:U.x+U.width/2,y:U.y+U.height+E.height/2}}function M(U,R){var f,W,x,F=U.label;return F&&F.bounds?(x=F.bounds,W={width:Math.max(E.width,x.width),height:x.height},f={x:x.x+x.width/2,y:x.y+x.height/2}):(f=j(R),W=E),(0,a.assign)({x:f.x-W.width/2,y:f.y-W.height/2},W)}function G(U){return U&&!!U.labelTarget}},14252:function(Re,se,A){"use strict";A.d(se,{is:function(){return m},JZ:function(){return E},SS:function(){return P},DN:function(){return N}});var a=A(18670);function m(s,p){var O=P(s);return O&&typeof O.$instanceOf=="function"&&O.$instanceOf(p)}function E(s,p){return(0,a.some)(p,function(O){return m(s,O)})}function P(s){return s&&s.businessObject||s}function N(s){return s&&s.di}},8269:function(Re,se,A){/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */(function(a,m){Re.exports=m(a)})(typeof A.g!="undefined"?A.g:this,function(a){if(a.CSS&&a.CSS.escape)return a.CSS.escape;var m=function(E){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var P=String(E),N=P.length,s=-1,p,O="",j=P.charCodeAt(0);++s<N;){if(p=P.charCodeAt(s),p==0){O+="\uFFFD";continue}if(p>=1&&p<=31||p==127||s==0&&p>=48&&p<=57||s==1&&p>=48&&p<=57&&j==45){O+="\\"+p.toString(16)+" ";continue}if(s==0&&N==1&&p==45){O+="\\"+P.charAt(s);continue}if(p>=128||p==45||p==95||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122){O+=P.charAt(s);continue}O+="\\"+P.charAt(s)}return O};return a.CSS||(a.CSS={}),a.CSS.escape=m,m})},63594:function(Re,se,A){"use strict";A.d(se,{Z:function(){return E}});var a=A(18670),m=1e3;function E(s){this._eventBus=s}E.$inject=["eventBus"];function P(s,p){return function(O){return s.call(p||null,O.context,O.command,O)}}E.prototype.on=function(s,p,O,j,M,G){if(((0,a.isFunction)(p)||(0,a.isNumber)(p))&&(G=M,M=j,j=O,O=p,p=null),(0,a.isFunction)(O)&&(G=M,M=j,j=O,O=m),(0,a.isObject)(M)&&(G=M,M=!1),!(0,a.isFunction)(j))throw new Error("handlerFn must be a function");(0,a.isArray)(s)||(s=[s]);var U=this._eventBus;(0,a.forEach)(s,function(R){var f=["commandStack",R,p].filter(function(W){return W}).join(".");U.on(f,O,M?P(j,G):j,G)})};var N=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,a.forEach)(N,function(s){E.prototype[s]=function(p,O,j,M,G){((0,a.isFunction)(p)||(0,a.isNumber)(p))&&(G=M,M=j,j=O,O=p,p=null),this.on(p,s,O,j,M,G)}})},75149:function(Re,se,A){"use strict";A.d(se,{Z:function(){return E}});var a=A(40043),m=A(18670);function E(){this._uid=12}E.prototype.createRoot=function(P){return this.create("root",P)},E.prototype.createLabel=function(P){return this.create("label",P)},E.prototype.createShape=function(P){return this.create("shape",P)},E.prototype.createConnection=function(P){return this.create("connection",P)},E.prototype.create=function(P,N){return N=(0,m.assign)({},N||{}),N.id||(N.id=P+"_"+this._uid++),(0,a.Ue)(P,N)}},76858:function(Re,se,A){"use strict";A.d(se,{Z:function(){return m}});var a=1e3;function m(E,P){var N=this;P=P||a,E.on(["render.shape","render.connection"],P,function(s,p){var O=s.type,j=p.element,M=p.gfx,G=p.attrs;if(N.canRender(j))return O==="render.shape"?N.drawShape(M,j,G):N.drawConnection(M,j,G)}),E.on(["render.getShapePath","render.getConnectionPath"],P,function(s,p){if(N.canRender(p))return s.type==="render.getShapePath"?N.getShapePath(p):N.getConnectionPath(p)})}m.prototype.canRender=function(){},m.prototype.drawShape=function(){},m.prototype.drawConnection=function(){},m.prototype.getShapePath=function(){},m.prototype.getConnectionPath=function(){}},83448:function(Re,se,A){"use strict";A.d(se,{Z:function(){return E}});var a=A(11490);function m(P,N,s,p){P.on("element.changed",function(O){var j=O.element;(j.parent||j===N.getRootElement())&&(O.gfx=s.getGraphics(j)),!!O.gfx&&P.fire((0,a.oL)(j)+".changed",O)}),P.on("elements.changed",function(O){var j=O.elements;j.forEach(function(M){P.fire("element.changed",{element:M})}),p.updateContainments(j)}),P.on("shape.changed",function(O){p.update("shape",O.element,O.gfx)}),P.on("connection.changed",function(O){p.update("connection",O.element,O.gfx)})}m.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var E={__init__:["changeSupport"],changeSupport:["type",m]}},40111:function(Re,se,A){"use strict";A.d(se,{Z:function(){return M}});var a=A(18670),m=A(9674),E=A(28157),P=A(17487),N=A(38230);function s(G){return!0}function p(G){return(0,E.Id)(G)||(0,E.L7)(G)}var O=500;function j(G,U,R){var f=this;function W(he,y,S){if(!k(he,y)){var v,L,q;S?L=U.getGraphics(S):(v=y.delegateTarget||y.target,v&&(L=v,S=U.get(L))),!(!L||!S)&&(q=G.fire(he,{element:S,gfx:L,originalEvent:y}),q===!1&&(y.stopPropagation(),y.preventDefault()))}}var x={};function F(he){return x[he]}function k(he,y){var S=Q[he]||E.Id;return!S(y)}var J={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},Q={"element.contextmenu":s,"element.mousedown":p,"element.mouseup":p,"element.click":p,"element.dblclick":p};function V(he,y,S){var v=J[he];if(!v)throw new Error("unmapped DOM event name <"+he+">");return W(v,y,S)}var le="svg, .djs-element";function _e(he,y,S,v){var L=x[S]=function(q){W(S,q)};v&&(Q[S]=v),L.$delegate=m.cl.bind(he,le,y,L)}function Ce(he,y,S){var v=F(S);!v||m.cl.unbind(he,y,v.$delegate)}function ge(he){(0,a.forEach)(J,function(y,S){_e(he,S,y)})}function Qe(he){(0,a.forEach)(J,function(y,S){Ce(he,S,y)})}G.on("canvas.destroy",function(he){Qe(he.svg)}),G.on("canvas.init",function(he){ge(he.svg)}),G.on(["shape.added","connection.added"],function(he){var y=he.element,S=he.gfx;G.fire("interactionEvents.createHit",{element:y,gfx:S})}),G.on(["shape.changed","connection.changed"],O,function(he){var y=he.element,S=he.gfx;G.fire("interactionEvents.updateHit",{element:y,gfx:S})}),G.on("interactionEvents.createHit",O,function(he){var y=he.element,S=he.gfx;f.createDefaultHit(y,S)}),G.on("interactionEvents.updateHit",function(he){var y=he.element,S=he.gfx;f.updateDefaultHit(y,S)});var je=Ne("djs-hit djs-hit-stroke"),mt=Ne("djs-hit djs-hit-click-stroke"),Pt=Ne("djs-hit djs-hit-all"),ot=Ne("djs-hit djs-hit-no-move"),st={all:Pt,"click-stroke":mt,stroke:je,"no-move":ot};function Ne(he,y){return y=(0,a.assign)({stroke:"white",strokeWidth:15},y||{}),R.cls(he,["no-fill","no-border"],y)}function bt(he,y){var S=st[y];if(!S)throw new Error("invalid hit type <"+y+">");return(0,P.Lj)(he,S),he}function Ee(he,y){(0,P.R3)(he,y)}this.removeHits=function(he){var y=(0,m.Kt)(".djs-hit",he);(0,a.forEach)(y,P.Od)},this.createDefaultHit=function(he,y){var S=he.waypoints,v=he.isFrame,L;return S?this.createWaypointsHit(y,S):(L=v?"stroke":"all",this.createBoxHit(y,L,{width:he.width,height:he.height}))},this.createWaypointsHit=function(he,y){var S=(0,N.W5)(y);return bt(S,"stroke"),Ee(he,S),S},this.createBoxHit=function(he,y,S){S=(0,a.assign)({x:0,y:0},S);var v=(0,P.Ue)("rect");return bt(v,y),(0,P.Lj)(v,S),Ee(he,v),v},this.updateDefaultHit=function(he,y){var S=(0,m.IO)(".djs-hit",y);if(!!S)return he.waypoints?(0,N.cq)(S,he.waypoints):(0,P.Lj)(S,{width:he.width,height:he.height}),S},this.fire=W,this.triggerMouseEvent=V,this.mouseHandler=F,this.registerEvent=_e,this.unregisterEvent=Ce}j.$inject=["eventBus","elementRegistry","styles"];var M={__init__:["interactionEvents"],interactionEvents:["type",j]}},52797:function(Re,se,A){"use strict";A.d(se,{Z:function(){return p}});var a=A(11490),m=A(17487),E=A(9674),P=A(18670),N=500;function s(O,j,M){this.offset=6;var G=j.cls("djs-outline",["no-fill"]),U=this;function R(f,W){var x=(0,m.Ue)("rect");return(0,m.Lj)(x,(0,P.assign)({x:10,y:10,rx:3,width:100,height:100},G)),(0,m.R3)(f,x),x}O.on(["shape.added","shape.changed"],N,function(f){var W=f.element,x=f.gfx,F=(0,E.IO)(".djs-outline",x);F||(F=R(x,W)),U.updateShapeOutline(F,W)}),O.on(["connection.added","connection.changed"],function(f){var W=f.element,x=f.gfx,F=(0,E.IO)(".djs-outline",x);F||(F=R(x,W)),U.updateConnectionOutline(F,W)})}s.prototype.updateShapeOutline=function(O,j){(0,m.Lj)(O,{x:-this.offset,y:-this.offset,width:j.width+this.offset*2,height:j.height+this.offset*2})},s.prototype.updateConnectionOutline=function(O,j){var M=(0,a.jY)(j);(0,m.Lj)(O,{x:M.x-this.offset,y:M.y-this.offset,width:M.width+this.offset*2,height:M.height+this.offset*2})},s.$inject=["eventBus","styles","elementRegistry"];var p={__init__:["outline"],outline:["type",s]}},18832:function(Re,se,A){"use strict";A.d(se,{Z:function(){return U}});var a=A(18670),m=A(9674),E=A(11490),P=A(72237),N=new P.Z("ov"),s=500;function p(R,f,W,x){this._eventBus=f,this._canvas=W,this._elementRegistry=x,this._ids=N,this._overlayDefaults=(0,a.assign)({show:null,scale:!0},R&&R.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=O(W.getContainer()),this._init()}p.$inject=["config.overlays","eventBus","canvas","elementRegistry"],p.prototype.get=function(R){if((0,a.isString)(R)&&(R={id:R}),(0,a.isString)(R.element)&&(R.element=this._elementRegistry.get(R.element)),R.element){var f=this._getOverlayContainer(R.element,!0);return f?R.type?(0,a.filter)(f.overlays,(0,a.matchPattern)({type:R.type})):f.overlays.slice():[]}else return R.type?(0,a.filter)(this._overlays,(0,a.matchPattern)({type:R.type})):R.id?this._overlays[R.id]:null},p.prototype.add=function(R,f,W){if((0,a.isObject)(f)&&(W=f,f=null),R.id||(R=this._elementRegistry.get(R)),!W.position)throw new Error("must specifiy overlay position");if(!W.html)throw new Error("must specifiy overlay html");if(!R)throw new Error("invalid element specified");var x=this._ids.next();return W=(0,a.assign)({},this._overlayDefaults,W,{id:x,type:f,element:R,html:W.html}),this._addOverlay(W),x},p.prototype.remove=function(R){var f=this.get(R)||[];(0,a.isArray)(f)||(f=[f]);var W=this;(0,a.forEach)(f,function(x){var F=W._getOverlayContainer(x.element,!0);if(x&&((0,m.Od)(x.html),(0,m.Od)(x.htmlContainer),delete x.htmlContainer,delete x.element,delete W._overlays[x.id]),F){var k=F.overlays.indexOf(x);k!==-1&&F.overlays.splice(k,1)}})},p.prototype.show=function(){M(this._overlayRoot)},p.prototype.hide=function(){M(this._overlayRoot,!1)},p.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,m.ZH)(this._overlayRoot)},p.prototype._updateOverlayContainer=function(R){var f=R.element,W=R.html,x=f.x,F=f.y;if(f.waypoints){var k=(0,E.jY)(f);x=k.x,F=k.y}j(W,x,F),(0,m.Lj)(R.html,"data-container-id",f.id)},p.prototype._updateOverlay=function(R){var f=R.position,W=R.htmlContainer,x=R.element,F=f.left,k=f.top;if(f.right!==void 0){var J;x.waypoints?J=(0,E.jY)(x).width:J=x.width,F=f.right*-1+J}if(f.bottom!==void 0){var Q;x.waypoints?Q=(0,E.jY)(x).height:Q=x.height,k=f.bottom*-1+Q}j(W,F||0,k||0),this._updateOverlayVisibilty(R,this._canvas.viewbox())},p.prototype._createOverlayContainer=function(R){var f=(0,m.H6)('<div class="djs-overlays" />');(0,m.i5)(f,{position:"absolute"}),this._overlayRoot.appendChild(f);var W={html:f,element:R,overlays:[]};return this._updateOverlayContainer(W),this._overlayContainers.push(W),W},p.prototype._updateRoot=function(R){var f=R.scale||1,W="matrix("+[f,0,0,f,-1*R.x*f,-1*R.y*f].join(",")+")";G(this._overlayRoot,W)},p.prototype._getOverlayContainer=function(R,f){var W=(0,a.find)(this._overlayContainers,function(x){return x.element===R});return!W&&!f?this._createOverlayContainer(R):W},p.prototype._addOverlay=function(R){var f=R.id,W=R.element,x=R.html,F,k;x.get&&x.constructor.prototype.jquery&&(x=x.get(0)),(0,a.isString)(x)&&(x=(0,m.H6)(x)),k=this._getOverlayContainer(W),F=(0,m.H6)('<div class="djs-overlay" data-overlay-id="'+f+'">'),(0,m.i5)(F,{position:"absolute"}),F.appendChild(x),R.type&&(0,m.Sh)(F).add("djs-overlay-"+R.type);var J=this._canvas.findRoot(W),Q=this._canvas.getRootElement();M(F,J===Q),R.htmlContainer=F,k.overlays.push(R),k.html.appendChild(F),this._overlays[f]=R,this._updateOverlay(R),this._updateOverlayVisibilty(R,this._canvas.viewbox())},p.prototype._updateOverlayVisibilty=function(R,f){var W=R.show,x=this._canvas.findRoot(R.element),F=W&&W.minZoom,k=W&&W.maxZoom,J=R.htmlContainer,Q=this._canvas.getRootElement(),V=!0;(x!==Q||W&&((0,a.isDefined)(F)&&F>f.scale||(0,a.isDefined)(k)&&k<f.scale))&&(V=!1),M(J,V),this._updateOverlayScale(R,f)},p.prototype._updateOverlayScale=function(R,f){var W=R.scale,x,F,k=R.htmlContainer,J,Q="";W!==!0&&(W===!1?(x=1,F=1):(x=W.min,F=W.max),(0,a.isDefined)(x)&&f.scale<x&&(J=(1/f.scale||1)*x),(0,a.isDefined)(F)&&f.scale>F&&(J=(1/f.scale||1)*F)),(0,a.isDefined)(J)&&(Q="scale("+J+","+J+")"),G(k,Q)},p.prototype._updateOverlaysVisibilty=function(R){var f=this;(0,a.forEach)(this._overlays,function(W){f._updateOverlayVisibilty(W,R)})},p.prototype._init=function(){var R=this._eventBus,f=this;function W(x){f._updateRoot(x),f._updateOverlaysVisibilty(x),f.show()}R.on("canvas.viewbox.changing",function(x){f.hide()}),R.on("canvas.viewbox.changed",function(x){W(x.viewbox)}),R.on(["shape.remove","connection.remove"],function(x){var F=x.element,k=f.get({element:F});(0,a.forEach)(k,function(V){f.remove(V.id)});var J=f._getOverlayContainer(F);if(J){(0,m.Od)(J.html);var Q=f._overlayContainers.indexOf(J);Q!==-1&&f._overlayContainers.splice(Q,1)}}),R.on("element.changed",s,function(x){var F=x.element,k=f._getOverlayContainer(F,!0);k&&((0,a.forEach)(k.overlays,function(J){f._updateOverlay(J)}),f._updateOverlayContainer(k))}),R.on("element.marker.update",function(x){var F=f._getOverlayContainer(x.element,!0);F&&(0,m.Sh)(F.html)[x.add?"add":"remove"](x.marker)}),R.on("root.set",function(){f._updateOverlaysVisibilty(f._canvas.viewbox())}),R.on("diagram.clear",this.clear,this)};function O(R){var f=(0,m.H6)('<div class="djs-overlay-container" />');return(0,m.i5)(f,{position:"absolute",width:0,height:0}),R.insertBefore(f,R.firstChild),f}function j(R,f,W){(0,m.i5)(R,{left:f+"px",top:W+"px"})}function M(R,f){R.style.display=f===!1?"none":""}function G(R,f){R.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(W){R.style[W+"transform"]=f})}var U={__init__:["overlays"],overlays:["type",p]}},91945:function(Re,se,A){"use strict";A.d(se,{Z:function(){return W}});var a=A(40111),m=A(52797),E=A(18670);function P(x,F){this._eventBus=x,this._canvas=F,this._selectedElements=[];var k=this;x.on(["shape.remove","connection.remove"],function(J){var Q=J.element;k.deselect(Q)}),x.on(["diagram.clear","root.set"],function(J){k.select(null)})}P.$inject=["eventBus","canvas"],P.prototype.deselect=function(x){var F=this._selectedElements,k=F.indexOf(x);if(k!==-1){var J=F.slice();F.splice(k,1),this._eventBus.fire("selection.changed",{oldSelection:J,newSelection:F})}},P.prototype.get=function(){return this._selectedElements},P.prototype.isSelected=function(x){return this._selectedElements.indexOf(x)!==-1},P.prototype.select=function(x,F){var k=this._selectedElements,J=k.slice();(0,E.isArray)(x)||(x=x?[x]:[]);var Q=this._canvas,V=Q.getRootElement();x=x.filter(function(le){var _e=Q.findRoot(le);return V===_e}),F?(0,E.forEach)(x,function(le){k.indexOf(le)===-1&&k.push(le)}):this._selectedElements=k=x.slice(),this._eventBus.fire("selection.changed",{oldSelection:J,newSelection:k})};var N=A(17487),s=A(11490),p="hover",O="selected",j=6;function M(x,F,k){this._canvas=x;var J=this;this._multiSelectionBox=null;function Q(le,_e){x.addMarker(le,_e)}function V(le,_e){x.removeMarker(le,_e)}F.on("element.hover",function(le){Q(le.element,p)}),F.on("element.out",function(le){V(le.element,p)}),F.on("selection.changed",function(le){function _e(je){V(je,O)}function Ce(je){Q(je,O)}var ge=le.oldSelection,Qe=le.newSelection;(0,E.forEach)(ge,function(je){Qe.indexOf(je)===-1&&_e(je)}),(0,E.forEach)(Qe,function(je){ge.indexOf(je)===-1&&Ce(je)}),J._updateSelectionOutline(Qe)}),F.on("element.changed",function(le){k.isSelected(le.element)&&J._updateSelectionOutline(k.get())})}M.$inject=["canvas","eventBus","selection"],M.prototype._updateSelectionOutline=function(x){var F=this._canvas.getLayer("selectionOutline");(0,N.ZH)(F);var k=x.length>1,J=this._canvas.getContainer();if((0,N.Sh)(J)[k?"add":"remove"]("djs-multi-select"),!!k){var Q=G((0,s.jY)(x)),V=(0,N.Ue)("rect");(0,N.Lj)(V,(0,E.assign)({rx:3},Q)),(0,N.Sh)(V).add("djs-selection-outline"),(0,N.R3)(F,V)}};function G(x){return{x:x.x-j,y:x.y-j,width:x.width+j*2,height:x.height+j*2}}var U=A(28157);function R(x,F,k,J){x.on("create.end",500,function(Q){var V=Q.context,le=V.canExecute,_e=V.elements,Ce=V.hints||{},ge=Ce.autoSelect;if(le){if(ge===!1)return;(0,E.isArray)(ge)?F.select(ge):F.select(_e.filter(f))}}),x.on("connect.end",500,function(Q){var V=Q.context,le=V.connection;le&&F.select(le)}),x.on("shape.move.end",500,function(Q){var V=Q.previousSelection||[],le=J.get(Q.context.shape.id),_e=(0,E.find)(V,function(Ce){return le.id===Ce.id});_e||F.select(le)}),x.on("element.click",function(Q){if(!!(0,U.Id)(Q)){var V=Q.element;V===k.getRootElement()&&(V=null);var le=F.isSelected(V),_e=F.get().length>1,Ce=(0,U.RJ)(Q)||(0,U.Dw)(Q);if(le&&_e)return Ce?F.deselect(V):F.select(V);le?F.deselect(V):F.select(V,Ce)}})}R.$inject=["eventBus","selection","canvas","elementRegistry"];function f(x){return!x.hidden}var W={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a.Z,m.Z],selection:["type",P],selectionVisuals:["type",M],selectionBehavior:["type",R]}},99805:function(Re,se,A){"use strict";A.d(se,{Z:function(){return m}});function a(E,P){return P=P||{},E.replace(/{([^}]+)}/g,function(N,s){return P[s]||"{"+s+"}"})}var m={translate:["value",a]}},90935:function(Re,se,A){"use strict";A.d(se,{aR:function(){return N},ex:function(){return s},JA:function(){return p},z_:function(){return O},wS:function(){return G},T8:function(){return U},Hz:function(){return R},Re:function(){return W}});var a=A(18670),m=A(51349),E=A(52720),P=A.n(E);function N(k){return{x:Math.round(k.x),y:Math.round(k.y),width:Math.round(k.width),height:Math.round(k.height)}}function s(k){return{x:Math.round(k.x),y:Math.round(k.y)}}function p(k){return{top:k.y,right:k.x+(k.width||0),bottom:k.y+(k.height||0),left:k.x}}function O(k){return{x:k.left,y:k.top,width:k.right-k.left,height:k.bottom-k.top}}function j(k){return s({x:k.x+(k.width||0)/2,y:k.y+(k.height||0)/2})}function M(k){for(var J=k.waypoints,Q=J.reduce(function(je,mt,Pt){var ot=J[Pt-1];if(ot){var st=je[je.length-1],Ne=st&&st.endLength||0,bt=x(ot,mt);je.push({start:ot,end:mt,startLength:Ne,endLength:Ne+bt,length:bt})}return je},[]),V=Q.reduce(function(je,mt){return je+mt.length},0),le=V/2,_e=0,Ce=Q[_e];Ce.endLength<le;)Ce=Q[++_e];var ge=(le-Ce.startLength)/Ce.length,Qe={x:Ce.start.x+(Ce.end.x-Ce.start.x)*ge,y:Ce.start.y+(Ce.end.y-Ce.start.y)*ge};return Qe}function G(k){return F(k)?M(k):j(k)}function U(k,J,Q){Q=Q||0,(0,a.isObject)(Q)||(Q={x:Q,y:Q});var V=p(k),le=p(J),_e=V.bottom+Q.y<=le.top,Ce=V.left-Q.x>=le.right,ge=V.top-Q.y>=le.bottom,Qe=V.right+Q.x<=le.left,je=_e?"top":ge?"bottom":null,mt=Qe?"left":Ce?"right":null;return mt&&je?je+"-"+mt:mt||je||"intersect"}function R(k,J,Q){var V=f(k,J);return V.length===1||V.length===2&&(0,m.tW)(V[0],V[1])<1?s(V[0]):V.length>1?(V=(0,a.sortBy)(V,function(le){var _e=Math.floor(le.t2*100)||1;return _e=100-_e,_e=(_e<10?"0":"")+_e,le.segment2+"#"+_e}),s(V[Q?0:V.length-1])):null}function f(k,J){return P()(k,J)}function W(k){k=k.slice();for(var J=0,Q,V,le;k[J];)Q=k[J],V=k[J-1],le=k[J+1],(0,m.tW)(Q,le)===0||(0,m.ZS)(V,le,Q)?k.splice(J,1):J++;return k}function x(k,J){return Math.sqrt(Math.pow(k.x-J.x,2)+Math.pow(k.y-J.y,2))}function F(k){return!!k.waypoints}},40043:function(Re,se,A){"use strict";A.d(se,{XY:function(){return M},__:function(){return R},Ue:function(){return x}});var a=A(18670),m=A(61066),E=A(71235),P=A.n(E),N=new(P())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),s=new(P())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),p=new(P())({name:"attachers",collection:!0},{name:"host"}),O=new(P())({name:"outgoing",collection:!0},{name:"source"}),j=new(P())({name:"incoming",collection:!0},{name:"target"});function M(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(F){var k=this.label,J=this.labels;!F&&k?J.remove(k):J.add(F,0)}}),N.bind(this,"parent"),s.bind(this,"labels"),O.bind(this,"outgoing"),j.bind(this,"incoming")}function G(){M.call(this),N.bind(this,"children"),p.bind(this,"host"),p.bind(this,"attachers")}(0,m.Z)(G,M);function U(){G.call(this)}(0,m.Z)(U,G);function R(){G.call(this),s.bind(this,"labelTarget")}(0,m.Z)(R,G);function f(){M.call(this),O.bind(this,"source"),j.bind(this,"target")}(0,m.Z)(f,M);var W={connection:f,shape:G,label:R,root:U};function x(F,k){var J=W[F];if(!J)throw new Error("unknown type: <"+F+">");return(0,a.assign)(new J,k)}},23892:function(Re,se,A){"use strict";A.d(se,{Z:function(){return j}});var a=A(15422),m=A(88053),E=A(53419),P=A(9674),N=A(90752),s=15;function p(M,G){var U;M.on("element.mousedown",500,function(x){return W(x.originalEvent)});function R(x){var F=U.start,k=U.button,J=(0,N.jt)(x),Q=(0,E.p)(J,F);if(!U.dragging&&O(Q)>s&&(U.dragging=!0,k===0&&(0,m.N)(M),(0,a.t8)("grab")),U.dragging){var V=U.last||U.start;Q=(0,E.p)(J,V),G.scroll({dx:Q.x,dy:Q.y}),U.last=J}x.preventDefault()}function f(x){P.B.unbind(document,"mousemove",R),P.B.unbind(document,"mouseup",f),U=null,(0,a.zN)()}function W(x){if(!(0,P.oq)(x.target,".djs-draggable")){var F=x.button;if(!(F>=2||x.ctrlKey||x.shiftKey||x.altKey))return U={button:F,start:(0,N.jt)(x)},P.B.bind(document,"mousemove",R),P.B.bind(document,"mouseup",f),!0}}this.isActive=function(){return!!U}}p.$inject=["eventBus","canvas"];function O(M){return Math.sqrt(Math.pow(M.x,2)+Math.pow(M.y,2))}var j={__init__:["moveCanvas"],moveCanvas:["type",p]}},88053:function(Re,se,A){"use strict";A.d(se,{N:function(){return m}});var a=5e3;function m(E,P){P=P||"element.click";function N(){return!1}return E.once(P,a,N),function(){E.off(P,N)}}},90943:function(Re,se,A){"use strict";A.d(se,{Od:function(){return a},IH:function(){return m},cq:function(){return E}});function a(P,N){if(!P||!N)return-1;var s=P.indexOf(N);return s!==-1&&P.splice(s,1),s}function m(P,N,s){if(!(!P||!N)){typeof s!="number"&&(s=-1);var p=P.indexOf(N);if(p!==-1){if(p===s)return;if(s!==-1)P.splice(p,1);else return}s!==-1?P.splice(s,0,N):P.push(N)}}function E(P,N){return!P||!N?-1:P.indexOf(N)}},15422:function(Re,se,A){"use strict";A.d(se,{t8:function(){return E},zN:function(){return P}});var a=A(9674),m=/^djs-cursor-.*$/;function E(s){var p=(0,a.Sh)(document.body);p.removeMatching(m),s&&p.add("djs-cursor-"+s)}function P(){E(null)}function N(s){var p=domClasses(document.body);return p.has("djs-cursor-"+s)}},11490:function(Re,se,A){"use strict";A.d(se,{cd:function(){return m},om:function(){return N},PB:function(){return O},vA:function(){return j},jY:function(){return M},RH:function(){return G},oL:function(){return U},He:function(){return R}});var a=A(18670);function m(W){return(0,a.filter)(W,function(x){return!(0,a.find)(W,function(F){return F!==x&&E(x,F)})})}function E(W,x){if(!!x){if(W===x)return x;if(!!W.parent)return E(W.parent,x)}}function P(W,x,F){var k=!F||W.indexOf(x)===-1;return k&&W.push(x),k}function N(W,x,F){F=F||0,(0,a.isArray)(W)||(W=[W]),(0,a.forEach)(W,function(k,J){var Q=x(k,J,F);(0,a.isArray)(Q)&&Q.length&&N(Q,x,F+1)})}function s(W,x,F){var k=[],J=[];return N(W,function(Q,V,le){P(k,Q,x);var _e=Q.children;if((F===-1||le<F)&&_e&&P(J,_e,x))return _e}),k}function p(W,x){return s(W,!x,1)}function O(W,x){return s(W,!x,-1)}function j(W,x,F){(0,a.isUndefined)(x)&&(x=!0),(0,a.isObject)(x)&&(F=x,x=!0),F=F||{};var k=f(F.allShapes),J=f(F.allConnections),Q=f(F.enclosedElements),V=f(F.enclosedConnections),le=f(F.topLevel,x&&(0,a.groupBy)(W,function(ge){return ge.id}));function _e(ge){le[ge.source.id]&&le[ge.target.id]&&(le[ge.id]=[ge]),k[ge.source.id]&&k[ge.target.id]&&(V[ge.id]=Q[ge.id]=ge),J[ge.id]=ge}function Ce(ge){if(Q[ge.id]=ge,ge.waypoints)V[ge.id]=J[ge.id]=ge;else return k[ge.id]=ge,(0,a.forEach)(ge.incoming,_e),(0,a.forEach)(ge.outgoing,_e),ge.children}return N(W,Ce),{allShapes:k,allConnections:J,topLevel:le,enclosedConnections:V,enclosedElements:Q}}function M(W,x){x=!!x,(0,a.isArray)(W)||(W=[W]);var F,k,J,Q;return(0,a.forEach)(W,function(V){var le=V;V.waypoints&&!x&&(le=M(V.waypoints,!0));var _e=le.x,Ce=le.y,ge=le.height||0,Qe=le.width||0;(_e<F||F===void 0)&&(F=_e),(Ce<k||k===void 0)&&(k=Ce),(_e+Qe>J||J===void 0)&&(J=_e+Qe),(Ce+ge>Q||Q===void 0)&&(Q=Ce+ge)}),{x:F,y:k,height:Q-k,width:J-F}}function G(W,x){var F={};return(0,a.forEach)(W,function(k){var J=k;J.waypoints&&(J=M(J)),!(0,a.isNumber)(x.y)&&J.x>x.x&&(F[k.id]=k),!(0,a.isNumber)(x.x)&&J.y>x.y&&(F[k.id]=k),J.x>x.x&&J.y>x.y&&((0,a.isNumber)(x.width)&&(0,a.isNumber)(x.height)&&J.width+J.x<x.width+x.x&&J.height+J.y<x.height+x.y||!(0,a.isNumber)(x.width)||!(0,a.isNumber)(x.height))&&(F[k.id]=k)}),F}function U(W){return"waypoints"in W?"connection":"x"in W?"shape":"root"}function R(W){return!!(W&&W.isFrame)}function f(W,x){return(0,a.assign)({},W||{},x||{})}},89670:function(Re,se,A){"use strict";A.d(se,{r:function(){return P}});var a=A(8269),m=A.n(a),E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function P(N){return N=""+N,N&&N.replace(/[&<>"']/g,function(s){return E[s]})}},90752:function(Re,se,A){"use strict";A.d(se,{Ku:function(){return m},UW:function(){return E},jt:function(){return P}});function a(N){!N||typeof N.stopPropagation!="function"||N.stopPropagation()}function m(N){return N.originalEvent||N.srcEvent}function E(N,s){a(N,s),a(m(N),s)}function P(N){return N.pointers&&N.pointers.length&&(N=N.pointers[0]),N.touches&&N.touches.length&&(N=N.touches[0]),N?{x:N.clientX,y:N.clientY}:null}},51349:function(Re,se,A){"use strict";A.d(se,{tW:function(){return m},ZS:function(){return E},Or:function(){return N},qr:function(){return O},SO:function(){return j}});var a=A(18670);function m(M,G){return!M||!G?-1:Math.sqrt(Math.pow(M.x-G.x,2)+Math.pow(M.y-G.y,2))}function E(M,G,U,R){if(typeof R=="undefined"&&(R=5),!M||!G||!U)return!1;var f=(G.x-M.x)*(U.y-M.y)-(G.y-M.y)*(U.x-M.x),W=m(M,G);return Math.abs(f/W)<=R}var P=2;function N(M,G){var U;return(0,a.isArray)(M)?U=M:U=[M,G],s(U)?"h":p(U)?"v":!1}function s(M,G){var U;(0,a.isArray)(M)?U=M:U=[M,G];var R=U.slice().shift();return(0,a.every)(U,function(f){return Math.abs(R.y-f.y)<=P})}function p(M,G){var U;(0,a.isArray)(M)?U=M:U=[M,G];var R=U.slice().shift();return(0,a.every)(U,function(f){return Math.abs(R.x-f.x)<=P})}function O(M,G,U){return U=U||0,M.x>G.x-U&&M.y>G.y-U&&M.x<G.x+G.width+U&&M.y<G.y+G.height+U}function j(M,G){return{x:Math.round(M.x+(G.x-M.x)/2),y:Math.round(M.y+(G.y-M.y)/2)}}},42023:function(Re,se,A){"use strict";A.d(se,{s:function(){return a},G:function(){return m}});function a(E){return E.childNodes[0]}function m(E){return E.parentNode.childNodes[1]}},72237:function(Re,se,A){"use strict";A.d(se,{Z:function(){return a}});function a(m){this._counter=0,this._prefix=(m?m+"-":"")+Math.floor(Math.random()*1e9)+"-"}a.prototype.next=function(){return this._prefix+ ++this._counter}},28157:function(Re,se,A){"use strict";A.d(se,{RJ:function(){return p},Dw:function(){return O},L7:function(){return N},Id:function(){return P}});var a=A(90752);function m(){return/mac/i.test(navigator.platform)}function E(j,M){return((0,a.Ku)(j)||j).button===M}function P(j){return E(j,0)}function N(j){return E(j,1)}function s(j){return E(j,2)}function p(j){var M=(0,a.Ku)(j)||j;return P(j)?m()?M.metaKey:M.ctrlKey:!1}function O(j){var M=(0,a.Ku)(j)||j;return P(j)&&M.shiftKey}},53419:function(Re,se,A){"use strict";A.d(se,{b:function(){return a},p:function(){return m}});function a(E){return{x:E.x+E.width/2,y:E.y+E.height/2}}function m(E,P){return{x:E.x-P.x,y:E.y-P.y}}},38230:function(Re,se,A){"use strict";A.d(se,{KO:function(){return m},W5:function(){return P},cq:function(){return N}});var a=A(17487);function m(s){return s.join(",").replace(/,?([A-z]),?/g,"$1")}function E(s){for(var p="",O=0,j;j=s[O];O++)p+=j.x+","+j.y+" ";return p}function P(s,p){var O=(0,a.Ue)("polyline");return(0,a.Lj)(O,{points:E(s)}),p&&(0,a.Lj)(O,p),O}function N(s,p){return(0,a.Lj)(s,{points:E(p)}),s}},62168:function(Re,se,A){"use strict";A.d(se,{vs:function(){return m},Iu:function(){return E},U1:function(){return P}});var a=A(17487);function m(s,p,O,j,M){var G=(0,a.pH)();G.setTranslate(p,O);var U=(0,a.pH)();U.setRotate(j||0,0,0);var R=(0,a.pH)();R.setScale(M||1,M||1),(0,a.vs)(s,[G,U,R])}function E(s,p,O){var j=(0,a.pH)();j.setTranslate(p,O),(0,a.vs)(s,j)}function P(s,p){var O=(0,a.pH)();O.setRotate(p,0,0),(0,a.vs)(s,O)}function N(s,p){var O=createTransform();O.setScale(p,p),svgTransform(s,O)}},3088:function(Re,se){"use strict";function A(E,P){return P={exports:{}},E(P,P.exports),P.exports}var a=A(function(E){var P=E.exports=function(N,s){if(s||(s=16),N===void 0&&(N=128),N<=0)return"0";for(var p=Math.log(Math.pow(2,N))/Math.log(s),O=2;p===Infinity;O*=2)p=Math.log(Math.pow(2,N/O))/Math.log(s)*O;for(var j=p-Math.floor(p),M="",O=0;O<Math.floor(p);O++){var G=Math.floor(Math.random()*s).toString(s);M=G+M}if(j){var U=Math.pow(s,j),G=Math.floor(Math.random()*U).toString(s);M=G+M}var R=parseInt(M,s);return R!==Infinity&&R>=Math.pow(2,N)?P(N,s):M};P.rack=function(N,s,p){var O=function(M){var G=0;do{if(G++>10)if(p)N+=p;else throw new Error("too many ID collisions, use more bits");var U=P(N,s)}while(Object.hasOwnProperty.call(j,U));return j[U]=M,U},j=O.hats={};return O.get=function(M){return O.hats[M]},O.set=function(M,G){return O.hats[M]=G,O},O.bits=N||128,O.base=s||16,O}});function m(E){if(!(this instanceof m))return new m(E);E=E||[128,36,1],this._seed=E.length?a.rack(E[0],E[1],E[2]):E}m.prototype.next=function(E){return this._seed(E||!0)},m.prototype.nextPrefixed=function(E,P){var N;do N=E+this.next(!0);while(this.assigned(N));return this.claim(N,P),N},m.prototype.claim=function(E,P){this._seed.set(E,P||!0)},m.prototype.assigned=function(E){return this._seed.get(E)||!1},m.prototype.unclaim=function(E){delete this._seed.hats[E]},m.prototype.clear=function(){var E=this._seed.hats,P;for(P in E)this.unclaim(P)},se.Z=m},61066:function(Re,se,A){"use strict";A.d(se,{Z:function(){return a}});function a(m,E){E&&(m.super_=E,m.prototype=Object.create(E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}},18670:function(Re,se,A){"use strict";A.r(se),A.d(se,{assign:function(){return v},bind:function(){return S},debounce:function(){return he},ensureArray:function(){return U},every:function(){return Q},filter:function(){return x},find:function(){return f},findIndex:function(){return W},flatten:function(){return a},forEach:function(){return F},get:function(){return q},groupBy:function(){return Qe},has:function(){return R},isArray:function(){return p},isDefined:function(){return N},isFunction:function(){return M},isNil:function(){return s},isNumber:function(){return j},isObject:function(){return O},isString:function(){return G},isUndefined:function(){return P},keys:function(){return _e},map:function(){return le},matchPattern:function(){return ot},merge:function(){return ue},omit:function(){return ae},pick:function(){return ne},reduce:function(){return J},set:function(){return L},size:function(){return Ce},some:function(){return V},sortBy:function(){return Pt},throttle:function(){return y},unionBy:function(){return mt},uniqueBy:function(){return je},values:function(){return ge},without:function(){return k}});function a(T){return Array.prototype.concat.apply([],T)}const m=Object.prototype.toString,E=Object.prototype.hasOwnProperty;function P(T){return T===void 0}function N(T){return T!==void 0}function s(T){return T==null}function p(T){return m.call(T)==="[object Array]"}function O(T){return m.call(T)==="[object Object]"}function j(T){return m.call(T)==="[object Number]"}function M(T){const B=m.call(T);return B==="[object Function]"||B==="[object AsyncFunction]"||B==="[object GeneratorFunction]"||B==="[object AsyncGeneratorFunction]"||B==="[object Proxy]"}function G(T){return m.call(T)==="[object String]"}function U(T){if(!p(T))throw new Error("must supply array")}function R(T,B){return E.call(T,B)}function f(T,B){B=Ne(B);let $;return F(T,function(u,g){if(B(u,g))return $=u,!1}),$}function W(T,B){B=Ne(B);let $=p(T)?-1:void 0;return F(T,function(u,g){if(B(u,g))return $=g,!1}),$}function x(T,B){let $=[];return F(T,function(u,g){B(u,g)&&$.push(u)}),$}function F(T,B){let $,u;if(P(T))return;const g=p(T)?Ee:bt;for(let w in T)if(R(T,w)&&($=T[w],u=B($,g(w)),u===!1))return $}function k(T,B){return P(T)?[]:(U(T),B=Ne(B),T.filter(function($,u){return!B($,u)}))}function J(T,B,$){return F(T,function(u,g){$=B($,u,g)}),$}function Q(T,B){return!!J(T,function($,u,g){return $&&B(u,g)},!0)}function V(T,B){return!!f(T,B)}function le(T,B){let $=[];return F(T,function(u,g){$.push(B(u,g))}),$}function _e(T){return T&&Object.keys(T)||[]}function Ce(T){return _e(T).length}function ge(T){return le(T,B=>B)}function Qe(T,B,$={}){return B=st(B),F(T,function(u){let g=B(u)||"_",w=$[g];w||(w=$[g]=[]),w.push(u)}),$}function je(T,...B){T=st(T);let $={};return F(B,g=>Qe(g,T,$)),le($,function(g,w){return g[0]})}const mt=je;function Pt(T,B){B=st(B);let $=[];return F(T,function(u,g){let w=B(u,g),H={d:w,v:u};for(var ce=0;ce<$.length;ce++){let{d:be}=$[ce];if(w<be){$.splice(ce,0,H);return}}$.push(H)}),le($,u=>u.v)}function ot(T){return function(B){return Q(T,function($,u){return B[u]===$})}}function st(T){return M(T)?T:B=>B[T]}function Ne(T){return M(T)?T:B=>B===T}function bt(T){return T}function Ee(T){return Number(T)}function he(T,B){let $,u,g,w;function H(Ge){let Ze=Date.now(),De=Ge?0:w+B-Ze;if(De>0)return ce(De);T.apply(g,u),be()}function ce(Ge){$=setTimeout(H,Ge)}function be(){$&&clearTimeout($),$=w=u=g=void 0}function Be(){$&&H(!0),be()}function tt(...Ge){w=Date.now(),u=Ge,g=this,$||ce(B)}return tt.flush=Be,tt.cancel=be,tt}function y(T,B){let $=!1;return function(...u){$||(T(...u),$=!0,setTimeout(()=>{$=!1},B))}}function S(T,B){return T.bind(B)}function v(T,...B){return Object.assign(T,...B)}function L(T,B,$){let u=T;return F(B,function(g,w){if(typeof g!="number"&&typeof g!="string")throw new Error("illegal key type: "+typeof g+". Key should be of type number or string.");if(g==="constructor")throw new Error("illegal key: constructor");if(g==="__proto__")throw new Error("illegal key: __proto__");let H=B[w+1],ce=u[g];N(H)&&s(ce)&&(ce=u[g]=isNaN(+H)?{}:[]),P(H)?P($)?delete u[g]:u[g]=$:u=ce}),T}function q(T,B,$){let u=T;return F(B,function(g){if(s(u))return u=void 0,!1;u=u[g]}),P(u)?$:u}function ne(T,B){let $={},u=Object(T);return F(B,function(g){g in u&&($[g]=T[g])}),$}function ae(T,B){let $={},u=Object(T);return F(u,function(g,w){B.indexOf(w)===-1&&($[w]=g)}),$}function ue(T,...B){return B.length&&F(B,function($){!$||!O($)||F($,function(u,g){if(g==="__proto__")return;let w=T[g];O(u)?(O(w)||(w={}),T[g]=ue(w,u)):T[g]=u})}),T}},9674:function(Re,se,A){"use strict";A.d(se,{i5:function(){return M},Lj:function(){return G},Sh:function(){return R},ZH:function(){return W},oq:function(){return F},cl:function(){return mt},H6:function(){return Ee},B:function(){return Ce},wB:function(){return x},IO:function(){return he},Kt:function(){return y},Od:function(){return S}});function a(v,L){return L.forEach(function(q){q&&typeof q!="string"&&!Array.isArray(q)&&Object.keys(q).forEach(function(ne){if(ne!=="default"&&!(ne in v)){var ae=Object.getOwnPropertyDescriptor(q,ne);Object.defineProperty(v,ne,ae.get?ae:{enumerable:!0,get:function(){return q[ne]}})}})}),Object.freeze(v)}const m=Object.prototype.toString,E=Object.prototype.hasOwnProperty;function P(v){return v===void 0}function N(v){return m.call(v)==="[object Array]"}function s(v,L){return E.call(v,L)}function p(v,L){let q,ne;if(P(v))return;const ae=N(v)?j:O;for(let ue in v)if(s(v,ue)&&(q=v[ue],ne=L(q,ae(ue)),ne===!1))return q}function O(v){return v}function j(v){return Number(v)}function M(v,...L){const q=v.style;return p(L,function(ne){!ne||p(ne,function(ae,ue){q[ue]=ae})}),v}function G(v,L,q){return arguments.length==2?v.getAttribute(L):q===null?v.removeAttribute(L):(v.setAttribute(L,q),v)}const U=Object.prototype.toString;function R(v){return new f(v)}function f(v){if(!v||!v.nodeType)throw new Error("A DOM element reference is required");this.el=v,this.list=v.classList}f.prototype.add=function(v){return this.list.add(v),this},f.prototype.remove=function(v){return U.call(v)=="[object RegExp]"?this.removeMatching(v):(this.list.remove(v),this)},f.prototype.removeMatching=function(v){const L=this.array();for(let q=0;q<L.length;q++)v.test(L[q])&&this.remove(L[q]);return this},f.prototype.toggle=function(v,L){return typeof L!="undefined"?L!==this.list.toggle(v,L)&&this.list.toggle(v):this.list.toggle(v),this},f.prototype.array=function(){return Array.from(this.list)},f.prototype.has=f.prototype.contains=function(v){return this.list.contains(v)};function W(v){for(var L;v.childNodes.length;)L=v.childNodes[0],v.removeChild(L);return v}function x(v,L){return v&&typeof v.matches=="function"&&v.matches(L)}function F(v,L,q){for(var ne=q?v:v.parentNode;ne&&ne.nodeType!==document.DOCUMENT_NODE&&ne.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(x(ne,L))return ne;ne=ne.parentNode}return x(ne,L)?ne:null}var k={},J=window.addEventListener?"addEventListener":"attachEvent",Q=window.removeEventListener?"removeEventListener":"detachEvent",V=J!=="addEventListener"?"on":"",le=k.bind=function(v,L,q,ne){return v[J](V+L,q,ne||!1),q},_e=k.unbind=function(v,L,q,ne){return v[Q](V+L,q,ne||!1),q},Ce=a({__proto__:null,bind:le,unbind:_e,default:k},[k]),ge=["focus","blur"];function Qe(v,L,q,ne,ae){return ge.indexOf(q)!==-1&&(ae=!0),Ce.bind(v,q,function(ue){var T=ue.target||ue.srcElement;ue.delegateTarget=F(T,L,!0),ue.delegateTarget&&ne.call(v,ue)},ae)}function je(v,L,q,ne){return ge.indexOf(L)!==-1&&(ne=!0),Ce.unbind(v,L,q,ne)}var mt={bind:Qe,unbind:je},Pt=bt,ot=!1,st;typeof document!="undefined"&&(st=document.createElement("div"),st.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',ot=!st.getElementsByTagName("link").length,st=void 0);var Ne={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:ot?[1,"X<div>","</div>"]:[0,"",""]};Ne.td=Ne.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Ne.option=Ne.optgroup=[1,'<select multiple="multiple">',"</select>"],Ne.thead=Ne.tbody=Ne.colgroup=Ne.caption=Ne.tfoot=[1,"<table>","</table>"],Ne.polyline=Ne.ellipse=Ne.polygon=Ne.circle=Ne.text=Ne.line=Ne.path=Ne.rect=Ne.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function bt(v,L){if(typeof v!="string")throw new TypeError("String expected");L||(L=document);var q=/<([\w:]+)/.exec(v);if(!q)return L.createTextNode(v);v=v.replace(/^\s+|\s+$/g,"");var ne=q[1];if(ne=="body"){var $=L.createElement("html");return $.innerHTML=v,$.removeChild($.lastChild)}var ae=Object.prototype.hasOwnProperty.call(Ne,ne)?Ne[ne]:Ne._default,ue=ae[0],T=ae[1],B=ae[2],$=L.createElement("div");for($.innerHTML=T+v+B;ue--;)$=$.lastChild;if($.firstChild==$.lastChild)return $.removeChild($.firstChild);for(var u=L.createDocumentFragment();$.firstChild;)u.appendChild($.removeChild($.firstChild));return u}var Ee=Pt;function he(v,L){return L=L||document,L.querySelector(v)}function y(v,L){return L=L||document,L.querySelectorAll(v)}function S(v){v.parentNode&&v.parentNode.removeChild(v)}},71235:function(Re,se,A){Re.exports=A(48302),Re.exports.Collection=A(85048)},85048:function(Re){"use strict";function se(a,m,E,P){var N=E.inverse;return Object.defineProperty(a,"remove",{value:function(s){var p=this.indexOf(s);return p!==-1&&(this.splice(p,1),m.unset(s,N,P)),s}}),Object.defineProperty(a,"contains",{value:function(s){return this.indexOf(s)!==-1}}),Object.defineProperty(a,"add",{value:function(s,p){var O=this.indexOf(s);if(typeof p=="undefined"){if(O!==-1)return;p=this.length}O!==-1&&this.splice(O,1),this.splice(p,0,s),O===-1&&m.set(s,N,P)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function A(a){return a.__refs_collection===!0}Re.exports.extend=se,Re.exports.isExtended=A},48302:function(Re,se,A){"use strict";var a=A(85048);function m(s,p){return Object.prototype.hasOwnProperty.call(s,p.name||p)}function E(s,p,O){var j=a.extend(O[p.name]||[],s,p,O);Object.defineProperty(O,p.name,{enumerable:p.enumerable,value:j}),j.length&&j.forEach(function(M){s.set(M,p.inverse,O)})}function P(s,p,O){var j=p.inverse,M=O[p.name];Object.defineProperty(O,p.name,{configurable:p.configurable,enumerable:p.enumerable,get:function(){return M},set:function(G){if(G!==M){var U=M;M=null,U&&s.unset(U,j,O),M=G,s.set(M,j,O)}}})}function N(s,p){if(!(this instanceof N))return new N(s,p);s.inverse=p,p.inverse=s,this.props={},this.props[s.name]=s,this.props[p.name]=p}N.prototype.bind=function(s,p){if(typeof p=="string"){if(!this.props[p])throw new Error("no property <"+p+"> in ref");p=this.props[p]}p.collection?E(this,p,s):P(this,p,s)},N.prototype.ensureRefsCollection=function(s,p){var O=s[p.name];return a.isExtended(O)||E(this,p,s),O},N.prototype.ensureBound=function(s,p){m(s,p)||this.bind(s,p)},N.prototype.unset=function(s,p,O){s&&(this.ensureBound(s,p),p.collection?this.ensureRefsCollection(s,p).remove(O):s[p.name]=void 0)},N.prototype.set=function(s,p,O){s&&(this.ensureBound(s,p),p.collection?this.ensureRefsCollection(s,p).add(O):s[p.name]=O)},Re.exports=N},52720:function(Re){"use strict";var se=/,?([a-z]),?/gi,A=parseFloat,a=Math,m=a.PI,E=a.min,P=a.max,N=a.pow,s=a.abs,p=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,O=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,j=Array.isArray||function(y){return y instanceof Array};function M(y,S){return Object.prototype.hasOwnProperty.call(y,S)}function G(y){if(typeof y=="function"||Object(y)!==y)return y;var S=new y.constructor;for(var v in y)M(y,v)&&(S[v]=G(y[v]));return S}function U(y,S){for(var v=0,L=y.length;v<L;v++)if(y[v]===S)return y.push(y.splice(v,1)[0])}function R(y){function S(){var v=Array.prototype.slice.call(arguments,0),L=v.join("\u2400"),q=S.cache=S.cache||{},ne=S.count=S.count||[];return M(q,L)?(U(ne,L),q[L]):(ne.length>=1e3&&delete q[ne.shift()],ne.push(L),q[L]=y.apply(0,v),q[L])}return S}function f(y){if(!y)return null;var S=W(y);if(S.arr)return G(S.arr);var v={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},L=[];return j(y)&&j(y[0])&&(L=G(y)),L.length||String(y).replace(p,function(q,ne,ae){var ue=[],T=ne.toLowerCase();for(ae.replace(O,function(B,$){$&&ue.push(+$)}),T=="m"&&ue.length>2&&(L.push([ne].concat(ue.splice(0,2))),T="l",ne=ne=="m"?"l":"L");ue.length>=v[T]&&(L.push([ne].concat(ue.splice(0,v[T]))),!!v[T]););}),L.toString=W.toString,S.arr=G(L),L}function W(y){var S=W.ps=W.ps||{};return S[y]?S[y].sleep=100:S[y]={sleep:100},setTimeout(function(){for(var v in S)M(S,v)&&v!=y&&(S[v].sleep--,!S[v].sleep&&delete S[v])}),S[y]}function x(y,S,v,L){return arguments.length===1&&(S=y.y,v=y.width,L=y.height,y=y.x),{x:y,y:S,width:v,height:L,x2:y+v,y2:S+L}}function F(){return this.join(",").replace(se,"$1")}function k(y){var S=G(y);return S.toString=F,S}function J(y,S,v,L,q,ne,ae,ue,T){var B=1-T,$=N(B,3),u=N(B,2),g=T*T,w=g*T,H=$*y+u*3*T*v+B*3*T*T*q+w*ae,ce=$*S+u*3*T*L+B*3*T*T*ne+w*ue;return{x:Qe(H),y:Qe(ce)}}function Q(y){var S=Ee.apply(null,y);return x(S.x0,S.y0,S.x1-S.x0,S.y1-S.y0)}function V(y,S,v){return S>=y.x&&S<=y.x+y.width&&v>=y.y&&v<=y.y+y.height}function le(y,S){return y=x(y),S=x(S),V(S,y.x,y.y)||V(S,y.x2,y.y)||V(S,y.x,y.y2)||V(S,y.x2,y.y2)||V(y,S.x,S.y)||V(y,S.x2,S.y)||V(y,S.x,S.y2)||V(y,S.x2,S.y2)||(y.x<S.x2&&y.x>S.x||S.x<y.x2&&S.x>y.x)&&(y.y<S.y2&&y.y>S.y||S.y<y.y2&&S.y>y.y)}function _e(y,S,v,L,q){var ne=-3*S+9*v-9*L+3*q,ae=y*ne+6*S-12*v+6*L;return y*ae-3*S+3*v}function Ce(y,S,v,L,q,ne,ae,ue,T){T==null&&(T=1),T=T>1?1:T<0?0:T;for(var B=T/2,$=12,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],w=0,H=0;H<$;H++){var ce=B*u[H]+B,be=_e(ce,y,v,q,ae),Be=_e(ce,S,L,ne,ue),tt=be*be+Be*Be;w+=g[H]*a.sqrt(tt)}return B*w}function ge(y,S,v,L,q,ne,ae,ue){if(!(P(y,v)<E(q,ae)||E(y,v)>P(q,ae)||P(S,L)<E(ne,ue)||E(S,L)>P(ne,ue))){var T=(y*L-S*v)*(q-ae)-(y-v)*(q*ue-ne*ae),B=(y*L-S*v)*(ne-ue)-(S-L)*(q*ue-ne*ae),$=(y-v)*(ne-ue)-(S-L)*(q-ae);if(!!$){var u=Qe(T/$),g=Qe(B/$),w=+u.toFixed(2),H=+g.toFixed(2);if(!(w<+E(y,v).toFixed(2)||w>+P(y,v).toFixed(2)||w<+E(q,ae).toFixed(2)||w>+P(q,ae).toFixed(2)||H<+E(S,L).toFixed(2)||H>+P(S,L).toFixed(2)||H<+E(ne,ue).toFixed(2)||H>+P(ne,ue).toFixed(2)))return{x:u,y:g}}}}function Qe(y){return Math.round(y*1e11)/1e11}function je(y,S,v){var L=Q(y),q=Q(S);if(!le(L,q))return v?0:[];for(var ne=Ce.apply(0,y),ae=Ce.apply(0,S),ue=ot(y)?1:~~(ne/5)||1,T=ot(S)?1:~~(ae/5)||1,B=[],$=[],u={},g=v?0:[],w=0;w<ue+1;w++){var H=J.apply(0,y.concat(w/ue));B.push({x:H.x,y:H.y,t:w/ue})}for(w=0;w<T+1;w++)H=J.apply(0,S.concat(w/T)),$.push({x:H.x,y:H.y,t:w/T});for(w=0;w<ue;w++)for(var ce=0;ce<T;ce++){var be=B[w],Be=B[w+1],tt=$[ce],Ge=$[ce+1],Ze=s(Be.x-be.x)<.01?"y":"x",De=s(Ge.x-tt.x)<.01?"y":"x",lt=ge(be.x,be.y,Be.x,Be.y,tt.x,tt.y,Ge.x,Ge.y),at;if(lt){if(at=lt.x.toFixed(9)+"#"+lt.y.toFixed(9),u[at])continue;u[at]=!0;var Le=be.t+s((lt[Ze]-be[Ze])/(Be[Ze]-be[Ze]))*(Be.t-be.t),qe=tt.t+s((lt[De]-tt[De])/(Ge[De]-tt[De]))*(Ge.t-tt.t);Le>=0&&Le<=1&&qe>=0&&qe<=1&&(v?g++:g.push({x:lt.x,y:lt.y,t1:Le,t2:qe}))}}return g}function mt(y,S,v){y=he(y),S=he(S);for(var L,q,ne,ae,ue,T,B,$,u,g,w=v?0:[],H=0,ce=y.length;H<ce;H++){var be=y[H];if(be[0]=="M")L=ue=be[1],q=T=be[2];else{be[0]=="C"?(u=[L,q].concat(be.slice(1)),L=u[6],q=u[7]):(u=[L,q,L,q,ue,T,ue,T],L=ue,q=T);for(var Be=0,tt=S.length;Be<tt;Be++){var Ge=S[Be];if(Ge[0]=="M")ne=B=Ge[1],ae=$=Ge[2];else{Ge[0]=="C"?(g=[ne,ae].concat(Ge.slice(1)),ne=g[6],ae=g[7]):(g=[ne,ae,ne,ae,B,$,B,$],ne=B,ae=$);var Ze=je(u,g,v);if(v)w+=Ze;else{for(var De=0,lt=Ze.length;De<lt;De++)Ze[De].segment1=H,Ze[De].segment2=Be,Ze[De].bez1=u,Ze[De].bez2=g;w=w.concat(Ze)}}}}}return w}function Pt(y){var S=W(y);if(S.abs)return k(S.abs);if((!j(y)||!j(y&&y[0]))&&(y=f(y)),!y||!y.length)return[["M",0,0]];var v=[],L=0,q=0,ne=0,ae=0,ue=0,T;y[0][0]=="M"&&(L=+y[0][1],q=+y[0][2],ne=L,ae=q,ue++,v[0]=["M",L,q]);for(var B,$,u=ue,g=y.length;u<g;u++){if(v.push(B=[]),$=y[u],T=$[0],T!=T.toUpperCase())switch(B[0]=T.toUpperCase(),B[0]){case"A":B[1]=$[1],B[2]=$[2],B[3]=$[3],B[4]=$[4],B[5]=$[5],B[6]=+$[6]+L,B[7]=+$[7]+q;break;case"V":B[1]=+$[1]+q;break;case"H":B[1]=+$[1]+L;break;case"M":ne=+$[1]+L,ae=+$[2]+q;default:for(var w=1,H=$.length;w<H;w++)B[w]=+$[w]+(w%2?L:q)}else for(var ce=0,be=$.length;ce<be;ce++)B[ce]=$[ce];switch(T=T.toUpperCase(),B[0]){case"Z":L=+ne,q=+ae;break;case"H":L=B[1];break;case"V":q=B[1];break;case"M":ne=B[B.length-2],ae=B[B.length-1];default:L=B[B.length-2],q=B[B.length-1]}}return v.toString=F,S.abs=k(v),v}function ot(y){return y[0]===y[2]&&y[1]===y[3]&&y[4]===y[6]&&y[5]===y[7]}function st(y,S,v,L){return[y,S,v,L,v,L]}function Ne(y,S,v,L,q,ne){var ae=1/3,ue=2/3;return[ae*y+ue*v,ae*S+ue*L,ae*q+ue*v,ae*ne+ue*L,q,ne]}function bt(y,S,v,L,q,ne,ae,ue,T,B){var $=m*120/180,u=m/180*(+q||0),g=[],w,H=R(function(on,Nt,qt){var pn=on*a.cos(qt)-Nt*a.sin(qt),Tn=on*a.sin(qt)+Nt*a.cos(qt);return{x:pn,y:Tn}});if(B)at=B[0],Le=B[1],De=B[2],lt=B[3];else{w=H(y,S,-u),y=w.x,S=w.y,w=H(ue,T,-u),ue=w.x,T=w.y;var ce=(y-ue)/2,be=(S-T)/2,Be=ce*ce/(v*v)+be*be/(L*L);Be>1&&(Be=a.sqrt(Be),v=Be*v,L=Be*L);var tt=v*v,Ge=L*L,Ze=(ne==ae?-1:1)*a.sqrt(s((tt*Ge-tt*be*be-Ge*ce*ce)/(tt*be*be+Ge*ce*ce))),De=Ze*v*be/L+(y+ue)/2,lt=Ze*-L*ce/v+(S+T)/2,at=a.asin(((S-lt)/L).toFixed(9)),Le=a.asin(((T-lt)/L).toFixed(9));at=y<De?m-at:at,Le=ue<De?m-Le:Le,at<0&&(at=m*2+at),Le<0&&(Le=m*2+Le),ae&&at>Le&&(at=at-m*2),!ae&&Le>at&&(Le=Le-m*2)}var qe=Le-at;if(s(qe)>$){var jt=Le,gn=ue,zt=T;Le=at+$*(ae&&Le>at?1:-1),ue=De+v*a.cos(Le),T=lt+L*a.sin(Le),g=bt(ue,T,v,L,q,0,ae,gn,zt,[Le,jt,De,lt])}qe=Le-at;var Pn=a.cos(at),En=a.sin(at),Tt=a.cos(Le),xn=a.sin(Le),Qt=a.tan(qe/4),an=4/3*v*Qt,Kt=4/3*L*Qt,wn=[y,S],Rt=[y+an*En,S-Kt*Pn],_n=[ue+an*xn,T-Kt*Tt],ln=[ue,T];if(Rt[0]=2*wn[0]-Rt[0],Rt[1]=2*wn[1]-Rt[1],B)return[Rt,_n,ln].concat(g);g=[Rt,_n,ln].concat(g).join().split(",");for(var fn=[],It=0,Yt=g.length;It<Yt;It++)fn[It]=It%2?H(g[It-1],g[It],u).y:H(g[It],g[It+1],u).x;return fn}function Ee(y,S,v,L,q,ne,ae,ue){for(var T=[],B=[[],[]],$,u,g,w,H,ce,be,Be,tt=0;tt<2;++tt){if(tt==0?(u=6*y-12*v+6*q,$=-3*y+9*v-9*q+3*ae,g=3*v-3*y):(u=6*S-12*L+6*ne,$=-3*S+9*L-9*ne+3*ue,g=3*L-3*S),s($)<1e-12){if(s(u)<1e-12)continue;w=-g/u,0<w&&w<1&&T.push(w);continue}be=u*u-4*g*$,Be=a.sqrt(be),!(be<0)&&(H=(-u+Be)/(2*$),0<H&&H<1&&T.push(H),ce=(-u-Be)/(2*$),0<ce&&ce<1&&T.push(ce))}for(var Ge=T.length,Ze=Ge,De;Ge--;)w=T[Ge],De=1-w,B[0][Ge]=De*De*De*y+3*De*De*w*v+3*De*w*w*q+w*w*w*ae,B[1][Ge]=De*De*De*S+3*De*De*w*L+3*De*w*w*ne+w*w*w*ue;return B[0][Ze]=y,B[1][Ze]=S,B[0][Ze+1]=ae,B[1][Ze+1]=ue,B[0].length=B[1].length=Ze+2,{x0:E.apply(0,B[0]),y0:E.apply(0,B[1]),x1:P.apply(0,B[0]),y1:P.apply(0,B[1])}}function he(y){var S=W(y);if(S.curve)return k(S.curve);for(var v=Pt(y),L={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},q=function(w,H,ce){var be,Be;if(!w)return["C",H.x,H.y,H.x,H.y,H.x,H.y];switch(!(w[0]in{T:1,Q:1})&&(H.qx=H.qy=null),w[0]){case"M":H.X=w[1],H.Y=w[2];break;case"A":w=["C"].concat(bt.apply(0,[H.x,H.y].concat(w.slice(1))));break;case"S":ce=="C"||ce=="S"?(be=H.x*2-H.bx,Be=H.y*2-H.by):(be=H.x,Be=H.y),w=["C",be,Be].concat(w.slice(1));break;case"T":ce=="Q"||ce=="T"?(H.qx=H.x*2-H.qx,H.qy=H.y*2-H.qy):(H.qx=H.x,H.qy=H.y),w=["C"].concat(Ne(H.x,H.y,H.qx,H.qy,w[1],w[2]));break;case"Q":H.qx=w[1],H.qy=w[2],w=["C"].concat(Ne(H.x,H.y,w[1],w[2],w[3],w[4]));break;case"L":w=["C"].concat(st(H.x,H.y,w[1],w[2]));break;case"H":w=["C"].concat(st(H.x,H.y,w[1],H.y));break;case"V":w=["C"].concat(st(H.x,H.y,H.x,w[1]));break;case"Z":w=["C"].concat(st(H.x,H.y,H.X,H.Y));break}return w},ne=function(w,H){if(w[H].length>7){w[H].shift();for(var ce=w[H];ce.length;)ae[H]="A",w.splice(H++,0,["C"].concat(ce.splice(0,6)));w.splice(H,1),$=v.length}},ae=[],ue="",T="",B=0,$=v.length;B<$;B++){v[B]&&(ue=v[B][0]),ue!="C"&&(ae[B]=ue,B&&(T=ae[B-1])),v[B]=q(v[B],L,T),ae[B]!="A"&&ue=="C"&&(ae[B]="C"),ne(v,B);var u=v[B],g=u.length;L.x=u[g-2],L.y=u[g-1],L.bx=A(u[g-4])||L.x,L.by=A(u[g-3])||L.y}return S.curve=k(v),v}Re.exports=mt},17487:function(Re,se,A){"use strict";A.d(se,{R3:function(){return E},Lj:function(){return j},Sh:function(){return G},ZH:function(){return f},d9:function(){return W},Ue:function(){return Q},wz:function(){return je},pH:function(){return mt},db:function(){return S},Od:function(){return R},vs:function(){return $}});function a(u,g){if(u.ownerDocument!==g.ownerDocument)try{return g.ownerDocument.importNode(u,!0)}catch(w){}return u}function m(u,g){return g.appendChild(a(u,g))}function E(u,g){return m(g,u),u}var P=2,N={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":P,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":P,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function s(u,g){return N[g]?u.style[g]:u.getAttributeNS(null,g)}function p(u,g,w){var H=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ce=N[H];ce?(ce===P&&typeof w=="number"&&(w=String(w)+"px"),u.style[H]=w):u.setAttributeNS(null,g,w)}function O(u,g){var w=Object.keys(g),H,ce;for(H=0,ce;ce=w[H];H++)p(u,ce,g[ce])}function j(u,g,w){if(typeof g=="string")if(w!==void 0)p(u,g,w);else return s(u,g);else O(u,g);return u}const M=Object.prototype.toString;function G(u){return new U(u)}function U(u){if(!u||!u.nodeType)throw new Error("A DOM element reference is required");this.el=u,this.list=u.classList}U.prototype.add=function(u){return this.list.add(u),this},U.prototype.remove=function(u){return M.call(u)=="[object RegExp]"?this.removeMatching(u):(this.list.remove(u),this)},U.prototype.removeMatching=function(u){const g=this.array();for(let w=0;w<g.length;w++)u.test(g[w])&&this.remove(g[w]);return this},U.prototype.toggle=function(u,g){return typeof g!="undefined"?g!==this.list.toggle(u,g)&&this.list.toggle(u):this.list.toggle(u),this},U.prototype.array=function(){return Array.from(this.list)},U.prototype.has=U.prototype.contains=function(u){return this.list.contains(u)};function R(u){var g=u.parentNode;return g&&g.removeChild(u),u}function f(u){for(var g;g=u.firstChild;)R(g);return u}function W(u){return u.cloneNode(!0)}var x={svg:"http://www.w3.org/2000/svg"},F='<svg xmlns="'+x.svg+'"';function k(u){var g=!1;u.substring(0,4)==="<svg"?u.indexOf(x.svg)===-1&&(u=F+u.substring(4)):(u=F+">"+u+"</svg>",g=!0);var w=J(u);if(!g)return w;for(var H=document.createDocumentFragment(),ce=w.firstChild;ce.firstChild;)H.appendChild(ce.firstChild);return H}function J(u){var g;return g=new DOMParser,g.async=!1,g.parseFromString(u,"text/xml")}function Q(u,g){var w;return u.charAt(0)==="<"?(w=k(u).firstChild,w=document.importNode(w,!0)):w=document.createElementNS(x.svg,u),g&&j(w,g),w}function V(u,g,w,H){u.addEventListener(g,w,H)}function le(u,g,w,H){u.removeEventListener(g,w,H)}var _e=null;function Ce(){return _e===null&&(_e=Q("svg")),_e}function ge(u,g){var w,H,ce=Object.keys(g);for(w=0;H=ce[w];w++)u[H]=g[H];return u}function Qe(u,g){var w=Ce().createSVGPoint();switch(arguments.length){case 0:return w;case 2:u={x:u,y:g};break}return ge(w,u)}function je(u,g,w,H,ce,be){var Be=Ce().createSVGMatrix();switch(arguments.length){case 0:return Be;case 1:return ge(Be,u);case 6:return ge(Be,{a:u,b:g,c:w,d:H,e:ce,f:be})}}function mt(u){return u?Ce().createSVGTransformFromMatrix(u):Ce().createSVGTransform()}var Pt=/([&<>]{1})/g,ot=/([\n\r"]{1})/g,st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Ne(u,g){function w(H,ce){return st[ce]||ce}return u.replace(g,w)}function bt(u,g){var w,H,ce,be,Be;switch(u.nodeType){case 3:g.push(Ne(u.textContent,Pt));break;case 1:if(g.push("<",u.tagName),u.hasAttributes())for(ce=u.attributes,w=0,H=ce.length;w<H;++w)be=ce.item(w),g.push(" ",be.name,'="',Ne(be.value,ot),'"');if(u.hasChildNodes()){for(g.push(">"),Be=u.childNodes,w=0,H=Be.length;w<H;++w)bt(Be.item(w),g);g.push("</",u.tagName,">")}else g.push("/>");break;case 8:g.push("<!--",Ne(u.nodeValue,Pt),"-->");break;case 4:g.push("<![CDATA[",u.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+u.nodeType)}return g}function Ee(u,g){var w=k(g);if(f(u),!!g){y(w)||(w=w.documentElement);for(var H=v(w.childNodes),ce=0;ce<H.length;ce++)m(H[ce],u)}}function he(u){for(var g=u.firstChild,w=[];g;)bt(g,w),g=g.nextSibling;return w.join("")}function y(u){return u.nodeName==="#document-fragment"}function S(u,g){if(g!==void 0){try{Ee(u,g)}catch(w){throw new Error("error parsing SVG: "+w.message)}return u}else return he(u)}function v(u){return Array.prototype.slice.call(u)}function L(u,g){return u.querySelector(g)}function q(u,g){var w=u.querySelectorAll(g);return[].map.call(w,function(H){return H})}function ne(u,g){return g.insertBefore(a(u,g),g.firstChild||null)}function ae(u,g){return ne(g,u),u}function ue(u,g){return u.parentNode.replaceChild(a(g,u),u),g}function T(u,g){return g instanceof SVGMatrix?u.createSVGTransformFromMatrix(g):g}function B(u,g){var w,H;for(u.clear(),w=0;H=g[w];w++)u.appendItem(T(u,H))}function $(u,g){var w=u.transform.baseVal;return g&&(Array.isArray(g)||(g=[g]),B(w,g)),w.consolidate()}}}]);
