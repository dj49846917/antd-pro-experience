(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[139],{50019:function(b,h,o){"use strict";o.r(h);var u=o(57663),T=o(71577),n=o(39428),R=o(11849),m=o(3182),C=o(2824),f=o(5894),M=o(14159),e=o(67294),_=o(30381),v=o.n(_),l=o(40456),c=o(85893);function N(){var y=(0,e.useState)(function(){return[]}),S=(0,C.Z)(y,2),D=S[0],O=S[1],g=(0,e.useRef)(),U=(0,e.useRef)(),Z=(0,e.useState)(!1),Y=(0,C.Z)(Z,2),J=Y[0],I=Y[1],j=(0,e.useState)({}),P=(0,C.Z)(j,2),B=P[0],x=P[1],K=(0,e.useState)([]),L=(0,C.Z)(K,2),A=L[0],w=L[1];(0,e.useEffect)(function(){k(),z()},[]);var k=function(){var p=(0,m.Z)((0,n.Z)().mark(function a(){var t,r;return(0,n.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t={userId:"001"},I(!0),d.next=4,l.Z.getTableList(t);case 4:r=d.sent,I(!1),r&&r.success&&(r.data.list.map(function(i){return(0,R.Z)((0,R.Z)({},i),{},{ReportYearMonth:i.ReportYearMonth?v()(i.ReportYearMonth):null})}),w(r.data.list));case 7:case"end":return d.stop()}},a)}));return function(){return p.apply(this,arguments)}}(),z=function(){var a=[{id:"001",constantKey:"\u8D44\u4EA7\u8D1F\u503A\u8868",constantValue:"001",parentId:"1"},{id:"002",constantKey:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868",constantValue:"002",parentId:"2"},{id:"003",constantKey:"\u73B0\u91D1\u6D41\u91CF\u8868",constantValue:"003",parentId:"3"},{id:"004",constantKey:"\u8D22\u52A1\u6307\u6807\u8868",constantValue:"004",parentId:"4"}],t={};a.forEach(function(r){t[r.constantValue]={text:r.constantKey,status:r.constantValue}}),x(t)},F=[{title:"\u8D22\u52A1\u62A5\u8868\u7C7B\u578B",dataIndex:"ReportNm",valueType:"select",valueEnum:B,formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}},{title:"\u62A5\u8868\u65F6\u95F4",dataIndex:"ReportYearMonth",valueType:"dateTime",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}},{title:"\u62A5\u8868\u5468\u671F\u7C7B\u578B",dataIndex:"ReportCycleTypeCd",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,t,r,s){return[(0,c.jsx)("a",{onClick:function(){var i;s==null||(i=s.startEditable)===null||i===void 0||i.call(s,t.id)},children:"\u7F16\u8F91"},"editable"),(0,c.jsx)("a",{onClick:function(){var i,E,V=(i=g.current)===null||i===void 0?void 0:i.getFieldValue("table");(E=g.current)===null||E===void 0||E.setFieldsValue({table:V.filter(function($){return $.id!==t.id})})},children:"\u5220\u9664"},"delete")]}}],W=function(){var p=(0,m.Z)((0,n.Z)().mark(function a(t){var r;return(0,n.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t==null?void 0:t.validateFields();case 2:r=d.sent,console.log("result",r),r&&console.log("\u4FDD\u5B58");case 5:case"end":return d.stop()}},a)}));return function(t){return p.apply(this,arguments)}}();return(0,c.jsx)(f.A,{formRef:g,initialValues:{table:A},validateTrigger:"onBlur",submitter:{render:function(a,t){return console.log("props",a,t),[(0,c.jsx)(T.Z,{type:"primary",onClick:function(){return W(a.form)},children:"\u63D0\u4EA4"},"submit"),(0,c.jsx)(T.Z,{onClick:function(){var s;return(s=a.form)===null||s===void 0?void 0:s.resetFields()},children:"\u91CD\u7F6E"},"reset")]}},children:(0,c.jsx)(M.Z,{rowKey:"id",scroll:{x:960},editableFormRef:U,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",request:(0,m.Z)((0,n.Z)().mark(function p(){return(0,n.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:A});case 1:case"end":return t.stop()}},p)})),recordCreatorProps:{position:"bottom",record:function(){return{id:String(Date.now())}}},columns:F,editable:{type:"multiple",editableKeys:D,onChange:O,actionRender:function(a,t,r){return[r.save,r.delete]}}})})}h.default=N},40456:function(b,h,o){"use strict";o.d(h,{Z:function(){return f}});var u=o(11849),T={local:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},dev:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},prod:{API_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp"},API:{AUTH:"/auth/",BUSINESS:"/business/"}},n={LOGIN_TOKEN_STORAGE:"loginToken",BASE_URL:"https://www.fastmock.site/mock/f5d8d99de1a8ce59a932ad17a28ed974/temp",TABLE_LIST:"table_list",API:{AUTH:T.API.AUTH,BUSINESS:T.API.BUSINESS}},R={code:0,host:"4cAFRxJHwo2Pg2iGAgzEJ/xkAj/0VjxT1iCpl2ZwluLPvev2Bms=",message:"success",success:!0,timestamp:"2022-11-07 20:53:25",traceId:"8ad100f984516cc4018452271ca6000b",data:{list:[{id:"000001",ReportCycleTypeCd:"1",ReportYearMonth:"2021-02-08 18:29:45",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"000002",ReportCycleTypeCd:"3",ReportYearMonth:"1986-09-22 15:34:32",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"000003",ReportCycleTypeCd:"2",ReportYearMonth:"2015-01-25 12:31:12",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"000004",ReportCycleTypeCd:"4",ReportYearMonth:"2002-10-27 06:41:45",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"000005",ReportCycleTypeCd:"1",ReportYearMonth:"1975-12-25 10:54:41",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"000006",ReportCycleTypeCd:"4",ReportYearMonth:"1995-11-03 08:30:29",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"000007",ReportCycleTypeCd:"4",ReportYearMonth:"2000-03-24 03:40:01",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"000008",ReportCycleTypeCd:"3",ReportYearMonth:"2003-01-07 10:39:00",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"000009",ReportCycleTypeCd:"3",ReportYearMonth:"2005-02-23 23:54:26",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000010",ReportCycleTypeCd:"4",ReportYearMonth:"2004-01-20 07:19:32",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000011",ReportCycleTypeCd:"2",ReportYearMonth:"1981-08-08 07:40:03",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000012",ReportCycleTypeCd:"2",ReportYearMonth:"1982-10-09 22:09:32",ReportNm:"\u8D22\u52A1\u6307\u6807\u8868"},{id:"0000013",ReportCycleTypeCd:"4",ReportYearMonth:"1970-04-17 20:20:48",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000014",ReportCycleTypeCd:"1",ReportYearMonth:"1999-03-25 01:33:21",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000015",ReportCycleTypeCd:"3",ReportYearMonth:"2003-05-22 23:28:23",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000016",ReportCycleTypeCd:"4",ReportYearMonth:"2001-04-15 09:40:27",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000017",ReportCycleTypeCd:"4",ReportYearMonth:"1996-12-21 22:03:40",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000018",ReportCycleTypeCd:"2",ReportYearMonth:"2011-07-27 12:59:41",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000019",ReportCycleTypeCd:"4",ReportYearMonth:"1982-08-05 17:12:04",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000020",ReportCycleTypeCd:"3",ReportYearMonth:"2000-06-23 11:23:32",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000021",ReportCycleTypeCd:"2",ReportYearMonth:"2006-11-08 18:38:35",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000022",ReportCycleTypeCd:"3",ReportYearMonth:"2002-03-11 01:24:33",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000023",ReportCycleTypeCd:"1",ReportYearMonth:"2005-09-03 22:04:04",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000024",ReportCycleTypeCd:"3",ReportYearMonth:"2020-05-30 17:49:32",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000025",ReportCycleTypeCd:"4",ReportYearMonth:"2018-03-24 23:28:42",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000026",ReportCycleTypeCd:"2",ReportYearMonth:"1989-05-08 11:37:57",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000027",ReportCycleTypeCd:"3",ReportYearMonth:"1974-11-28 19:23:32",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000028",ReportCycleTypeCd:"2",ReportYearMonth:"2009-01-20 18:02:03",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000029",ReportCycleTypeCd:"3",ReportYearMonth:"1983-06-10 13:54:43",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000030",ReportCycleTypeCd:"2",ReportYearMonth:"2007-12-13 00:21:06",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000031",ReportCycleTypeCd:"4",ReportYearMonth:"2022-10-26 21:19:54",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000032",ReportCycleTypeCd:"1",ReportYearMonth:"2011-11-12 04:06:12",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000033",ReportCycleTypeCd:"2",ReportYearMonth:"1973-02-21 21:33:32",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000034",ReportCycleTypeCd:"2",ReportYearMonth:"2012-01-11 12:14:41",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000035",ReportCycleTypeCd:"1",ReportYearMonth:"2004-11-30 11:28:05",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000036",ReportCycleTypeCd:"1",ReportYearMonth:"2000-09-22 00:34:21",ReportNm:"\u8D22\u52A1\u6307\u6807\u8868"},{id:"0000037",ReportCycleTypeCd:"2",ReportYearMonth:"1985-01-18 07:52:37",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000038",ReportCycleTypeCd:"3",ReportYearMonth:"1970-05-06 00:17:48",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000039",ReportCycleTypeCd:"2",ReportYearMonth:"2003-09-05 03:27:43",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000040",ReportCycleTypeCd:"3",ReportYearMonth:"2016-05-26 21:43:39",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000041",ReportCycleTypeCd:"3",ReportYearMonth:"2019-07-14 05:43:32",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000042",ReportCycleTypeCd:"2",ReportYearMonth:"1978-11-06 05:26:47",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000043",ReportCycleTypeCd:"1",ReportYearMonth:"2020-11-08 19:24:34",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000044",ReportCycleTypeCd:"3",ReportYearMonth:"1997-12-07 00:30:57",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000045",ReportCycleTypeCd:"4",ReportYearMonth:"1991-10-10 04:12:16",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000046",ReportCycleTypeCd:"3",ReportYearMonth:"1975-01-02 12:46:05",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000047",ReportCycleTypeCd:"4",ReportYearMonth:"1986-01-28 01:57:25",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000048",ReportCycleTypeCd:"2",ReportYearMonth:"2020-01-10 00:35:10",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000049",ReportCycleTypeCd:"4",ReportYearMonth:"1972-09-06 18:39:12",ReportNm:"\u8D22\u52A1\u6307\u6807\u8868"},{id:"0000050",ReportCycleTypeCd:"4",ReportYearMonth:"1993-10-01 04:49:40",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000051",ReportCycleTypeCd:"1",ReportYearMonth:"2010-08-12 01:19:56",ReportNm:"\u5229\u6DA6\u53CA\u5229\u6DA6\u5206\u914D\u8868"},{id:"0000052",ReportCycleTypeCd:"2",ReportYearMonth:"1996-05-20 16:57:24",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000053",ReportCycleTypeCd:"1",ReportYearMonth:"2013-02-06 15:19:58",ReportNm:"\u8D44\u4EA7\u8D1F\u503A\u8868"},{id:"0000054",ReportCycleTypeCd:"1",ReportYearMonth:"1977-11-14 14:24:51",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"},{id:"0000055",ReportCycleTypeCd:"3",ReportYearMonth:"2015-08-08 02:25:58",ReportNm:"\u73B0\u91D1\u6D41\u91CF\u8868"}],pageSize:10,total:55,current:1}};R.data.pageSize=10,R.data.total=R.data.list.length,R.data.current=1;var m=R,C={getTableList:function(e){return new Promise(function(_,v){localStorage.getItem(n.TABLE_LIST)||localStorage.setItem(n.TABLE_LIST,JSON.stringify(m)),_(JSON.parse(localStorage.getItem(n.TABLE_LIST)))})},getList:function(e){return new Promise(function(_,v){localStorage.getItem(n.TABLE_LIST)||localStorage.setItem(n.TABLE_LIST,JSON.stringify(m));var l=JSON.parse(localStorage.getItem(n.TABLE_LIST)),c=Math.ceil(l.data.total/e.pageSize);if(c<1){_((0,u.Z)((0,u.Z)({},l),{},{data:{pageSize:e.pageSize,list:[],total:0,current:1}}));return}if(e.pageIndex===1){_((0,u.Z)((0,u.Z)({},l),{},{data:{pageSize:e.pageSize,list:l.data.list.filter(function(N,y){return y<e.pageIndex*e.pageSize}),total:l.data.total,current:e.pageIndex}}));return}_((0,u.Z)((0,u.Z)({},l),{},{data:{pageSize:e.pageSize,list:l.data.list.filter(function(N,y){return y>=(e.pageIndex-1)*e.pageSize&&y<e.pageIndex*e.pageSize}),total:l.data.total,current:e.pageIndex}}))})}},f=C}}]);
